<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets/app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:88,&quot;tests&quot;:198,&quot;passes&quot;:198,&quot;pending&quot;:0,&quot;failures&quot;:0,&quot;start&quot;:&quot;2022-10-20T09:08:48.904Z&quot;,&quot;end&quot;:&quot;2022-10-20T09:08:58.743Z&quot;,&quot;duration&quot;:9839,&quot;testsRegistered&quot;:220,&quot;passPercent&quot;:90,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:22,&quot;hasSkipped&quot;:true},&quot;results&quot;:[{&quot;uuid&quot;:&quot;5459cb88-d1ab-432e-96a9-612733d36ef8&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;fullTitle&quot;:&quot;\&quot;after each\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;getPlatformStub === null || getPlatformStub === void 0 ? void 0 : getPlatformStub.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6aff0b35-b92c-4920-a7da-cf2aad4ff7b8&quot;,&quot;parentUUID&quot;:&quot;5459cb88-d1ab-432e-96a9-612733d36ef8&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;fullTitle&quot;:&quot;\&quot;after each\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;if (appLauncherTest) {\n    projectsStorage_1.ProjectsStorage.delFolder(appLauncherTest.getWorkspaceFolder());\n}\nrn_extension_1.deactivate();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9d077d48-91bc-464c-bff8-ef17aaca29a4&quot;,&quot;parentUUID&quot;:&quot;5459cb88-d1ab-432e-96a9-612733d36ef8&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;fullTitle&quot;:&quot;\&quot;after each\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;fsHelper.removePathRecursivelySync(path.join(sampleReactNativeProjectDir, NODE_MODULES_FOLDER));\nif (appLauncherTest) {\n    projectsStorage_1.ProjectsStorage.delFolder(appLauncherTest.getWorkspaceFolder());\n}\nrn_extension_1.deactivate();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7a8b62af-ac0f-480b-9704-8c5e8b1d21a9&quot;,&quot;parentUUID&quot;:&quot;5459cb88-d1ab-432e-96a9-612733d36ef8&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;fullTitle&quot;:&quot;\&quot;after each\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;fsHelper.removePathRecursivelySync(sampleTestProjectDir);\nif (appLauncherTest) {\n    projectsStorage_1.ProjectsStorage.delFolder(appLauncherTest.getWorkspaceFolder());\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1b8f0dc1-276b-4083-849a-e663212d5542&quot;,&quot;parentUUID&quot;:&quot;5459cb88-d1ab-432e-96a9-612733d36ef8&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;fullTitle&quot;:&quot;\&quot;after each\&quot; hook in \&quot;{root}\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;fsHelper.removePathRecursivelySync(innerProjectDir);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8ddba82f-42d7-430b-b968-956894153cca&quot;,&quot;parentUUID&quot;:&quot;5459cb88-d1ab-432e-96a9-612733d36ef8&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should succeed on correct env&quot;,&quot;fullTitle&quot;:&quot;should succeed on correct env&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n                const tempdir = yield fs_1.promises.mkdtemp(path.join(os.tmpdir(), \&quot;foo\&quot;));\n                setEnv(tempdir);\n                const result = yield envTest();\n                assert(result.status === \&quot;success\&quot;);\n                restoreEnv();\n            })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;810081e1-6f94-4538-b4f7-cf686b5c6b7f&quot;,&quot;parentUUID&quot;:&quot;5459cb88-d1ab-432e-96a9-612733d36ef8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should fail on non existant path&quot;,&quot;fullTitle&quot;:&quot;should fail on non existant path&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n                setEnv(\&quot;/non-existant-path-abcd\&quot;);\n                const result = yield envTest();\n                assert(result.status === \&quot;failure\&quot;);\n                restoreEnv();\n            })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2afc5107-6614-4325-ae75-f36953d77819&quot;,&quot;parentUUID&quot;:&quot;5459cb88-d1ab-432e-96a9-612733d36ef8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should succeed on path with env values&quot;,&quot;fullTitle&quot;:&quot;should succeed on path with env values&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n                const varName = \&quot;some-weired-variable-abcd\&quot;;\n                const tempDir = yield fs_1.promises.mkdtemp(path.join(os.tmpdir(), \&quot;foo\&quot;));\n                yield fs_1.promises.mkdir(path.join(tempDir, \&quot;bar\&quot;));\n                process.env[varName] = \&quot;bar\&quot;;\n                setEnv(`${tempDir}/%${varName}%`);\n                const result = yield envTest();\n                assert(result.status === \&quot;partial-success\&quot;);\n                restoreEnv();\n                delete process.env[varName];\n            })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;28f91e7c-666e-4ea4-bef9-104fafa13eb1&quot;,&quot;parentUUID&quot;:&quot;5459cb88-d1ab-432e-96a9-612733d36ef8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;28bdb607-850f-4175-a866-5bff7cbf9974&quot;,&quot;title&quot;:&quot;reactNativeCDPProxy&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/cdp-proxy/reactNativeCDPProxy.test.js&quot;,&quot;file&quot;:&quot;/test/cdp-proxy/reactNativeCDPProxy.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;reactNativeCDPProxy\&quot;&quot;,&quot;fullTitle&quot;:&quot;reactNativeCDPProxy \&quot;before all\&quot; hook in \&quot;reactNativeCDPProxy\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1066,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n        proxy.setApplicationTargetPort(wsTargetPort);\n        yield proxy.initializeServer(new rnCDPMessageHandler_1.RnCDPMessageHandler(), cdpProxyLogLevel);\n        const server = yield vscode_cdp_proxy_1.Server.create({ host: \&quot;localhost\&quot;, port: wsTargetPort });\n        wsTargetServer = server;\n        server.onConnection(([connection, request]) =&gt; {\n            targetConnection = connection;\n        });\n        const proxyUri = yield new debuggerEndpointHelper_1.DebuggerEndpointHelper().getWSEndpoint(`http://${cdpProxyHostAddress}:${cdpProxyPort}`);\n        debugConnection = new vscode_cdp_proxy_1.Connection(yield vscode_cdp_proxy_1.WebSocketTransport.create(proxyUri));\n        // Due to the time limit, sooner or later this cycle will end\n        yield promise_1.PromiseUtil.waitUntil(() =&gt; !!targetConnection, 1000, 5000);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e0391339-e862-42f1-8cab-498b80517fd1&quot;,&quot;parentUUID&quot;:&quot;28bdb607-850f-4175-a866-5bff7cbf9974&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;reactNativeCDPProxy\&quot;&quot;,&quot;fullTitle&quot;:&quot;reactNativeCDPProxy \&quot;after all\&quot; hook in \&quot;reactNativeCDPProxy\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;if (targetConnection) {\n    targetConnection.close();\n    targetConnection = null;\n}\nif (debugConnection) {\n    debugConnection.close();\n    debugConnection = null;\n}\nproxy.stopServer();\nif (wsTargetServer) {\n    wsTargetServer.dispose();\n    wsTargetServer = null;\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f7cb5823-7660-4938-b9b0-6a20f9d7aee2&quot;,&quot;parentUUID&quot;:&quot;28bdb607-850f-4175-a866-5bff7cbf9974&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;ac1e7d11-229e-48ea-91ce-e51aeac8a72e&quot;,&quot;title&quot;:&quot;MessageHandlers&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/cdp-proxy/reactNativeCDPProxy.test.js&quot;,&quot;file&quot;:&quot;/test/cdp-proxy/reactNativeCDPProxy.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;7a8120e0-481e-4411-b754-567b6f2cb3e1&quot;,&quot;title&quot;:&quot;RnCDPMessageHandler&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/cdp-proxy/reactNativeCDPProxy.test.js&quot;,&quot;file&quot;:&quot;/test/cdp-proxy/reactNativeCDPProxy.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;RnCDPMessageHandler\&quot;&quot;,&quot;fullTitle&quot;:&quot;reactNativeCDPProxy MessageHandlers RnCDPMessageHandler \&quot;before all\&quot; hook in \&quot;RnCDPMessageHandler\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n                rnHandler = new rnCDPMessageHandler_1.RnCDPMessageHandler();\n                Object.assign(proxy, { CDPMessageHandler: rnHandler });\n            })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ffe66bc2-bb04-472f-aa42-2a9bb35039f7&quot;,&quot;parentUUID&quot;:&quot;7a8120e0-481e-4411-b754-567b6f2cb3e1&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Messages should be delivered correctly with RnCDPMessageHandler&quot;,&quot;fullTitle&quot;:&quot;reactNativeCDPProxy MessageHandlers RnCDPMessageHandler Messages should be delivered correctly with RnCDPMessageHandler&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n                const targetMessageStart = { method: \&quot;Target.start\&quot;, params: { reason: \&quot;test\&quot; } };\n                const debuggerMessageStart = {\n                    method: \&quot;Debugger.start\&quot;,\n                    params: { reason: \&quot;test\&quot; },\n                };\n                const messageFromTarget = yield getMessageFromTarget(targetMessageStart);\n                const messageFromDebugger = yield getMessageFromDebugger(debuggerMessageStart);\n                assert.deepStrictEqual(messageFromTarget, targetMessageStart);\n                assert.deepStrictEqual(messageFromDebugger, debuggerMessageStart);\n            })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;54de12b6-9d4b-4811-8259-0e1f2f5a0e77&quot;,&quot;parentUUID&quot;:&quot;7a8120e0-481e-4411-b754-567b6f2cb3e1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Message from target with method &#x27;Debugger.paused&#x27; in first time should transorm reason to &#x27;Break on start&#x27;&quot;,&quot;fullTitle&quot;:&quot;reactNativeCDPProxy MessageHandlers RnCDPMessageHandler Message from target with method &#x27;Debugger.paused&#x27; in first time should transorm reason to &#x27;Break on start&#x27;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n                const targetMessagePaused = {\n                    method: CDPAPINames_1.CDP_API_NAMES.DEBUGGER_PAUSED,\n                    params: { reason: \&quot;other\&quot; },\n                };\n                const messageFromTarget = yield getMessageFromTarget(targetMessagePaused);\n                targetMessagePaused.params.reason = \&quot;Break on start\&quot;;\n                assert.deepStrictEqual(messageFromTarget, targetMessagePaused);\n            })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b37c87e8-4952-428e-9f9d-00d04a8c7744&quot;,&quot;parentUUID&quot;:&quot;7a8120e0-481e-4411-b754-567b6f2cb3e1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;54de12b6-9d4b-4811-8259-0e1f2f5a0e77&quot;,&quot;b37c87e8-4952-428e-9f9d-00d04a8c7744&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:15,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;759db3b6-615b-4a34-8fb4-225a835aa8e4&quot;,&quot;title&quot;:&quot;HermesCDPMessageHandler&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/cdp-proxy/reactNativeCDPProxy.test.js&quot;,&quot;file&quot;:&quot;/test/cdp-proxy/reactNativeCDPProxy.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;HermesCDPMessageHandler\&quot;&quot;,&quot;fullTitle&quot;:&quot;reactNativeCDPProxy MessageHandlers HermesCDPMessageHandler \&quot;before all\&quot; hook in \&quot;HermesCDPMessageHandler\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n                directHandler = new hermesCDPMessageHandler_1.HermesCDPMessageHandler();\n                Object.assign(proxy, { CDPMessageHandler: directHandler });\n            })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;293b3e55-d8e0-47d6-aa13-ca04ba8bd1d8&quot;,&quot;parentUUID&quot;:&quot;759db3b6-615b-4a34-8fb4-225a835aa8e4&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Messages should be delivered correctly with HermesCDPMessageHandler&quot;,&quot;fullTitle&quot;:&quot;reactNativeCDPProxy MessageHandlers HermesCDPMessageHandler Messages should be delivered correctly with HermesCDPMessageHandler&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n                const targetMessageStart = { method: \&quot;Target.start\&quot;, params: { reason: \&quot;test\&quot; } };\n                const debuggerMessageStart = {\n                    method: \&quot;Debugger.start\&quot;,\n                    params: { reason: \&quot;test\&quot; },\n                };\n                const messageFromTarget = yield getMessageFromTarget(targetMessageStart);\n                const messageFromDebugger = yield getMessageFromDebugger(debuggerMessageStart);\n                assert.deepStrictEqual(messageFromTarget, targetMessageStart);\n                assert.deepStrictEqual(messageFromDebugger, debuggerMessageStart);\n            })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;956fb855-9709-4c45-b2b6-af63ad0f9719&quot;,&quot;parentUUID&quot;:&quot;759db3b6-615b-4a34-8fb4-225a835aa8e4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Message from target with method &#x27;Debugger.paused&#x27; should filter callFrames with Hermes Native function name and script id&quot;,&quot;fullTitle&quot;:&quot;reactNativeCDPProxy MessageHandlers HermesCDPMessageHandler Message from target with method &#x27;Debugger.paused&#x27; should filter callFrames with Hermes Native function name and script id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n                const targetMessagePaused = {\n                    method: CDPAPINames_1.CDP_API_NAMES.DEBUGGER_PAUSED,\n                    params: {\n                        reason: \&quot;other\&quot;,\n                        callFrames: cdpConstants_1.mockCallFrames,\n                    },\n                };\n                const messageFromTarget = yield getMessageFromTarget(targetMessagePaused);\n                const filteredCallFrames = cdpConstants_1.mockCallFrames.filter((callFrame) =&gt; callFrame.functionName !== cdpConstants_1.HERMES_NATIVE_FUNCTION_NAME &amp;&amp;\n                    callFrame.location.scriptId !== cdpConstants_1.HERMES_NATIVE_FUNCTION_SCRIPT_ID);\n                targetMessagePaused.params.callFrames = filteredCallFrames;\n                assert.deepStrictEqual(messageFromTarget, targetMessagePaused);\n            })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6dec86a9-4d17-48b4-a6cf-c316ab228207&quot;,&quot;parentUUID&quot;:&quot;759db3b6-615b-4a34-8fb4-225a835aa8e4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Message from target should add description for function result without description&quot;,&quot;fullTitle&quot;:&quot;reactNativeCDPProxy MessageHandlers HermesCDPMessageHandler Message from target should add description for function result without description&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n                const targetMessage = {\n                    method: \&quot;Target.test\&quot;,\n                    params: {\n                        reason: \&quot;test\&quot;,\n                    },\n                    result: cdpConstants_1.mockResults,\n                };\n                const messageFromTarget = yield getMessageFromTarget(targetMessage);\n                targetMessage.result.result.forEach(resultObj =&gt; {\n                    if (resultObj.value &amp;&amp;\n                        resultObj.value.type === \&quot;function\&quot; &amp;&amp;\n                        !resultObj.value.description) {\n                        resultObj.value.description = \&quot;function() { â€¦ }\&quot;;\n                    }\n                });\n                assert.deepStrictEqual(messageFromTarget, targetMessage);\n            })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4709a82d-0378-4c2f-9d99-3fad98752268&quot;,&quot;parentUUID&quot;:&quot;759db3b6-615b-4a34-8fb4-225a835aa8e4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Message from debugger with method Debugger.setBreakpoint should delete column number field from params.location&quot;,&quot;fullTitle&quot;:&quot;reactNativeCDPProxy MessageHandlers HermesCDPMessageHandler Message from debugger with method Debugger.setBreakpoint should delete column number field from params.location&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n                const debuggerMessage = {\n                    method: CDPAPINames_1.CDP_API_NAMES.DEBUGGER_SET_BREAKPOINT,\n                    params: {\n                        reason: \&quot;test\&quot;,\n                        location: {\n                            columnNumber: 15,\n                            rowNumber: 100,\n                        },\n                    },\n                };\n                const messageFromDebugger = yield getMessageFromDebugger(debuggerMessage);\n                delete debuggerMessage.params.location.columnNumber;\n                assert.deepStrictEqual(messageFromDebugger, debuggerMessage);\n            })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;966aa883-2a1a-44ee-8618-07dc213c9896&quot;,&quot;parentUUID&quot;:&quot;759db3b6-615b-4a34-8fb4-225a835aa8e4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Message from debugger with method Runtime.callFunctionOn with Object.getOwnPropertyDescriptor in function declaration should return result based on message id and send back to debugger&quot;,&quot;fullTitle&quot;:&quot;reactNativeCDPProxy MessageHandlers HermesCDPMessageHandler Message from debugger with method Runtime.callFunctionOn with Object.getOwnPropertyDescriptor in function declaration should return result based on message id and send back to debugger&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n                const debuggerMessage = {\n                    id: 1,\n                    method: CDPAPINames_1.CDP_API_NAMES.RUNTIME_CALL_FUNCTION_ON,\n                    params: {\n                        objectId: 2,\n                        reason: \&quot;test\&quot;,\n                        functionDeclaration: [cdpConstants_1.ARRAY_REQUEST_PHRASE_MARKER, \&quot;some other\&quot;],\n                    },\n                };\n                let resultMessage = {\n                    result: {\n                        result: {\n                            objectId: debuggerMessage.params.objectId,\n                        },\n                    },\n                    id: debuggerMessage.id,\n                };\n                const messageFromDebugger = yield new Promise(resolve =&gt; {\n                    debugConnection === null || debugConnection === void 0 ? void 0 : debugConnection.send(debuggerMessage);\n                    debugConnection === null || debugConnection === void 0 ? void 0 : debugConnection.onReply((evt) =&gt; {\n                        resolve(evt);\n                    });\n                });\n                assert.deepStrictEqual(messageFromDebugger, resultMessage);\n            })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;67af1b48-2cd3-42b1-aa3c-73499f4fafda&quot;,&quot;parentUUID&quot;:&quot;759db3b6-615b-4a34-8fb4-225a835aa8e4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;956fb855-9709-4c45-b2b6-af63ad0f9719&quot;,&quot;6dec86a9-4d17-48b4-a6cf-c316ab228207&quot;,&quot;4709a82d-0378-4c2f-9d99-3fad98752268&quot;,&quot;966aa883-2a1a-44ee-8618-07dc213c9896&quot;,&quot;67af1b48-2cd3-42b1-aa3c-73499f4fafda&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:6,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:5000},{&quot;uuid&quot;:&quot;158328a7-7c43-454a-8088-def064a73a70&quot;,&quot;title&quot;:&quot;errorHelper&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/common/error/errorHelper.test.js&quot;,&quot;file&quot;:&quot;/test/common/error/errorHelper.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;690512d2-ea2f-4d7f-84a4-980259c35c22&quot;,&quot;title&quot;:&quot;commonContext&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/common/error/errorHelper.test.js&quot;,&quot;file&quot;:&quot;/test/common/error/errorHelper.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;internal error object with arguments should have correct NotAllSuccessPatternsMatched error message on English&quot;,&quot;fullTitle&quot;:&quot;errorHelper commonContext internal error object with arguments should have correct NotAllSuccessPatternsMatched error message on English&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.strictEqual(internalErrorWithArgs.message, &#x27;Unknown error: not all success patterns were matched. \\n It means that \&quot;react-native run-android\&quot; command failed. \\n Please, check the View -&gt; Toggle Output -&gt; React Native, \\n View -&gt; Toggle Output -&gt; React Native: Run ios output windows. (error code 712)&#x27;);\ndone();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dd218d63-d8c1-4dc1-b0e0-a2c67e4f8cc7&quot;,&quot;parentUUID&quot;:&quot;690512d2-ea2f-4d7f-84a4-980259c35c22&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;internal error object without arguments should have correct UnsupportedCommandStatus error message on English&quot;,&quot;fullTitle&quot;:&quot;errorHelper commonContext internal error object without arguments should have correct UnsupportedCommandStatus error message on English&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.strictEqual(internalErrorWithoutArgs.message, \&quot;Unsupported command status (error code 112)\&quot;);\ndone();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a0168857-19d2-42a7-a77b-bd761d2de468&quot;,&quot;parentUUID&quot;:&quot;690512d2-ea2f-4d7f-84a4-980259c35c22&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;nested error object with arguments should have correct error message on English&quot;,&quot;fullTitle&quot;:&quot;errorHelper commonContext nested error object with arguments should have correct error message on English&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.strictEqual(nestedErrorWithArgs.message, \&quot;Error while executing command &#x27;Command failed with ES Error&#x27;: Nested ES Error\&quot;);\ndone();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d5094431-c644-450b-b560-47f5e78c3480&quot;,&quot;parentUUID&quot;:&quot;690512d2-ea2f-4d7f-84a4-980259c35c22&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;warning object should have correct error message on English&quot;,&quot;fullTitle&quot;:&quot;errorHelper commonContext warning object should have correct error message on English&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.strictEqual(warning.errorCode, -1);\nassert.strictEqual(warning.message, \&quot;Warning\&quot;);\ndone();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;aca7a546-9e09-4ec8-9d28-44868a8592a5&quot;,&quot;parentUUID&quot;:&quot;690512d2-ea2f-4d7f-84a4-980259c35c22&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;nested warning object should have correct error message on English&quot;,&quot;fullTitle&quot;:&quot;errorHelper commonContext nested warning object should have correct error message on English&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.strictEqual(nestedWarning.errorCode, -1);\nassert.strictEqual(nestedWarning.message, \&quot;Warning: Nested ES Error\&quot;);\ndone();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;22420fbb-62c8-4af7-871d-0eb6d2b3231a&quot;,&quot;parentUUID&quot;:&quot;690512d2-ea2f-4d7f-84a4-980259c35c22&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;dd218d63-d8c1-4dc1-b0e0-a2c67e4f8cc7&quot;,&quot;a0168857-19d2-42a7-a77b-bd761d2de468&quot;,&quot;d5094431-c644-450b-b560-47f5e78c3480&quot;,&quot;aca7a546-9e09-4ec8-9d28-44868a8592a5&quot;,&quot;22420fbb-62c8-4af7-871d-0eb6d2b3231a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;952bcd03-609e-4751-ba08-a512d20137cf&quot;,&quot;title&quot;:&quot;logHelper&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/common/log.test.js&quot;,&quot;file&quot;:&quot;/test/common/log.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;05cfee8d-23aa-46c1-98b6-f02321cd4aff&quot;,&quot;title&quot;:&quot;commonContext&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/common/log.test.js&quot;,&quot;file&quot;:&quot;/test/common/log.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;commonContext\&quot;&quot;,&quot;fullTitle&quot;:&quot;logHelper commonContext \&quot;before all\&quot; hook in \&quot;commonContext\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;delete process.env.REACT_NATIVE_TOOLS_LOGS_DIR;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fd5350fa-e06d-4a99-8304-1564a9323303&quot;,&quot;parentUUID&quot;:&quot;05cfee8d-23aa-46c1-98b6-f02321cd4aff&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;commonContext\&quot;&quot;,&quot;fullTitle&quot;:&quot;logHelper commonContext \&quot;after all\&quot; hook in \&quot;commonContext\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;process.env.REACT_NATIVE_TOOLS_LOGS_DIR = REACT_NATIVE_TOOLS_LOGS_DIR;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;99782598-d9c6-45a9-b8ea-bf23c812d239&quot;,&quot;parentUUID&quot;:&quot;05cfee8d-23aa-46c1-98b6-f02321cd4aff&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;getLoggingDirectory should return null if env variable REACT_NATIVE_TOOLS_LOGS_DIR is not defined&quot;,&quot;fullTitle&quot;:&quot;logHelper commonContext getLoggingDirectory should return null if env variable REACT_NATIVE_TOOLS_LOGS_DIR is not defined&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let loggingDir = LogHelper_1.getLoggingDirectory();\nassert.strictEqual(loggingDir, null);\ndone();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4b99aa22-5dd1-444c-9fb1-fcfff8ed95db&quot;,&quot;parentUUID&quot;:&quot;05cfee8d-23aa-46c1-98b6-f02321cd4aff&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;getLoggingDirectory should return null if env variable REACT_NATIVE_TOOLS_LOGS_DIR is defined by relative path&quot;,&quot;fullTitle&quot;:&quot;logHelper commonContext getLoggingDirectory should return null if env variable REACT_NATIVE_TOOLS_LOGS_DIR is defined by relative path&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;process.env.REACT_NATIVE_TOOLS_LOGS_DIR = \&quot;./logs\&quot;;\nlet loggingDir = LogHelper_1.getLoggingDirectory();\nassert.strictEqual(loggingDir, null);\ndone();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f8233c50-60f1-4ba4-9dad-b4808747ac6a&quot;,&quot;parentUUID&quot;:&quot;05cfee8d-23aa-46c1-98b6-f02321cd4aff&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;getLoggingDirectory should return correct value if env variable REACT_NATIVE_TOOLS_LOGS_DIR is defined by absolute path&quot;,&quot;fullTitle&quot;:&quot;logHelper commonContext getLoggingDirectory should return correct value if env variable REACT_NATIVE_TOOLS_LOGS_DIR is defined by absolute path&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;process.env.REACT_NATIVE_TOOLS_LOGS_DIR = path.join(__dirname, \&quot;testFolder\&quot;);\nlet loggingDir = LogHelper_1.getLoggingDirectory();\nassert.strictEqual(loggingDir, process.env.REACT_NATIVE_TOOLS_LOGS_DIR);\nif (loggingDir) {\n    const checkDir = fs.existsSync(loggingDir);\n    if (checkDir) {\n        fs.rmdirSync(loggingDir);\n    }\n    else {\n        assert.fail(\&quot;getLoggingDirectory did not create a directory\&quot;);\n    }\n}\nelse {\n    assert.fail(`${loggingDir} is not a correct path`);\n}\ndone();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;342544e7-d834-45d1-b1a9-72a2d11e9f3d&quot;,&quot;parentUUID&quot;:&quot;05cfee8d-23aa-46c1-98b6-f02321cd4aff&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;4b99aa22-5dd1-444c-9fb1-fcfff8ed95db&quot;,&quot;f8233c50-60f1-4ba4-9dad-b4808747ac6a&quot;,&quot;342544e7-d834-45d1-b1a9-72a2d11e9f3d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;5863a437-65c3-473e-a506-348ce06e7de8&quot;,&quot;title&quot;:&quot;packageLoader&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/common/packageLoader.test.js&quot;,&quot;file&quot;:&quot;/test/common/packageLoader.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;97e12760-f236-4833-bf09-b51f04889cea&quot;,&quot;title&quot;:&quot;localNodeModules&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/common/packageLoader.test.js&quot;,&quot;file&quot;:&quot;/test/common/packageLoader.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;localNodeModules\&quot;&quot;,&quot;fullTitle&quot;:&quot;packageLoader localNodeModules \&quot;before all\&quot; hook in \&quot;localNodeModules\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:43,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    rimraf.sync(sampleProjectNodeModulesPath);\n    rimraf.sync(sampleProjectPackageLockJsonPath);\n    findFileInFolderHierarchyStub = sinon.stub(extensionHelper, \&quot;findFileInFolderHierarchy\&quot;, () =&gt; {\n        return sampleProjectNodeModulesPath;\n    });\n    getVersionFromExtensionNodeModulesStub = sinon.stub(extensionHelper, \&quot;getVersionFromExtensionNodeModules\&quot;, (packageName) =&gt; {\n        return getPackageVersionsFromNodeModules(sampleProjectPath, packageName);\n    });\n    tryToRequireAfterInstallSpy = sinon.spy(packageLoader_1.PackageLoader.getInstance(), \&quot;tryToRequireAfterInstall\&quot;);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8bd9d824-7e9f-42a4-b045-126af3ec5d14&quot;,&quot;parentUUID&quot;:&quot;97e12760-f236-4833-bf09-b51f04889cea&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;localNodeModules\&quot;&quot;,&quot;fullTitle&quot;:&quot;packageLoader localNodeModules \&quot;after all\&quot; hook in \&quot;localNodeModules\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(packageLoaderTestTimeout);\nfindFileInFolderHierarchyStub === null || findFileInFolderHierarchyStub === void 0 ? void 0 : findFileInFolderHierarchyStub.restore();\ngetVersionFromExtensionNodeModulesStub === null || getVersionFromExtensionNodeModulesStub === void 0 ? void 0 : getVersionFromExtensionNodeModulesStub.restore();\ntryToRequireAfterInstallSpy === null || tryToRequireAfterInstallSpy === void 0 ? void 0 : tryToRequireAfterInstallSpy.restore();\nsinon.restore(extensionHelper);\nrimraf.sync(sampleProjectNodeModulesPath);\nrimraf.sync(sampleProjectPackageLockJsonPath);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cfcb1ebb-1398-4fc6-8832-4b3921f8fc56&quot;,&quot;parentUUID&quot;:&quot;97e12760-f236-4833-bf09-b51f04889cea&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;localNodeModules\&quot;&quot;,&quot;fullTitle&quot;:&quot;packageLoader localNodeModules \&quot;after each\&quot; hook in \&quot;localNodeModules\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.timeout(packageLoaderTestTimeout);\nfindFileInFolderHierarchyStub === null || findFileInFolderHierarchyStub === void 0 ? void 0 : findFileInFolderHierarchyStub.reset();\ngetVersionFromExtensionNodeModulesStub === null || getVersionFromExtensionNodeModulesStub === void 0 ? void 0 : getVersionFromExtensionNodeModulesStub.reset();\ntryToRequireAfterInstallSpy === null || tryToRequireAfterInstallSpy === void 0 ? void 0 : tryToRequireAfterInstallSpy.reset();\nrimraf.sync(sampleProjectNodeModulesPath);\nrimraf.sync(sampleProjectPackageLockJsonPath);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;90bb8416-dbd2-4b41-9a48-e6ebda56a31d&quot;,&quot;parentUUID&quot;:&quot;97e12760-f236-4833-bf09-b51f04889cea&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;The package loader should install packages in node_modules where these packages are not present&quot;,&quot;fullTitle&quot;:&quot;packageLoader localNodeModules The package loader should install packages in node_modules where these packages are not present&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1302,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    this.timeout(packageLoaderTestTimeout);\n    // There is the problem with &#x27;--no-save&#x27; flag for &#x27;npm install&#x27; command for npm v6.\n    // Installing npm dependencies with the `--no-save` flag will remove\n    // other dependencies that were installed in the same manner (https://github.com/npm/cli/issues/1460).\n    // So we should workaround it passing all packages for install to only one npm install command\n    const getMkdrip = packageLoader_1.PackageLoader.getInstance().generateGetPackageFunction(mkdirpPackageConfig, rimrafPackageFirst);\n    const getRimraf = packageLoader_1.PackageLoader.getInstance().generateGetPackageFunction(rimrafPackageFirst, mkdirpPackageConfig);\n    const [mkdirpPackage, rimrafPackage] = yield Promise.all([getMkdrip(), getRimraf()]);\n    assert.strictEqual(isNotEmptyPackage(rimrafPackage) &amp;&amp; isNotEmptyPackage(mkdirpPackage), true, \&quot;Not all packages has been installed and required\&quot;);\n    const installedVersionOfMkdirp = yield getPackageVersionsFromNodeModules(sampleProjectPath, mkdirpPackageConfig.getPackageName());\n    const installedVersionOfRimraf = yield getPackageVersionsFromNodeModules(sampleProjectPath, rimrafPackageFirst.getPackageName());\n    assert.strictEqual(installedVersionOfMkdirp, mkdirpPackageConfig.getVersion(), `Wrong installed version of ${mkdirpPackageConfig.getPackageName()} package`);\n    assert.strictEqual(installedVersionOfRimraf, rimrafPackageFirst.getVersion(), `Wrong installed version of ${rimrafPackageFirst.getPackageName()} package`);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2c367b32-70dc-4046-a067-0aa0750427ca&quot;,&quot;parentUUID&quot;:&quot;97e12760-f236-4833-bf09-b51f04889cea&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;The package loader should not execute installation for packages that are already present in node_modules&quot;,&quot;fullTitle&quot;:&quot;packageLoader localNodeModules The package loader should not execute installation for packages that are already present in node_modules&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:885,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    this.timeout(packageLoaderTestTimeout);\n    yield commandExecutor.spawn(hostPlatform_1.HostPlatform.getNpmCliCommand(\&quot;npm\&quot;), [\n        \&quot;install\&quot;,\n        rimrafPackageFirst.getStringForInstall(),\n        \&quot;--no-save\&quot;,\n    ]);\n    assert.strictEqual(yield getPackageVersionsFromNodeModules(sampleProjectPath, rimrafPackageFirst.getPackageName()), rimrafPackageFirst.getVersion(), \&quot;Package was preinstalled with wrong version\&quot;);\n    const getRimraf = packageLoader_1.PackageLoader.getInstance().generateGetPackageFunction(rimrafPackageFirst);\n    assert.strictEqual(isNotEmptyPackage(yield getRimraf()), true, \&quot;Package was not required\&quot;);\n    assert.strictEqual(tryToRequireAfterInstallSpy === null || tryToRequireAfterInstallSpy === void 0 ? void 0 : tryToRequireAfterInstallSpy.notCalled, true, \&quot;Package loader executes installation for packages that already exist in node_modules\&quot;);\n    tryToRequireAfterInstallSpy === null || tryToRequireAfterInstallSpy === void 0 ? void 0 : tryToRequireAfterInstallSpy.reset();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b32117a3-0b3b-4579-acd7-a5037f5474fb&quot;,&quot;parentUUID&quot;:&quot;97e12760-f236-4833-bf09-b51f04889cea&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;The package loader should install a package with the specific version if the package is already installed but with another version&quot;,&quot;fullTitle&quot;:&quot;packageLoader localNodeModules The package loader should install a package with the specific version if the package is already installed but with another version&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1676,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    this.timeout(packageLoaderTestTimeout);\n    yield commandExecutor.spawn(hostPlatform_1.HostPlatform.getNpmCliCommand(\&quot;npm\&quot;), [\n        \&quot;install\&quot;,\n        rimrafPackageFirst.getStringForInstall(),\n        \&quot;--no-save\&quot;,\n    ]);\n    assert.strictEqual(yield getPackageVersionsFromNodeModules(sampleProjectPath, rimrafPackageFirst.getPackageName()), rimrafPackageFirst.getVersion(), \&quot;Package was preinstalled with wrong version\&quot;);\n    const getRimraf = packageLoader_1.PackageLoader.getInstance().generateGetPackageFunction(rimrafPackageSecond);\n    assert.strictEqual(isNotEmptyPackage(yield getRimraf()), true, \&quot;Package was not required\&quot;);\n    assert.strictEqual(tryToRequireAfterInstallSpy === null || tryToRequireAfterInstallSpy === void 0 ? void 0 : tryToRequireAfterInstallSpy.calledOnce, true, \&quot;Package loader not execute installation for packages that are already present in node_modules but with wrong version\&quot;);\n    tryToRequireAfterInstallSpy === null || tryToRequireAfterInstallSpy === void 0 ? void 0 : tryToRequireAfterInstallSpy.reset();\n    const installedVersionOfRimraf = yield getPackageVersionsFromNodeModules(sampleProjectPath, rimrafPackageSecond.getPackageName());\n    assert.strictEqual(installedVersionOfRimraf, rimrafPackageSecond.getVersion(), `Wrong installed version of ${rimrafPackageSecond.getPackageName()} package`);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b63d893f-e76c-4483-9568-154d0e160929&quot;,&quot;parentUUID&quot;:&quot;97e12760-f236-4833-bf09-b51f04889cea&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;The package loader should install package and require specific subpath for this package&quot;,&quot;fullTitle&quot;:&quot;packageLoader localNodeModules The package loader should install package and require specific subpath for this package&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:841,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    this.timeout(packageLoaderTestTimeout);\n    const getChalk = packageLoader_1.PackageLoader.getInstance().generateGetPackageFunction(chalkPackageConfig);\n    const chalkPackage = yield getChalk();\n    assert.strictEqual(isNotEmptyPackage(chalkPackage), true, \&quot;Package was not required\&quot;);\n    assert.strictEqual(!!(chalkPackage.stringReplaceAll &amp;&amp; chalkPackage.stringEncaseCRLFWithFirstIndex), true, \&quot;Required package subpath does not contains all members. It means what there are problems with subpath requiring\&quot;);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;77df76a0-4e34-4daf-b88f-1c7f8ceec9c4&quot;,&quot;parentUUID&quot;:&quot;97e12760-f236-4833-bf09-b51f04889cea&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;2c367b32-70dc-4046-a067-0aa0750427ca&quot;,&quot;b32117a3-0b3b-4579-acd7-a5037f5474fb&quot;,&quot;b63d893f-e76c-4483-9568-154d0e160929&quot;,&quot;77df76a0-4e34-4daf-b88f-1c7f8ceec9c4&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:4704,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;d97b23e7-d403-4c14-9863-83192b479c6a&quot;,&quot;title&quot;:&quot;projectVersionHelper&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/common/projectVersionHelper.test.js&quot;,&quot;file&quot;:&quot;/test/common/projectVersionHelper.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;getReactNativeVersionsFromProjectPackage should return object containing version strings if &#x27;version&#x27; field is found in project&#x27;s package.json file&quot;,&quot;fullTitle&quot;:&quot;projectVersionHelper getReactNativeVersionsFromProjectPackage should return object containing version strings if &#x27;version&#x27; field is found in project&#x27;s package.json file&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n        let additionalPackages = [];\n        additionalPackages.push(projectVersionHelper_1.REACT_NATIVE_PACKAGES.REACT_NATIVE_WINDOWS);\n        const versions = yield projectVersionHelper_1.ProjectVersionHelper.getReactNativeVersionsFromProjectPackage(sampleReactNativeProjectDir, additionalPackages);\n        assert.strictEqual(versions.reactNativeVersion, \&quot;0.65.0\&quot;);\n        assert.strictEqual(versions.reactNativeWindowsVersion, \&quot;0.65.9\&quot;);\n    })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;27774543-18b6-4698-81ff-4612cc9488c3&quot;,&quot;parentUUID&quot;:&quot;d97b23e7-d403-4c14-9863-83192b479c6a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;getReactNativePackageVersionsFromNodeModules should throw ReactNativePackageIsNotInstalled error if the package is not installed&quot;,&quot;fullTitle&quot;:&quot;projectVersionHelper getReactNativePackageVersionsFromNodeModules should throw ReactNativePackageIsNotInstalled error if the package is not installed&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return projectVersionHelper_1.ProjectVersionHelper.getReactNativePackageVersionsFromNodeModules(nodeModulesRoot).catch(error =&gt; {\n    assert.strictEqual(error.errorCode, 606);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;53f5bc1d-8028-4f94-9ca5-be7790f0debe&quot;,&quot;parentUUID&quot;:&quot;d97b23e7-d403-4c14-9863-83192b479c6a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;isVersionError should return true if a version string contains an error substring&quot;,&quot;fullTitle&quot;:&quot;projectVersionHelper isVersionError should return true if a version string contains an error substring&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.strictEqual(projectVersionHelper_1.ProjectVersionHelper.isVersionError(versionError_1.RN_VERSION_ERRORS.MISSING_DEPENDENCIES_FIELDS_IN_PROJECT_PACKAGE_FILE), true);\nassert.strictEqual(projectVersionHelper_1.ProjectVersionHelper.isVersionError(versionError_1.RN_VERSION_ERRORS.MISSING_PACKAGE_IN_NODE_MODULES), true);\nassert.strictEqual(projectVersionHelper_1.ProjectVersionHelper.isVersionError(versionError_1.RN_VERSION_ERRORS.MISSING_DEPENDENCY_IN_PROJECT_PACKAGE_FILE), true);\nassert.strictEqual(projectVersionHelper_1.ProjectVersionHelper.isVersionError(versionError_1.RN_VERSION_ERRORS.UNKNOWN_ERROR), true);\nassert.strictEqual(projectVersionHelper_1.ProjectVersionHelper.isVersionError(\&quot;someError\&quot;), true);\nassert.strictEqual(projectVersionHelper_1.ProjectVersionHelper.isVersionError(\&quot;ERRORSTRING\&quot;), true);\ndone();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2324d47b-8dbd-482f-9559-b50848c946f7&quot;,&quot;parentUUID&quot;:&quot;d97b23e7-d403-4c14-9863-83192b479c6a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;isVersionError should return false if a version string doesn&#x27;t contain an error substring&quot;,&quot;fullTitle&quot;:&quot;projectVersionHelper isVersionError should return false if a version string doesn&#x27;t contain an error substring&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.strictEqual(projectVersionHelper_1.ProjectVersionHelper.isVersionError(\&quot;^0.60.0-vnext.68\&quot;), false);\nassert.strictEqual(projectVersionHelper_1.ProjectVersionHelper.isVersionError(\&quot;https://github.com/expo/react-native/archive/sdk-35.0.0.tar.gz\&quot;), false);\nassert.strictEqual(projectVersionHelper_1.ProjectVersionHelper.isVersionError(\&quot;SemverInvalid\&quot;), false);\nassert.strictEqual(projectVersionHelper_1.ProjectVersionHelper.isVersionError(\&quot;0.61.0\&quot;), false);\nassert.strictEqual(projectVersionHelper_1.ProjectVersionHelper.isVersionError(\&quot;SemverInvalid: URL\&quot;), false);\nassert.strictEqual(projectVersionHelper_1.ProjectVersionHelper.isVersionError(\&quot;*\&quot;), false);\ndone();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;780be886-60dd-4838-9731-8643c8b70837&quot;,&quot;parentUUID&quot;:&quot;d97b23e7-d403-4c14-9863-83192b479c6a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;processVersion should return semver valid version strings or correct error strings&quot;,&quot;fullTitle&quot;:&quot;projectVersionHelper processVersion should return semver valid version strings or correct error strings&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.strictEqual(projectVersionHelper_1.ProjectVersionHelper.processVersion(\&quot;^0.60.0-vnext.68\&quot;, false), \&quot;0.60.0-vnext.68\&quot;);\nassert.strictEqual(projectVersionHelper_1.ProjectVersionHelper.processVersion(\&quot;=v0.60.0-vnext.68\&quot;, false), \&quot;0.60.0-vnext.68\&quot;);\nassert.strictEqual(projectVersionHelper_1.ProjectVersionHelper.processVersion(\&quot;1.0.0 - 2.9999.9999\&quot;, false), \&quot;SemverInvalid\&quot;);\nassert.strictEqual(projectVersionHelper_1.ProjectVersionHelper.processVersion(\&quot;latest\&quot;, false), \&quot;SemverInvalid\&quot;);\nassert.strictEqual(projectVersionHelper_1.ProjectVersionHelper.processVersion(\&quot;~1.2\&quot;, false), \&quot;SemverInvalid\&quot;);\nassert.strictEqual(projectVersionHelper_1.ProjectVersionHelper.processVersion(\&quot;2.x\&quot;, false), \&quot;SemverInvalid\&quot;);\nassert.strictEqual(projectVersionHelper_1.ProjectVersionHelper.processVersion(\&quot;&gt;=1.0.2\&quot;, false), \&quot;1.0.2\&quot;);\nassert.strictEqual(projectVersionHelper_1.ProjectVersionHelper.processVersion(\&quot;&lt;3.0.0\&quot;, false), \&quot;3.0.0\&quot;);\nassert.strictEqual(projectVersionHelper_1.ProjectVersionHelper.processVersion(\&quot;0.61.0-rc.0\&quot;), \&quot;0.61.0\&quot;);\nassert.strictEqual(projectVersionHelper_1.ProjectVersionHelper.processVersion(\&quot;~1.2.3-beta.1\&quot;), \&quot;1.2.3\&quot;);\nassert.strictEqual(projectVersionHelper_1.ProjectVersionHelper.processVersion(\&quot;~0.61.3-dev\&quot;), \&quot;0.61.3\&quot;);\nassert.strictEqual(projectVersionHelper_1.ProjectVersionHelper.processVersion(\&quot;v0.61.3-dev\&quot;), \&quot;0.61.3\&quot;);\nassert.strictEqual(projectVersionHelper_1.ProjectVersionHelper.processVersion(\&quot;^0.61.2.0\&quot;), \&quot;0.61.2\&quot;);\nassert.strictEqual(projectVersionHelper_1.ProjectVersionHelper.processVersion(\&quot;0.61.3\&quot;), \&quot;0.61.3\&quot;);\nassert.strictEqual(projectVersionHelper_1.ProjectVersionHelper.processVersion(\&quot;https://github.com/expo/react-native/archive/sdk-35.0.0.tar.gz\&quot;), \&quot;SemverInvalid: URL\&quot;);\nassert.strictEqual(projectVersionHelper_1.ProjectVersionHelper.processVersion(\&quot;/github.com/expo/react-native/archive/sdk-35.0.0.tar.gz\&quot;), \&quot;35.0.0\&quot;);\nassert.strictEqual(projectVersionHelper_1.ProjectVersionHelper.processVersion(\&quot;git+https://git@github.com/test/test.git\&quot;), \&quot;SemverInvalid: URL\&quot;);\nassert.strictEqual(projectVersionHelper_1.ProjectVersionHelper.processVersion(\&quot;/github.com/expo/react-native/archive/sdk\&quot;), \&quot;SemverInvalid\&quot;);\nassert.strictEqual(projectVersionHelper_1.ProjectVersionHelper.processVersion(\&quot;qwertyuiop[]asdfghjk\&quot;), \&quot;SemverInvalid\&quot;);\nassert.strictEqual(projectVersionHelper_1.ProjectVersionHelper.processVersion(\&quot;/Users/test/Data\&quot;), \&quot;SemverInvalid\&quot;);\nassert.strictEqual(projectVersionHelper_1.ProjectVersionHelper.processVersion(\&quot;@#.str?/4568-7468/.fd\&quot;), \&quot;4568.0.0\&quot;);\nassert.strictEqual(projectVersionHelper_1.ProjectVersionHelper.processVersion(\&quot;^str.0.61.str.2\&quot;), \&quot;0.61.0\&quot;);\nassert.strictEqual(projectVersionHelper_1.ProjectVersionHelper.processVersion(\&quot;qwert  1 asdf\&quot;), \&quot;1.0.0\&quot;);\nassert.strictEqual(projectVersionHelper_1.ProjectVersionHelper.processVersion(\&quot;^0.str.str.2\&quot;), \&quot;0.0.0\&quot;);\nassert.strictEqual(projectVersionHelper_1.ProjectVersionHelper.processVersion(\&quot;\&quot;), \&quot;SemverInvalid\&quot;);\nassert.strictEqual(projectVersionHelper_1.ProjectVersionHelper.processVersion(\&quot;1.0.x\&quot;), \&quot;1.0.0\&quot;);\nassert.strictEqual(projectVersionHelper_1.ProjectVersionHelper.processVersion(\&quot;*.0.*\&quot;), \&quot;0.0.0\&quot;);\nassert.strictEqual(projectVersionHelper_1.ProjectVersionHelper.processVersion(\&quot;~1.*\&quot;), \&quot;1.0.0\&quot;);\nassert.strictEqual(projectVersionHelper_1.ProjectVersionHelper.processVersion(\&quot;1.0\&quot;), \&quot;1.0.0\&quot;);\nassert.strictEqual(projectVersionHelper_1.ProjectVersionHelper.processVersion(\&quot;~1\&quot;), \&quot;1.0.0\&quot;);\nassert.strictEqual(projectVersionHelper_1.ProjectVersionHelper.processVersion(\&quot;*\&quot;), \&quot;SemverInvalid\&quot;);\ndone();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fff3437f-5ffd-434a-b510-def7c56d2f45&quot;,&quot;parentUUID&quot;:&quot;d97b23e7-d403-4c14-9863-83192b479c6a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;17275c33-ef09-4827-97a4-2811e1a401c7&quot;,&quot;title&quot;:&quot;getReactNativeVersionsFromProjectWithIncorrectPackageJson&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/common/projectVersionHelper.test.js&quot;,&quot;file&quot;:&quot;/test/common/projectVersionHelper.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;getReactNativeVersionsFromProjectWithIncorrectPackageJson\&quot;&quot;,&quot;fullTitle&quot;:&quot;projectVersionHelper getReactNativeVersionsFromProjectWithIncorrectPackageJson \&quot;before all\&quot; hook in \&quot;getReactNativeVersionsFromProjectWithIncorrectPackageJson\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;fs.writeFileSync(packageJsonPath, JSON.stringify(versionObj, null, 2));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5193bd35-d13b-4895-963f-38ce67215f9e&quot;,&quot;parentUUID&quot;:&quot;17275c33-ef09-4827-97a4-2811e1a401c7&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;getReactNativeVersionsFromProjectWithIncorrectPackageJson\&quot;&quot;,&quot;fullTitle&quot;:&quot;projectVersionHelper getReactNativeVersionsFromProjectWithIncorrectPackageJson \&quot;after all\&quot; hook in \&quot;getReactNativeVersionsFromProjectWithIncorrectPackageJson\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;fs.writeFileSync(packageJsonPath, packageJsonContent);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;31348b78-4c4c-47d2-9996-a870588f5201&quot;,&quot;parentUUID&quot;:&quot;17275c33-ef09-4827-97a4-2811e1a401c7&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;getReactNativeVersionsFromProjectPackage should return containing empty version strings if &#x27;version&#x27; field isn&#x27;t found in project&#x27;s package.json file&quot;,&quot;fullTitle&quot;:&quot;projectVersionHelper getReactNativeVersionsFromProjectWithIncorrectPackageJson getReactNativeVersionsFromProjectPackage should return containing empty version strings if &#x27;version&#x27; field isn&#x27;t found in project&#x27;s package.json file&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            let additionalPackages = [];\n            additionalPackages.push(projectVersionHelper_1.REACT_NATIVE_PACKAGES.REACT_NATIVE_WINDOWS);\n            const versions = yield projectVersionHelper_1.ProjectVersionHelper.getReactNativeVersionsFromProjectPackage(sampleReactNativeProjectDir, additionalPackages);\n            assert.strictEqual(versions.reactNativeVersion, \&quot;errorMissingDependenciesFieldsInProjectPackageFile\&quot;);\n            assert.strictEqual(versions.reactNativeWindowsVersion, \&quot;errorMissingDependenciesFieldsInProjectPackageFile\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f2dc68c8-e341-4085-90a5-e9398afb2ab9&quot;,&quot;parentUUID&quot;:&quot;17275c33-ef09-4827-97a4-2811e1a401c7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;f2dc68c8-e341-4085-90a5-e9398afb2ab9&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;0e72f934-9886-4b8e-a198-ecc0c09d0d6d&quot;,&quot;title&quot;:&quot;getReactNativeVersionsFromNodeModules&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/common/projectVersionHelper.test.js&quot;,&quot;file&quot;:&quot;/test/common/projectVersionHelper.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;getReactNativeVersionsFromNodeModules\&quot;&quot;,&quot;fullTitle&quot;:&quot;projectVersionHelper getReactNativeVersionsFromNodeModules \&quot;before all\&quot; hook in \&quot;getReactNativeVersionsFromNodeModules\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;fsHelper.makeDirectoryRecursiveSync(reactNativePackageDir);\nfsHelper.makeDirectoryRecursiveSync(reactNativeWindowsPackageDir);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;58eb04c4-3b3b-41d5-b450-87749b17179c&quot;,&quot;parentUUID&quot;:&quot;0e72f934-9886-4b8e-a198-ecc0c09d0d6d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;getReactNativeVersionsFromNodeModules\&quot;&quot;,&quot;fullTitle&quot;:&quot;projectVersionHelper getReactNativeVersionsFromNodeModules \&quot;after all\&quot; hook in \&quot;getReactNativeVersionsFromNodeModules\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;fsHelper.removePathRecursivelySync(path.join(sampleReactNativeProjectDir, \&quot;node_modules\&quot;));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c59f12e7-0dae-411d-8efe-9dcc8fa72630&quot;,&quot;parentUUID&quot;:&quot;0e72f934-9886-4b8e-a198-ecc0c09d0d6d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;getReactNativePackageVersionsFromNodeModules should return object containing packages versions if &#x27;version&#x27; field is found in react-native and react-native-windows packages package.json files from node_modules&quot;,&quot;fullTitle&quot;:&quot;projectVersionHelper getReactNativeVersionsFromNodeModules getReactNativePackageVersionsFromNodeModules should return object containing packages versions if &#x27;version&#x27; field is found in react-native and react-native-windows packages package.json files from node_modules&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const reactNativeVersionObj = {\n                version: \&quot;^0.20.0\&quot;,\n            };\n            const reactNativeWindowsVersionObj = {\n                version: \&quot;^0.60.0-vnext.68\&quot;,\n            };\n            fs.writeFileSync(path.join(reactNativePackageDir, \&quot;package.json\&quot;), JSON.stringify(reactNativeVersionObj, null, 2));\n            fs.writeFileSync(path.join(reactNativeWindowsPackageDir, \&quot;package.json\&quot;), JSON.stringify(reactNativeWindowsVersionObj, null, 2));\n            let additionalPackages = [];\n            additionalPackages.push(projectVersionHelper_1.REACT_NATIVE_PACKAGES.REACT_NATIVE_WINDOWS);\n            const versions = yield projectVersionHelper_1.ProjectVersionHelper.getReactNativePackageVersionsFromNodeModules(nodeModulesRoot, additionalPackages);\n            assert.strictEqual(versions.reactNativeVersion, \&quot;0.20.0\&quot;);\n            assert.strictEqual(versions.reactNativeWindowsVersion, \&quot;0.60.0-vnext.68\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;081be8f6-cb1b-4959-af6e-df8f472ef9e0&quot;,&quot;parentUUID&quot;:&quot;0e72f934-9886-4b8e-a198-ecc0c09d0d6d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;getReactNativePackageVersionsFromNodeModules should return object containing strings if version field is an URL&quot;,&quot;fullTitle&quot;:&quot;projectVersionHelper getReactNativeVersionsFromNodeModules getReactNativePackageVersionsFromNodeModules should return object containing strings if version field is an URL&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const versionObj = {\n                version: \&quot;https://github.com/expo/react-native/archive/sdk-35.0.0.tar.gz\&quot;,\n            };\n            fs.writeFileSync(path.join(reactNativePackageDir, \&quot;package.json\&quot;), JSON.stringify(versionObj, null, 2));\n            const versions = yield projectVersionHelper_1.ProjectVersionHelper.getReactNativePackageVersionsFromNodeModules(nodeModulesRoot);\n            assert.strictEqual(versions.reactNativeVersion, \&quot;SemverInvalid: URL\&quot;);\n        })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7d6dd24e-48e3-4c7e-857e-6d39aea2305a&quot;,&quot;parentUUID&quot;:&quot;0e72f934-9886-4b8e-a198-ecc0c09d0d6d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;081be8f6-cb1b-4959-af6e-df8f472ef9e0&quot;,&quot;7d6dd24e-48e3-4c7e-857e-6d39aea2305a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[&quot;27774543-18b6-4698-81ff-4612cc9488c3&quot;,&quot;53f5bc1d-8028-4f94-9ca5-be7790f0debe&quot;,&quot;2324d47b-8dbd-482f-9559-b50848c946f7&quot;,&quot;780be886-60dd-4838-9731-8643c8b70837&quot;,&quot;fff3437f-5ffd-434a-b510-def7c56d2f45&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:5,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;5df252bb-2954-4551-a023-bcf32b3ebd67&quot;,&quot;title&quot;:&quot;ReactNativeProjectHelper&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/common/reactNativeProjectHelper.test.js&quot;,&quot;file&quot;:&quot;/test/common/reactNativeProjectHelper.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;4b9a5bee-d10b-4f3f-83a2-95ba8c7d77c1&quot;,&quot;title&quot;:&quot;isAndroidHermesEnabled&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/common/reactNativeProjectHelper.test.js&quot;,&quot;file&quot;:&quot;/test/common/reactNativeProjectHelper.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;isAndroidHermesEnabled\&quot;&quot;,&quot;fullTitle&quot;:&quot;ReactNativeProjectHelper isAndroidHermesEnabled \&quot;before all\&quot; hook in \&quot;isAndroidHermesEnabled\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;fsHelper.makeDirectoryRecursiveSync(path.dirname(buildGradleFilePath));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;db5fa0a3-a439-4834-8145-ac13f152824b&quot;,&quot;parentUUID&quot;:&quot;4b9a5bee-d10b-4f3f-83a2-95ba8c7d77c1&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;isAndroidHermesEnabled\&quot;&quot;,&quot;fullTitle&quot;:&quot;ReactNativeProjectHelper isAndroidHermesEnabled \&quot;after all\&quot; hook in \&quot;isAndroidHermesEnabled\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;fsHelper.removePathRecursivelySync(path.join(sampleReactNativeProjectDir, \&quot;android\&quot;));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cbc7f521-14bb-4638-9013-4dd08ca4f721&quot;,&quot;parentUUID&quot;:&quot;4b9a5bee-d10b-4f3f-83a2-95ba8c7d77c1&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;isAndroidHermesEnabled should return &#x27;true&#x27; if Hermes engine is enabled in the build.gradle file&quot;,&quot;fullTitle&quot;:&quot;ReactNativeProjectHelper isAndroidHermesEnabled isAndroidHermesEnabled should return &#x27;true&#x27; if Hermes engine is enabled in the build.gradle file&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const buildGradleFileContent = \&quot;project.ext.react = [\\nenableHermes: true,  // clean and rebuild if changing\\n]\&quot;;\nfs.writeFileSync(buildGradleFilePath, buildGradleFileContent);\nconst androidHermesEnabled = reactNativeProjectHelper_1.ReactNativeProjectHelper.isAndroidHermesEnabled(sampleReactNativeProjectDir);\nassert.strictEqual(androidHermesEnabled, true);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;468c579a-5469-4288-b025-cef6632edb87&quot;,&quot;parentUUID&quot;:&quot;4b9a5bee-d10b-4f3f-83a2-95ba8c7d77c1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;isAndroidHermesEnabled should return &#x27;false&#x27; if Hermes engine is disabled in the build.gradle file&quot;,&quot;fullTitle&quot;:&quot;ReactNativeProjectHelper isAndroidHermesEnabled isAndroidHermesEnabled should return &#x27;false&#x27; if Hermes engine is disabled in the build.gradle file&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const buildGradleFileContent = \&quot;project.ext.react = [\\nenableHermes: false,  // clean and rebuild if changing\\n]\&quot;;\nfs.writeFileSync(buildGradleFilePath, buildGradleFileContent);\nconst androidHermesEnabled = reactNativeProjectHelper_1.ReactNativeProjectHelper.isAndroidHermesEnabled(sampleReactNativeProjectDir);\nassert.strictEqual(androidHermesEnabled, false);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f9ba19f1-ff88-43a6-8e06-414c7424f460&quot;,&quot;parentUUID&quot;:&quot;4b9a5bee-d10b-4f3f-83a2-95ba8c7d77c1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;isAndroidHermesEnabled should return &#x27;false&#x27; if the Hermes engine parameter is absent in the build.gradle file&quot;,&quot;fullTitle&quot;:&quot;ReactNativeProjectHelper isAndroidHermesEnabled isAndroidHermesEnabled should return &#x27;false&#x27; if the Hermes engine parameter is absent in the build.gradle file&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const buildGradleFileContent = \&quot;project.ext.react = [\\n]\&quot;;\nfs.writeFileSync(buildGradleFilePath, buildGradleFileContent);\nconst androidHermesEnabled = reactNativeProjectHelper_1.ReactNativeProjectHelper.isAndroidHermesEnabled(sampleReactNativeProjectDir);\nassert.strictEqual(androidHermesEnabled, false);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;375bea15-c188-4da5-b0b4-85bae52daade&quot;,&quot;parentUUID&quot;:&quot;4b9a5bee-d10b-4f3f-83a2-95ba8c7d77c1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;468c579a-5469-4288-b025-cef6632edb87&quot;,&quot;f9ba19f1-ff88-43a6-8e06-414c7424f460&quot;,&quot;375bea15-c188-4da5-b0b4-85bae52daade&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;0cdee266-575e-4f89-b67e-9d4adfaa83f8&quot;,&quot;title&quot;:&quot;isIOSHermesEnabled&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/common/reactNativeProjectHelper.test.js&quot;,&quot;file&quot;:&quot;/test/common/reactNativeProjectHelper.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;isIOSHermesEnabled\&quot;&quot;,&quot;fullTitle&quot;:&quot;ReactNativeProjectHelper isIOSHermesEnabled \&quot;before all\&quot; hook in \&quot;isIOSHermesEnabled\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;fsHelper.makeDirectoryRecursiveSync(path.dirname(podfileFilePath));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;854cd399-acc7-4dd2-9a49-29cba96b94e3&quot;,&quot;parentUUID&quot;:&quot;0cdee266-575e-4f89-b67e-9d4adfaa83f8&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;isIOSHermesEnabled\&quot;&quot;,&quot;fullTitle&quot;:&quot;ReactNativeProjectHelper isIOSHermesEnabled \&quot;after all\&quot; hook in \&quot;isIOSHermesEnabled\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;fsHelper.removePathRecursivelySync(path.join(sampleReactNativeProjectDir, \&quot;ios\&quot;));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9adf6fbc-3198-4cc8-9854-447d6b8cfe9f&quot;,&quot;parentUUID&quot;:&quot;0cdee266-575e-4f89-b67e-9d4adfaa83f8&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;isIOSHermesEnabled should return &#x27;true&#x27; if Hermes engine is enabled in the Podfile file&quot;,&quot;fullTitle&quot;:&quot;ReactNativeProjectHelper isIOSHermesEnabled isIOSHermesEnabled should return &#x27;true&#x27; if Hermes engine is enabled in the Podfile file&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const podfileFileContent = \&quot;  use_react_native!(\\n\&quot; +\n    \&quot;    :path =&gt; config[:reactNativePath],\\n\&quot; +\n    \&quot;    # to enable hermes on iOS, change `false` to `true` and then install pods\\n\&quot; +\n    \&quot;    :hermes_enabled =&gt; true\\n\&quot; +\n    \&quot;  )\&quot;;\nfs.writeFileSync(podfileFilePath, podfileFileContent);\nconst iOSHermesEnabled = reactNativeProjectHelper_1.ReactNativeProjectHelper.isIOSHermesEnabled(sampleReactNativeProjectDir);\nassert.strictEqual(iOSHermesEnabled, true);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;02d77ec4-c745-45bc-8c3c-fec990f64294&quot;,&quot;parentUUID&quot;:&quot;0cdee266-575e-4f89-b67e-9d4adfaa83f8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;isIOSHermesEnabled should return &#x27;false&#x27; if Hermes engine is disabled in the Podfile file&quot;,&quot;fullTitle&quot;:&quot;ReactNativeProjectHelper isIOSHermesEnabled isIOSHermesEnabled should return &#x27;false&#x27; if Hermes engine is disabled in the Podfile file&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const podfileFileContent = \&quot;  use_react_native!(\\n\&quot; +\n    \&quot;    :path =&gt; config[:reactNativePath],\\n\&quot; +\n    \&quot;    # to enable hermes on iOS, change `false` to `true` and then install pods\\n\&quot; +\n    \&quot;    :hermes_enabled =&gt; false\\n\&quot; +\n    \&quot;  )\&quot;;\nfs.writeFileSync(podfileFilePath, podfileFileContent);\nconst iOSHermesEnabled = reactNativeProjectHelper_1.ReactNativeProjectHelper.isIOSHermesEnabled(sampleReactNativeProjectDir);\nassert.strictEqual(iOSHermesEnabled, false);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f0d459b9-8bc0-4a13-9cca-6684dfd79a25&quot;,&quot;parentUUID&quot;:&quot;0cdee266-575e-4f89-b67e-9d4adfaa83f8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;isIOSHermesEnabled should return &#x27;false&#x27; if the Hermes engine parameter is absent in the Podfile file&quot;,&quot;fullTitle&quot;:&quot;ReactNativeProjectHelper isIOSHermesEnabled isIOSHermesEnabled should return &#x27;false&#x27; if the Hermes engine parameter is absent in the Podfile file&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const podfileFileContent = \&quot;  use_react_native!(\\n\&quot; + \&quot;    :path =&gt; config[:reactNativePath],\\n\&quot; + \&quot;  )\&quot;;\nfs.writeFileSync(podfileFilePath, podfileFileContent);\nconst iOSHermesEnabled = reactNativeProjectHelper_1.ReactNativeProjectHelper.isIOSHermesEnabled(sampleReactNativeProjectDir);\nassert.strictEqual(iOSHermesEnabled, false);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fe0dc579-64c4-4ab5-816e-88975ccdcaac&quot;,&quot;parentUUID&quot;:&quot;0cdee266-575e-4f89-b67e-9d4adfaa83f8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;02d77ec4-c745-45bc-8c3c-fec990f64294&quot;,&quot;f0d459b9-8bc0-4a13-9cca-6684dfd79a25&quot;,&quot;fe0dc579-64c4-4ab5-816e-88975ccdcaac&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;13685b71-8a40-4cc5-9311-582b3e9891d0&quot;,&quot;title&quot;:&quot;isMacOSHermesEnabled&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/common/reactNativeProjectHelper.test.js&quot;,&quot;file&quot;:&quot;/test/common/reactNativeProjectHelper.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;isMacOSHermesEnabled\&quot;&quot;,&quot;fullTitle&quot;:&quot;ReactNativeProjectHelper isMacOSHermesEnabled \&quot;before all\&quot; hook in \&quot;isMacOSHermesEnabled\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;fsHelper.makeDirectoryRecursiveSync(path.dirname(podfileFilePath));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e1682a4d-a3fa-4497-b131-8e48ac548430&quot;,&quot;parentUUID&quot;:&quot;13685b71-8a40-4cc5-9311-582b3e9891d0&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;isMacOSHermesEnabled\&quot;&quot;,&quot;fullTitle&quot;:&quot;ReactNativeProjectHelper isMacOSHermesEnabled \&quot;after all\&quot; hook in \&quot;isMacOSHermesEnabled\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;fsHelper.removePathRecursivelySync(path.join(sampleReactNativeProjectDir, \&quot;macos\&quot;));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4bf294f6-3d02-4153-a2da-8a8f6d702594&quot;,&quot;parentUUID&quot;:&quot;13685b71-8a40-4cc5-9311-582b3e9891d0&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;isMacOSHermesEnabled should return &#x27;true&#x27; if the &#x27;hermes_enabled&#x27; parameter in the Podfile file is uncommented and equal to &#x27;true&#x27;&quot;,&quot;fullTitle&quot;:&quot;ReactNativeProjectHelper isMacOSHermesEnabled isMacOSHermesEnabled should return &#x27;true&#x27; if the &#x27;hermes_enabled&#x27; parameter in the Podfile file is uncommented and equal to &#x27;true&#x27;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const podfileFileContent = \&quot;  use_react_native!(\\n\&quot; +\n    \&quot;    :path =&gt; &#x27;../node_modules/react-native-macos&#x27;,\\n\&quot; +\n    \&quot;    # To use Hermes, install the `hermes-engine-darwin` npm package, e.g.:\\n\&quot; +\n    \&quot;    #   $ yarn add &#x27;hermes-engine-darwin@~0.5.3&#x27;\\n\&quot; +\n    \&quot;    #\\n\&quot; +\n    \&quot;    # Then enable this option:\\n\&quot; +\n    \&quot;    :hermes_enabled =&gt; true\\n\&quot; +\n    \&quot;  )\&quot;;\nfs.writeFileSync(podfileFilePath, podfileFileContent);\nconst macOSHermesEnabled = reactNativeProjectHelper_1.ReactNativeProjectHelper.isMacOSHermesEnabled(sampleReactNativeProjectDir);\nassert.strictEqual(macOSHermesEnabled, true);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;04687896-97d6-4d04-9a8a-2017bdceca6d&quot;,&quot;parentUUID&quot;:&quot;13685b71-8a40-4cc5-9311-582b3e9891d0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;isMacOSHermesEnabled should return &#x27;true&#x27; if the \&quot;pod &#x27;hermes&#x27;\&quot; parameter in the Podfile file is uncommented&quot;,&quot;fullTitle&quot;:&quot;ReactNativeProjectHelper isMacOSHermesEnabled isMacOSHermesEnabled should return &#x27;true&#x27; if the \&quot;pod &#x27;hermes&#x27;\&quot; parameter in the Podfile file is uncommented&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const podfileFileContent = \&quot;  target &#x27;rnmacos62-macOS&#x27; do\\n\&quot; +\n    \&quot;    platform :macos, &#x27;10.13&#x27;\\n\&quot; +\n    \&quot;    use_native_modules!\\n\&quot; +\n    \&quot;    # Enables Hermes\\n\&quot; +\n    \&quot;    #\\n\&quot; +\n    \&quot;    # Be sure to first install the `hermes-engine-darwin` npm package, e.g.:\\n\&quot; +\n    \&quot;    #\\n\&quot; +\n    \&quot;    #   $ yarn add &#x27;hermes-engine-darwin@^0.4.3&#x27;\\n\&quot; +\n    \&quot;    #\\n\&quot; +\n    \&quot;    pod &#x27;React-Core/Hermes&#x27;, :path =&gt; &#x27;../node_modules/react-native-macos/&#x27;\\n\&quot; +\n    \&quot;    pod &#x27;hermes&#x27;, :path =&gt; &#x27;../node_modules/hermes-engine-darwin&#x27;\\n\&quot; +\n    \&quot;    pod &#x27;libevent&#x27;, :podspec =&gt; &#x27;../node_modules/react-native-macos/third-party-podspecs/libevent.podspec&#x27;\\n\&quot; +\n    \&quot;    # Pods specifically for macOS target\\n\&quot; +\n    \&quot;  end\\n\&quot;;\nfs.writeFileSync(podfileFilePath, podfileFileContent);\nconst macOSHermesEnabled = reactNativeProjectHelper_1.ReactNativeProjectHelper.isMacOSHermesEnabled(sampleReactNativeProjectDir);\nassert.strictEqual(macOSHermesEnabled, true);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b0e2ac5b-dd49-49e1-b547-f8122ecff929&quot;,&quot;parentUUID&quot;:&quot;13685b71-8a40-4cc5-9311-582b3e9891d0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;isMacOSHermesEnabled should return &#x27;false&#x27; if the &#x27;hermes_enabled&#x27; parameter in the Podfile file is commented and equal to &#x27;true&#x27;&quot;,&quot;fullTitle&quot;:&quot;ReactNativeProjectHelper isMacOSHermesEnabled isMacOSHermesEnabled should return &#x27;false&#x27; if the &#x27;hermes_enabled&#x27; parameter in the Podfile file is commented and equal to &#x27;true&#x27;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const podfileFileContent = \&quot;  use_react_native!(\\n\&quot; +\n    \&quot;    :path =&gt; &#x27;../node_modules/react-native-macos&#x27;,\\n\&quot; +\n    \&quot;    # To use Hermes, install the `hermes-engine-darwin` npm package, e.g.:\\n\&quot; +\n    \&quot;    #   $ yarn add &#x27;hermes-engine-darwin@~0.5.3&#x27;\\n\&quot; +\n    \&quot;    #\\n\&quot; +\n    \&quot;    # Then enable this option:\\n\&quot; +\n    \&quot;    #   :hermes_enabled =&gt; true\\n\&quot; +\n    \&quot;  )\&quot;;\nfs.writeFileSync(podfileFilePath, podfileFileContent);\nconst macOSHermesEnabled = reactNativeProjectHelper_1.ReactNativeProjectHelper.isMacOSHermesEnabled(sampleReactNativeProjectDir);\nassert.strictEqual(macOSHermesEnabled, false);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;db653cc9-68b4-40e6-9ea1-75f96733be29&quot;,&quot;parentUUID&quot;:&quot;13685b71-8a40-4cc5-9311-582b3e9891d0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;isMacOSHermesEnabled should return &#x27;false&#x27; if the Hermes engine parameter is absent in the Podfile file&quot;,&quot;fullTitle&quot;:&quot;ReactNativeProjectHelper isMacOSHermesEnabled isMacOSHermesEnabled should return &#x27;false&#x27; if the Hermes engine parameter is absent in the Podfile file&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const podfileFileContent = \&quot;  use_react_native!(\\n\&quot; +\n    \&quot;    :path =&gt; &#x27;../node_modules/react-native-macos&#x27;,\\n\&quot; +\n    \&quot;  )\&quot;;\nfs.writeFileSync(podfileFilePath, podfileFileContent);\nconst macOSHermesEnabled = reactNativeProjectHelper_1.ReactNativeProjectHelper.isMacOSHermesEnabled(sampleReactNativeProjectDir);\nassert.strictEqual(macOSHermesEnabled, false);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cfa3dd63-982f-4010-a668-c0901df35994&quot;,&quot;parentUUID&quot;:&quot;13685b71-8a40-4cc5-9311-582b3e9891d0&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;04687896-97d6-4d04-9a8a-2017bdceca6d&quot;,&quot;b0e2ac5b-dd49-49e1-b547-f8122ecff929&quot;,&quot;db653cc9-68b4-40e6-9ea1-75f96733be29&quot;,&quot;cfa3dd63-982f-4010-a668-c0901df35994&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;efdbd8d2-b919-42ed-ab73-d550b48643af&quot;,&quot;title&quot;:&quot;isWindowsHermesEnabled&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/common/reactNativeProjectHelper.test.js&quot;,&quot;file&quot;:&quot;/test/common/reactNativeProjectHelper.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;isWindowsHermesEnabled\&quot;&quot;,&quot;fullTitle&quot;:&quot;ReactNativeProjectHelper isWindowsHermesEnabled \&quot;before all\&quot; hook in \&quot;isWindowsHermesEnabled\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;fsHelper.makeDirectoryRecursiveSync(path.dirname(experimentalFeaturesFilePath));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;baaecfc3-ec51-4c81-8b14-9fa9144da884&quot;,&quot;parentUUID&quot;:&quot;efdbd8d2-b919-42ed-ab73-d550b48643af&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;isWindowsHermesEnabled\&quot;&quot;,&quot;fullTitle&quot;:&quot;ReactNativeProjectHelper isWindowsHermesEnabled \&quot;after all\&quot; hook in \&quot;isWindowsHermesEnabled\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;fsHelper.removePathRecursivelySync(path.join(sampleReactNativeProjectDir, \&quot;windows\&quot;));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7c00d72b-c407-4d84-ad84-a747f2972128&quot;,&quot;parentUUID&quot;:&quot;efdbd8d2-b919-42ed-ab73-d550b48643af&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;isWindowsHermesEnabled should return &#x27;true&#x27; if Hermes engine is enabled in the ExperimentalFeatures.props file&quot;,&quot;fullTitle&quot;:&quot;ReactNativeProjectHelper isWindowsHermesEnabled isWindowsHermesEnabled should return &#x27;true&#x27; if Hermes engine is enabled in the ExperimentalFeatures.props file&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const experimentalFeaturesFileContent = &#x27;  &lt;PropertyGroup Label=\&quot;Microsoft.ReactNative Experimental Features\&quot;&gt;\\n&#x27; +\n    \&quot;    &lt;!--\\n\&quot; +\n    \&quot;      Enables default usage of Hermes.\\n\&quot; +\n    \&quot;      \\n\&quot; +\n    \&quot;      See https://microsoft.github.io/react-native-windows/docs/hermes\\n\&quot; +\n    \&quot;    --&gt;\\n\&quot; +\n    \&quot;    &lt;UseHermes&gt;true&lt;/UseHermes&gt;\\n\&quot; +\n    \&quot;    &lt;UseWinUI3&gt;false&lt;/UseWinUI3&gt;\\n\&quot; +\n    \&quot;  &lt;/PropertyGroup&gt;\&quot;;\nfs.writeFileSync(experimentalFeaturesFilePath, experimentalFeaturesFileContent);\nconst windowsHermesEnabled = reactNativeProjectHelper_1.ReactNativeProjectHelper.isWindowsHermesEnabled(sampleReactNativeProjectDir);\nassert.strictEqual(windowsHermesEnabled, true);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6e9065e3-c99d-4efe-9c75-ded061e1b4fe&quot;,&quot;parentUUID&quot;:&quot;efdbd8d2-b919-42ed-ab73-d550b48643af&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;isWindowsHermesEnabled should return &#x27;fasle&#x27; if Hermes engine is disabled in the ExperimentalFeatures.props file&quot;,&quot;fullTitle&quot;:&quot;ReactNativeProjectHelper isWindowsHermesEnabled isWindowsHermesEnabled should return &#x27;fasle&#x27; if Hermes engine is disabled in the ExperimentalFeatures.props file&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const experimentalFeaturesFileContent = &#x27;  &lt;PropertyGroup Label=\&quot;Microsoft.ReactNative Experimental Features\&quot;&gt;\\n&#x27; +\n    \&quot;    &lt;!--\\n\&quot; +\n    \&quot;      Enables default usage of Hermes.\\n\&quot; +\n    \&quot;      \\n\&quot;;\n\&quot;      See https://microsoft.github.io/react-native-windows/docs/hermes\\n\&quot; +\n    \&quot;    --&gt;\\n\&quot; +\n    \&quot;    &lt;UseHermes&gt;false&lt;/UseHermes&gt;\\n\&quot; +\n    \&quot;    &lt;UseWinUI3&gt;false&lt;/UseWinUI3&gt;\\n\&quot; +\n    \&quot;  &lt;/PropertyGroup&gt;\&quot;;\nfs.writeFileSync(experimentalFeaturesFilePath, experimentalFeaturesFileContent);\nconst windowsHermesEnabled = reactNativeProjectHelper_1.ReactNativeProjectHelper.isWindowsHermesEnabled(sampleReactNativeProjectDir);\nassert.strictEqual(windowsHermesEnabled, false);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;710ed534-2f55-4427-a0ae-30dd02bd04af&quot;,&quot;parentUUID&quot;:&quot;efdbd8d2-b919-42ed-ab73-d550b48643af&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;isWindowsHermesEnabled should return &#x27;fasle&#x27; if there is no the ExperimentalFeatures.props file&quot;,&quot;fullTitle&quot;:&quot;ReactNativeProjectHelper isWindowsHermesEnabled isWindowsHermesEnabled should return &#x27;fasle&#x27; if there is no the ExperimentalFeatures.props file&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;fsHelper.removePathRecursivelySync(path.join(sampleReactNativeProjectDir, \&quot;windows\&quot;));\nconst windowsHermesEnabled = reactNativeProjectHelper_1.ReactNativeProjectHelper.isWindowsHermesEnabled(sampleReactNativeProjectDir);\nassert.strictEqual(windowsHermesEnabled, false);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3bcca295-784b-4fbc-9983-03b69eba78e7&quot;,&quot;parentUUID&quot;:&quot;efdbd8d2-b919-42ed-ab73-d550b48643af&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;6e9065e3-c99d-4efe-9c75-ded061e1b4fe&quot;,&quot;710ed534-2f55-4427-a0ae-30dd02bd04af&quot;,&quot;3bcca295-784b-4fbc-9983-03b69eba78e7&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;6744a228-9761-4204-a38d-e6b35e7e38d8&quot;,&quot;title&quot;:&quot;utilHelper&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/common/utils.test.js&quot;,&quot;file&quot;:&quot;/test/common/utils.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;877a0578-ad63-465a-a3e6-7ad2065afb48&quot;,&quot;title&quot;:&quot;stripJsonTrailingComma&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/common/utils.test.js&quot;,&quot;file&quot;:&quot;/test/common/utils.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should remove trailing comma from a JSON&quot;,&quot;fullTitle&quot;:&quot;utilHelper stripJsonTrailingComma should remove trailing comma from a JSON&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const strWithTrailingComma = `\n{\n    \&quot;runtimeArgs\&quot;: [\n        \&quot;--inspect-brk=9237\&quot;,\n        \&quot;start\&quot;,\n    ],\n    \&quot;runtimeVersion\&quot;: \&quot;12.16.3\&quot;,\n    \&quot;port\&quot;: 9237,\n    \&quot;type\&quot;: \&quot;node\&quot;,\n    \&quot;name\&quot;: \&quot;some-project\&quot;,\n    \&quot;timeout\&quot;: 300000\n}\n`;\nconst strObject = utils_1.stripJsonTrailingComma(strWithTrailingComma);\nconst strippedStr = `{\n    \&quot;runtimeArgs\&quot;: [\n        \&quot;--inspect-brk=9237\&quot;,\n        \&quot;start\&quot;\n    ],\n    \&quot;runtimeVersion\&quot;: \&quot;12.16.3\&quot;,\n    \&quot;port\&quot;: 9237,\n    \&quot;type\&quot;: \&quot;node\&quot;,\n    \&quot;name\&quot;: \&quot;some-project\&quot;,\n    \&quot;timeout\&quot;: 300000\n}`;\nconst strippedStrObject = JSON.parse(strippedStr);\nassert.strictEqual(JSON.stringify(strObject), JSON.stringify(strippedStrObject));\ndone();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8732364b-1cc7-45f3-b39c-c4078361501d&quot;,&quot;parentUUID&quot;:&quot;877a0578-ad63-465a-a3e6-7ad2065afb48&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should manage string contains end of string trailing comma&quot;,&quot;fullTitle&quot;:&quot;utilHelper stripJsonTrailingComma should manage string contains end of string trailing comma&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const strWithTrailingComma = `\n{\n  \&quot;version\&quot;: \&quot;0.2.0\&quot;,\n  \&quot;configurations\&quot;: [\n    {\n      \&quot;name\&quot;: \&quot;Debug Android\&quot;,\n      \&quot;cwd\&quot;: \&quot;\\${workspaceFolder\\}\&quot;,\n      \&quot;type\&quot;: \&quot;reactnative\&quot;,\n      \&quot;request\&quot;: \&quot;launch\&quot;,\n      \&quot;platform\&quot;: \&quot;android\&quot;,\n      \&quot;logCatArguments\&quot;: [\&quot;ReactNative\&quot;, \&quot;ReactNativeJS\&quot;],\n      \&quot;env\&quot;: {\n        \&quot;testvar\&quot;: \&quot;(value0), (value1), (value2)\&quot;\n      }\n    }\n  ]\n},\n`;\nconst strObject = utils_1.stripJsonTrailingComma(strWithTrailingComma);\nconst strippedStr = `\n{\n  \&quot;version\&quot;: \&quot;0.2.0\&quot;,\n  \&quot;configurations\&quot;: [\n    {\n      \&quot;name\&quot;: \&quot;Debug Android\&quot;,\n      \&quot;cwd\&quot;: \&quot;\\${workspaceFolder\\}\&quot;,\n      \&quot;type\&quot;: \&quot;reactnative\&quot;,\n      \&quot;request\&quot;: \&quot;launch\&quot;,\n      \&quot;platform\&quot;: \&quot;android\&quot;,\n      \&quot;logCatArguments\&quot;: [\&quot;ReactNative\&quot;, \&quot;ReactNativeJS\&quot;],\n      \&quot;env\&quot;: {\n        \&quot;testvar\&quot;: \&quot;(value0), (value1), (value2)\&quot;\n      }\n    }\n  ]\n}\n`;\nconst strippedStrObject = JSON.parse(strippedStr);\nassert.strictEqual(JSON.stringify(strObject), JSON.stringify(strippedStrObject));\ndone();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;aa1068b1-3412-43c7-9de7-4aad01db2b81&quot;,&quot;parentUUID&quot;:&quot;877a0578-ad63-465a-a3e6-7ad2065afb48&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8732364b-1cc7-45f3-b39c-c4078361501d&quot;,&quot;aa1068b1-3412-43c7-9de7-4aad01db2b81&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;04277c48-1d4d-42ea-8fd5-19be72f85509&quot;,&quot;title&quot;:&quot;appWorker&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/debugger/appWorker.test.js&quot;,&quot;file&quot;:&quot;/test/debugger/appWorker.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;e8988e58-5e83-4288-8c31-51086e848b16&quot;,&quot;title&quot;:&quot;debuggerContext&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/debugger/appWorker.test.js&quot;,&quot;file&quot;:&quot;/test/debugger/appWorker.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;22ebc181-23f1-43b3-b483-f0c27544dc56&quot;,&quot;title&quot;:&quot;SandboxedAppWorker&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/debugger/appWorker.test.js&quot;,&quot;file&quot;:&quot;/test/debugger/appWorker.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;appWorker debuggerContext SandboxedAppWorker \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Reset everything\nif (spawnStub) {\n    spawnStub.restore();\n}\npostReplyFunction.reset();\nif (testWorker) {\n    testWorker.stop();\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5a0e889f-b79c-4a9f-a65d-7ff11106df7a&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should execute scripts correctly and be able to invoke the callback&quot;,&quot;fullTitle&quot;:&quot;appWorker debuggerContext SandboxedAppWorker should execute scripts correctly and be able to invoke the callback&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const expectedMessageResult = { success: true };\n    const startScriptContents = `var testResponse = ${JSON.stringify(expectedMessageResult)}; postMessage(testResponse);`;\n    yield workerWithScript(startScriptContents).start();\n    yield promise_1.PromiseUtil.delay(1000);\n    assert(postReplyFunction.calledWithExactly(expectedMessageResult));\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7eae3559-5d39-4c0f-b239-ba2f8a2db6b2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should be able to import scripts&quot;,&quot;fullTitle&quot;:&quot;appWorker debuggerContext SandboxedAppWorker should be able to import scripts&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    // NOTE: we&#x27;re not able to mock reading script for import since this is performed by a\n    // separate node process and is out of control so we must provide a real script file\n    const scriptImportPath = path\n        .resolve(sourcesStoragePath, \&quot;importScriptsTest.js\&quot;)\n        .replace(/\\\\/g, \&quot;/\&quot;);\n    const startScriptContents = `importScripts(\&quot;${scriptImportPath}\&quot;); postMessage(\&quot;postImport\&quot;);`;\n    yield workerWithScript(startScriptContents).start();\n    // We have not yet finished importing the script, we should not have posted a response yet\n    assert(postReplyFunction.notCalled, \&quot;postReplyFuncton called before scripts imported\&quot;);\n    yield promise_1.PromiseUtil.delay(500);\n    assert(postReplyFunction.calledWith(\&quot;postImport\&quot;), \&quot;postMessage after import not handled\&quot;);\n    assert(postReplyFunction.calledWith(\&quot;inImport\&quot;), \&quot;postMessage not registered from within import\&quot;);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;538af68f-3dfd-4219-ac6a-440bf75ac02d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should correctly pass postMessage to the loaded script&quot;,&quot;fullTitle&quot;:&quot;appWorker debuggerContext SandboxedAppWorker should correctly pass postMessage to the loaded script&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const startScriptContents = `onmessage = postMessage;`;\n    const testMessage = { method: \&quot;test\&quot;, success: true };\n    const worker = workerWithScript(startScriptContents);\n    yield worker.start();\n    assert(postReplyFunction.notCalled, \&quot;postReplyFunction called before message sent\&quot;);\n    worker.postMessage(testMessage);\n    yield promise_1.PromiseUtil.delay(1000);\n    assert(postReplyFunction.calledWith({ data: testMessage }), \&quot;No echo back from app\&quot;);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;45fdbc80-beb9-4a4a-8bd6-fba01775900c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should be able to require an installed node module via __debug__.require&quot;,&quot;fullTitle&quot;:&quot;appWorker debuggerContext SandboxedAppWorker should be able to require an installed node module via __debug__.require&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const expectedMessageResult = { promiseString: Promise.toString() };\n    const startScriptContents = `var testResponse = { promiseString: Promise.toString() };\n    postMessage(testResponse);`;\n    yield workerWithScript(startScriptContents).start();\n    yield promise_1.PromiseUtil.delay(5000);\n    assert(postReplyFunction.calledWithExactly(expectedMessageResult));\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7a63991f-dd3c-475a-a34c-6bea1de74fe2&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;should download script from remote packager&quot;,&quot;fullTitle&quot;:&quot;appWorker debuggerContext SandboxedAppWorker should download script from remote packager&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n                class MockAppWorker extends forkedAppWorker_1.ForkedAppWorker {\n                    constructor() {\n                        super(...arguments);\n                        this.debuggeeProcess = {\n                            send: () =&gt; void 0,\n                        };\n                    }\n                }\n                const remotePackagerAddress = \&quot;1.2.3.4\&quot;;\n                const remotePackagerPort = 1337;\n                const worker = new MockAppWorker(remotePackagerAddress, remotePackagerPort, sourcesStoragePath, \&quot;\&quot;, postReplyFunction);\n                const downloadAppScriptStub = sinon.stub(worker.scriptImporter, \&quot;downloadAppScript\&quot;);\n                const fakeDownloadedScript = { filepath: \&quot;/home/test/file\&quot; };\n                downloadAppScriptStub.returns(Promise.resolve(fakeDownloadedScript));\n                const debuggeeProcessSendStub = sinon.stub(worker.debuggeeProcess, \&quot;send\&quot;);\n                worker.workerLoaded = Promise.resolve();\n                const fakeMessage = {\n                    method: \&quot;executeApplicationScript\&quot;,\n                    url: \&quot;http://localhost:8081/test-url\&quot;,\n                };\n                yield worker.postMessage(fakeMessage);\n                assert.strictEqual(downloadAppScriptStub.calledOnce, true);\n                assert.strictEqual(downloadAppScriptStub.firstCall.args[0], `http://${remotePackagerAddress}:${remotePackagerPort}/test-url`);\n                assert.strictEqual(debuggeeProcessSendStub.calledOnce, true);\n                assert.deepStrictEqual(debuggeeProcessSendStub.firstCall.args[0], {\n                    data: Object.assign(Object.assign({}, fakeMessage), { url: worker.pathToFileUrl(fakeDownloadedScript.filepath) }),\n                });\n            })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0060d2c5-aacc-47c9-b934-eb8b52f12988&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;debuggee process should pass its output to appWorker&quot;,&quot;fullTitle&quot;:&quot;appWorker debuggerContext SandboxedAppWorker debuggee process should pass its output to appWorker&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;class MockAppWorker extends forkedAppWorker_1.ForkedAppWorker {\n    getDebuggeeProcess() {\n        return this.debuggeeProcess;\n    }\n}\nconst sourcesStoragePath = path.resolve(__dirname, \&quot;assets\&quot;, \&quot;consoleLog\&quot;);\nconst testWorker = new MockAppWorker(\&quot;localhost\&quot;, packagerPort, sourcesStoragePath, \&quot;\&quot;, \n// eslint-disable-next-line @typescript-eslint/no-empty-function\n() =&gt; { });\nlet ws;\nlet waitForContinue;\nlet waitForCheckingOutput;\nlet debuggeeProcess;\nteardown(done =&gt; {\n    if (ws)\n        ws.close();\n    done();\n});\nconst sendContinueToDebuggee = (wsDebuggerUrl, resolve, reject) =&gt; {\n    ws = new WebSocket(wsDebuggerUrl);\n    ws.on(\&quot;open\&quot;, function open() {\n        ws.send(JSON.stringify({\n            // id is just a random number, because debugging protocol requires it\n            id: 100,\n            method: \&quot;Runtime.runIfWaitingForDebugger\&quot;,\n        }), (err) =&gt; __awaiter(this, void 0, void 0, function* () {\n            if (err) {\n                reject(err);\n            }\n            // Delay is needed for debuggee process to execute script\n            yield promise_1.PromiseUtil.delay(1000);\n            resolve();\n        }));\n    });\n    ws.on(\&quot;error\&quot;, () =&gt; {\n        // Suppress any errors from websocket client otherwise you&#x27;d get ECONNRESET or 400 errors\n        // for some reasons\n    });\n};\nwaitForContinue = new Promise((resolve, reject) =&gt; __awaiter(this, void 0, void 0, function* () {\n    yield testWorker.start();\n    let output = \&quot;\&quot;;\n    let debugOutput = \&quot;\&quot;;\n    let isAlreadySending = false;\n    debuggeeProcess = testWorker.getDebuggeeProcess();\n    debuggeeProcess.stderr.on(\&quot;data\&quot;, (data) =&gt; {\n        // Two notices:\n        // 1. More correct way would be getting websocket debugger url by requesting GET http://localhost:debugPort/json/list\n        //    but for some reason sometimes it returns ECONNRESET, so we have to find it in debug logs produced by debuggee\n        // 2. Debuggee process writes debug logs in stderr for some reasons\n        data = data.toString();\n        debugOutput += data;\n        console.log(data);\n        // Looking for websocket url\n        // 1. Node v8+: ws://127.0.0.1:31732/7dd4c075-3222-4f31-8fb5-50cc5705dd21\n        const guidPattern = \&quot;[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}\&quot;;\n        const finalPattern = new RegExp(`(ws:\\/\\/127.0.0.1:[0-9]+\\/${guidPattern}$)`, \&quot;gm\&quot;);\n        let found = debugOutput.match(finalPattern);\n        if (found &amp;&amp; !isAlreadySending) {\n            isAlreadySending = true;\n            // Debuggee process which has been ran with --debug-brk will be stopped at 0 line,\n            // so we have to send it a command to continue execution of the script via websocket.\n            sendContinueToDebuggee(found[0], resolve, reject);\n            return;\n        }\n        // 2. Node v6: ws=127.0.0.1:31732/7dd4c075-3222-4f31-8fb5-50cc5705dd21\n        found = debugOutput.match(/(ws=.+$)/gm);\n        if (found) {\n            sendContinueToDebuggee(found[0].replace(\&quot;ws=\&quot;, \&quot;ws:\\\\\\\\\&quot;), resolve, reject);\n            return;\n        }\n    });\n    debuggeeProcess.stdout.on(\&quot;data\&quot;, (data) =&gt; {\n        output += data;\n    });\n    debuggeeProcess.on(\&quot;exit\&quot;, () =&gt; {\n        assert.notEqual(output, \&quot;\&quot;);\n        assert.strictEqual(output.trim(), \&quot;test output from debuggee process\&quot;);\n        waitForCheckingOutput = Promise.resolve();\n    });\n    yield waitForContinue;\n    debuggeeProcess.kill();\n    yield waitForCheckingOutput;\n}));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6b2f3416-485e-4fce-9673-6f63ad5388b8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;7eae3559-5d39-4c0f-b239-ba2f8a2db6b2&quot;,&quot;538af68f-3dfd-4219-ac6a-440bf75ac02d&quot;,&quot;45fdbc80-beb9-4a4a-8bd6-fba01775900c&quot;,&quot;7a63991f-dd3c-475a-a34c-6bea1de74fe2&quot;,&quot;0060d2c5-aacc-47c9-b934-eb8b52f12988&quot;,&quot;6b2f3416-485e-4fce-9673-6f63ad5388b8&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;8ff353e6-f1f2-464b-a638-3827d0820d5a&quot;,&quot;title&quot;:&quot;ScriptImporter&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/debugger/appWorker.test.js&quot;,&quot;file&quot;:&quot;/test/debugger/appWorker.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;appWorker debuggerContext ScriptImporter \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;scriptImporter = new scriptImporter_1.ScriptImporter(\&quot;localhost\&quot;, 8081, \&quot;sources\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;471246cb-51d6-4d7a-aa9c-a60a8e2da6be&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;prepareDebuggerWorkerURL should return correct URL for RN &lt; 0.50.0&quot;,&quot;fullTitle&quot;:&quot;appWorker debuggerContext ScriptImporter prepareDebuggerWorkerURL should return correct URL for RN &lt; 0.50.0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.strictEqual(scriptImporter.prepareDebuggerWorkerURL(\&quot;0.49.0\&quot;), \&quot;http://localhost:8081/debuggerWorker.js\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;037c51ec-2eac-4802-95aa-12970652a365&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;prepareDebuggerWorkerURL should return correct URL for RN &gt;= 0.50.0&quot;,&quot;fullTitle&quot;:&quot;appWorker debuggerContext ScriptImporter prepareDebuggerWorkerURL should return correct URL for RN &gt;= 0.50.0&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.strictEqual(scriptImporter.prepareDebuggerWorkerURL(\&quot;0.50.0\&quot;), \&quot;http://localhost:8081/debugger-ui/debuggerWorker.js\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e586becb-ec33-484c-93d1-9f67ca4cb5b9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;prepareDebuggerWorkerURL should return correct URL when debuggerWorkerUrlPath is used&quot;,&quot;fullTitle&quot;:&quot;appWorker debuggerContext ScriptImporter prepareDebuggerWorkerURL should return correct URL when debuggerWorkerUrlPath is used&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.strictEqual(scriptImporter.prepareDebuggerWorkerURL(\&quot;0.55.4\&quot;, \&quot;\&quot;), \&quot;http://localhost:8081/debuggerWorker.js\&quot;);\nassert.strictEqual(scriptImporter.prepareDebuggerWorkerURL(\&quot;0.55.4\&quot;, \&quot;new-debugger/\&quot;), \&quot;http://localhost:8081/new-debugger/debuggerWorker.js\&quot;);\nassert.strictEqual(scriptImporter.prepareDebuggerWorkerURL(\&quot;0.55.4\&quot;, undefined), \&quot;http://localhost:8081/debugger-ui/debuggerWorker.js\&quot;);\nassert.strictEqual(scriptImporter.prepareDebuggerWorkerURL(\&quot;0.49.0\&quot;, \&quot;debugger-ui/\&quot;), \&quot;http://localhost:8081/debugger-ui/debuggerWorker.js\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f22c7d60-8e8d-4a99-a09a-19880645d3f1&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;037c51ec-2eac-4802-95aa-12970652a365&quot;,&quot;e586becb-ec33-484c-93d1-9f67ca4cb5b9&quot;,&quot;f22c7d60-8e8d-4a99-a09a-19880645d3f1&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;81cb995f-aada-4df4-8ab4-7cb168f68424&quot;,&quot;title&quot;:&quot;MultipleLifetimesAppWorker&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/debugger/appWorker.test.js&quot;,&quot;file&quot;:&quot;/test/debugger/appWorker.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;appWorker debuggerContext MultipleLifetimesAppWorker \&quot;before each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;webSocket = sinon.createStubInstance(WebSocket);\nsandboxedAppWorkerStub = sinon.createStubInstance(forkedAppWorker_1.ForkedAppWorker);\nappWorkerModuleStub = sinon\n    .stub(ForkedAppWorkerModule, \&quot;ForkedAppWorker\&quot;)\n    .returns(sandboxedAppWorkerStub);\nconst messageInvocation = webSocket.on.withArgs(\&quot;message\&quot;);\nsendMessage = (message) =&gt; messageInvocation.callArgWith(1, message);\nwebSocketConstructor = sinon.stub();\nwebSocketConstructor.returns(webSocket);\npackagerIsRunning = sinon.stub(packagerStatus, \&quot;ensurePackagerRunning\&quot;);\npackagerIsRunning.returns(Promise.resolve());\nconst attachRequestArguments = {\n    address: \&quot;localhost\&quot;,\n    port: packagerPort,\n};\nmultipleLifetimesWorker = new appWorker_1.MultipleLifetimesAppWorker(attachRequestArguments, sourcesStoragePath, \&quot;\&quot;, new vscode.CancellationTokenSource().token, {\n    webSocketConstructor: webSocketConstructor,\n});\nsinon\n    .stub(multipleLifetimesWorker, \&quot;downloadAndPatchDebuggerWorker\&quot;)\n    .returns(Promise.resolve());&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;12470540-d8ed-4b84-a120-eb36174649a5&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook&quot;,&quot;fullTitle&quot;:&quot;appWorker debuggerContext MultipleLifetimesAppWorker \&quot;after each\&quot; hook&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// Reset everything\nmultipleLifetimesWorker.stop();\nappWorkerModuleStub.restore();\npackagerIsRunning.restore();\nif (clock) {\n    clock.restore();\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7aa79f89-a895-40b3-8691-9592667f3619&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;with packager running should construct a websocket connection to the correct endpoint and listen for events&quot;,&quot;fullTitle&quot;:&quot;appWorker debuggerContext MultipleLifetimesAppWorker with packager running should construct a websocket connection to the correct endpoint and listen for events&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    yield multipleLifetimesWorker.start();\n    const websocketRegex = new RegExp(\&quot;ws://[^:]*:[0-9]*/debugger-proxy\\\\?role=debugger\&quot;);\n    assert(webSocketConstructor.calledWithMatch(websocketRegex), \&quot;The web socket was not constructed to the correct url: \&quot; +\n        webSocketConstructor.args[0][0]);\n    const expectedListeners = [\&quot;open\&quot;, \&quot;close\&quot;, \&quot;message\&quot;, \&quot;error\&quot;];\n    expectedListeners.forEach(event =&gt; {\n        assert(webSocket.on.calledWithMatch(event), `Missing listener for ${event}`);\n    });\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;559a9aa2-f60f-4501-8d19-9e62a2d1973a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;with packager running should attempt to reconnect after disconnecting&quot;,&quot;fullTitle&quot;:&quot;appWorker debuggerContext MultipleLifetimesAppWorker with packager running should attempt to reconnect after disconnecting&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    let startWorker = sinon.spy(multipleLifetimesWorker, \&quot;start\&quot;);\n    yield multipleLifetimesWorker.start();\n    // Forget previous invocations\n    startWorker.reset();\n    packagerIsRunning.returns(Promise.resolve());\n    clock = sinon.useFakeTimers();\n    const closeInvocation = webSocket.on.withArgs(\&quot;close\&quot;);\n    closeInvocation.callArg(1);\n    // Ensure that the retry is 100ms after the disconnection\n    clock.tick(99);\n    assert(startWorker.notCalled, \&quot;Attempted to reconnect too quickly\&quot;);\n    clock.tick(1);\n    assert(startWorker.called);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;71ba6fc7-762b-4e3c-b701-dcb2053a07b3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;with packager running should respond correctly to prepareJSRuntime messages&quot;,&quot;fullTitle&quot;:&quot;appWorker debuggerContext MultipleLifetimesAppWorker with packager running should respond correctly to prepareJSRuntime messages&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    yield multipleLifetimesWorker.start();\n    const messageId = 1;\n    const testMessage = JSON.stringify({\n        method: \&quot;prepareJSRuntime\&quot;,\n        id: messageId,\n    });\n    const expectedReply = JSON.stringify({ replyID: messageId });\n    const appWorkerStart = sandboxedAppWorkerStub.start;\n    const websocketSend = webSocket.send;\n    const appWorkerDeferred = new Promise(resolve =&gt; {\n        appWorkerStart.returns(appWorkerDeferred);\n        sendMessage(testMessage);\n        assert(appWorkerStart.called, \&quot;SandboxedAppWorker not started in respones to prepareJSRuntime\&quot;);\n        assert(websocketSend.notCalled, \&quot;Response sent prior to configuring sandbox worker\&quot;);\n        resolve();\n    });\n    yield promise_1.PromiseUtil.delay(1);\n    assert(websocketSend.calledWith(expectedReply), \&quot;Did not receive the expected response to prepareJSRuntime\&quot;);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4f6c432f-901f-4d19-9d65-dc84acbaec94&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;with packager running should pass unknown messages to the sandboxedAppWorker&quot;,&quot;fullTitle&quot;:&quot;appWorker debuggerContext MultipleLifetimesAppWorker with packager running should pass unknown messages to the sandboxedAppWorker&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    yield multipleLifetimesWorker.start();\n    // Start up an app worker\n    const prepareJSMessage = JSON.stringify({ method: \&quot;prepareJSRuntime\&quot;, id: 1 });\n    const appWorkerStart = sandboxedAppWorkerStub.start;\n    appWorkerStart.returns(Promise.resolve());\n    sendMessage(prepareJSMessage);\n    // Then attempt to message it\n    const testMessage = { method: \&quot;unknownMethod\&quot; };\n    const testMessageString = JSON.stringify(testMessage);\n    const postMessageStub = sandboxedAppWorkerStub.postMessage;\n    assert(postMessageStub.notCalled, \&quot;sandboxedAppWorker.postMessage called prior to any message\&quot;);\n    sendMessage(testMessageString);\n    assert(postMessageStub.calledWith(testMessage), \&quot;message was not passed to sandboxedAppWorker\&quot;);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0aed8722-ef39-4b9e-8cef-5c1d339f3396&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;with packager running should close connection if there is another debugger connected to packager&quot;,&quot;fullTitle&quot;:&quot;appWorker debuggerContext MultipleLifetimesAppWorker with packager running should close connection if there is another debugger connected to packager&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n                yield multipleLifetimesWorker.start();\n                // Forget previous invocations\n                webSocketConstructor.reset();\n                clock = sinon.useFakeTimers(new Date().getTime());\n                const closeInvocation = webSocket.on.withArgs(\&quot;close\&quot;);\n                webSocket._closeMessage = \&quot;Another debugger is already connected\&quot;;\n                closeInvocation.callArg(1);\n                // Ensure it doesn&#x27;t try to reconnect\n                clock.tick(100);\n                assert(webSocketConstructor.notCalled, \&quot;socket attempted to reconnect\&quot;);\n            })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;93738d02-2da6-44e3-a915-dd4931d9450c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;without packager running should not start if there is no packager running&quot;,&quot;fullTitle&quot;:&quot;appWorker debuggerContext MultipleLifetimesAppWorker without packager running should not start if there is no packager running&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n                packagerIsRunning.returns(Promise.reject(new Error()));\n                try {\n                    yield multipleLifetimesWorker.start();\n                }\n                catch (error) {\n                    assert(webSocketConstructor.notCalled, \&quot;socket should not be created\&quot;);\n                }\n            })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a281fd35-2642-477b-8bf1-1ef1605fb130&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;559a9aa2-f60f-4501-8d19-9e62a2d1973a&quot;,&quot;71ba6fc7-762b-4e3c-b701-dcb2053a07b3&quot;,&quot;4f6c432f-901f-4d19-9d65-dc84acbaec94&quot;,&quot;0aed8722-ef39-4b9e-8cef-5c1d339f3396&quot;,&quot;93738d02-2da6-44e3-a915-dd4931d9450c&quot;,&quot;a281fd35-2642-477b-8bf1-1ef1605fb130&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;bd6a9bb0-c934-433b-95f8-4391db8d87e0&quot;,&quot;title&quot;:&quot;console.trace()&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/debugger/appWorker.test.js&quot;,&quot;file&quot;:&quot;/test/debugger/appWorker.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;console.trace() patch should produce a correct output if called without args&quot;,&quot;fullTitle&quot;:&quot;appWorker debuggerContext console.trace() console.trace() patch should produce a correct output if called without args&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const consoleTraceCall = `console.trace();`;\nconst expectedTraceMessage = \&quot;Trace\&quot;;\nrunScriptAndCheckOutput(expectedTraceMessage, consoleTraceCall, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6d27edec-1cf5-4d50-b970-24df8f28741b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;console.trace() patch should produce a correct output if called with simple args&quot;,&quot;fullTitle&quot;:&quot;appWorker debuggerContext console.trace() console.trace() patch should produce a correct output if called with simple args&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const consoleTraceCall = `console.trace(\\\&quot;Simple string\\\&quot;, 1337);`;\nconst expectedTraceMessage = \&quot;Trace: Simple string 1337\&quot;;\nrunScriptAndCheckOutput(expectedTraceMessage, consoleTraceCall, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b7d304b6-c51c-4479-b7d5-ba6247a3aea4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;console.trace() patch should produce a correct output if called with formatted string&quot;,&quot;fullTitle&quot;:&quot;appWorker debuggerContext console.trace() console.trace() patch should produce a correct output if called with formatted string&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const consoleTraceCall = `console.trace(\&quot;%s: %d\&quot;, \&quot;Format string prints\&quot;, 42);`;\nconst expectedTraceMessage = \&quot;Trace: Format string prints: 42\&quot;;\nrunScriptAndCheckOutput(expectedTraceMessage, consoleTraceCall, done);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;56c04c4e-02a2-428f-8085-bcae6a4e6324&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;6d27edec-1cf5-4d50-b970-24df8f28741b&quot;,&quot;b7d304b6-c51c-4479-b7d5-ba6247a3aea4&quot;,&quot;56c04c4e-02a2-428f-8085-bcae6a4e6324&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;2d2ad9ac-92ee-4960-88c0-31bc2cc474f1&quot;,&quot;title&quot;:&quot;process.toString()&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/debugger/appWorker.test.js&quot;,&quot;file&quot;:&quot;/test/debugger/appWorker.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;process.toString() should return empty string to avoid errors in native app&quot;,&quot;fullTitle&quot;:&quot;appWorker debuggerContext process.toString() process.toString() should return empty string to avoid errors in native app&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const nodeProcessCheckToStringReturnCommand = \&quot;console.log(process.toString());\&quot;;\nconst nodeProcessCheckCommand = \&quot;console.log(Object.prototype.toString.call(typeof process !== &#x27;undefined&#x27; ? process : 0) === &#x27;[object process]&#x27;);\&quot;;\nconst script = [\n    appWorker_1.MultipleLifetimesAppWorker.PROCESS_TO_STRING_PATCH,\n    nodeProcessCheckToStringReturnCommand,\n    nodeProcessCheckCommand,\n].join(\&quot;\\n\&quot;);\nconst testProcess = child_process.spawn(\&quot;node\&quot;, [\&quot;-e\&quot;, script]);\nlet procData = \&quot;\&quot;;\nlet procErrData = \&quot;\&quot;;\ntestProcess.stdout.on(\&quot;data\&quot;, (data) =&gt; {\n    procData += data.toString();\n});\ntestProcess.stderr.on(\&quot;data\&quot;, (data) =&gt; {\n    procErrData += data.toString();\n});\ntestProcess.on(\&quot;error\&quot;, (err) =&gt; {\n    console.error(err);\n});\ntestProcess.on(\&quot;close\&quot;, (code) =&gt; {\n    assert.strictEqual(code, 0);\n    if (procErrData !== \&quot;\&quot;) {\n        assert.fail(procErrData);\n    }\n    const output = procData.split(\&quot;\\n\&quot;);\n    assert.strictEqual(output[0].trim(), \&quot;\&quot;);\n    assert.strictEqual(output[1].trim(), \&quot;false\&quot;);\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f7a74323-7899-4b9c-9cc6-9f0f839a67c3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;f7a74323-7899-4b9c-9cc6-9f0f839a67c3&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;bc4581b4-db25-4d89-88ae-63ca8f5e9943&quot;,&quot;title&quot;:&quot;node --no-deprecation tests&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/debugger/appWorker.test.js&quot;,&quot;file&quot;:&quot;/test/debugger/appWorker.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;node process should work with --no-deprecation flag and produce no deprecation warnings for Buffer function and GLOBAL variable usage&quot;,&quot;fullTitle&quot;:&quot;appWorker debuggerContext node --no-deprecation tests node process should work with --no-deprecation flag and produce no deprecation warnings for Buffer function and GLOBAL variable usage&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const globalVariableCheck = \&quot;GLOBAL.toString();\&quot;;\nconst bufferCommandCheck = \&quot;Buffer(&#x27;TestString&#x27;);\&quot;;\nconst script = [globalVariableCheck, bufferCommandCheck].join(\&quot;\\n\&quot;);\nconst testProcess = child_process.spawn(\&quot;node\&quot;, [\&quot;--no-deprecation\&quot;, \&quot;-e\&quot;, script]);\nlet procData = \&quot;\&quot;;\nlet procErrData = \&quot;\&quot;;\ntestProcess.stdout.on(\&quot;data\&quot;, (data) =&gt; {\n    procData += data.toString();\n});\ntestProcess.stderr.on(\&quot;data\&quot;, (data) =&gt; {\n    procErrData += data.toString();\n});\ntestProcess.on(\&quot;error\&quot;, (err) =&gt; {\n    console.error(err);\n});\ntestProcess.on(\&quot;close\&quot;, (code) =&gt; {\n    assert.strictEqual(code, 0);\n    if (procErrData !== \&quot;\&quot;) {\n        if (procErrData.indexOf(\&quot;DeprecationWarning\&quot;) !== -1 ||\n            procErrData.indexOf(\&quot;DEP\&quot;) !== -1) {\n            assert.fail(`Deprecation messages found in stderr:\\n ${procErrData}`);\n        }\n        else {\n            assert.fail(procErrData);\n        }\n    }\n    if (procData !== \&quot;\&quot;) {\n        if (procData.indexOf(\&quot;DeprecationWarning\&quot;) !== -1 ||\n            procData.indexOf(\&quot;DEP\&quot;) !== -1) {\n            assert.fail(`Deprecation messages found in stdout:\\n ${procData}`);\n        }\n    }\n    done();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a05d19df-d20e-4867-af1f-d80c9e19e126&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;a05d19df-d20e-4867-af1f-d80c9e19e126&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;d53b3865-d0ff-45c2-b1a6-e770bf4967a8&quot;,&quot;title&quot;:&quot;sourceMap&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/debugger/sourceMap.test.js&quot;,&quot;file&quot;:&quot;/test/debugger/sourceMap.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should convert host filesystem paths to URL-style-paths&quot;,&quot;fullTitle&quot;:&quot;sourceMap should convert host filesystem paths to URL-style-paths&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const sourceMap = new sourceMap_1.SourceMapUtil();\nconst filePath = path.join(\&quot;foo\&quot;, \&quot;bar\&quot;, \&quot;baz\&quot;);\nconst urlPath = \&quot;foo/bar/baz\&quot;;\nconst result = sourceMap.makeUnixStylePath(filePath);\nassert(result === urlPath, `Expected \&quot;${urlPath}\&quot;, found \&quot;${result}\&quot;`);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3d9ef575-3d0a-460b-8f24-5780a487df2f&quot;,&quot;parentUUID&quot;:&quot;d53b3865-d0ff-45c2-b1a6-e770bf4967a8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should ignore sourcemap urls in JavaScript objects and strings&quot;,&quot;fullTitle&quot;:&quot;sourceMap should ignore sourcemap urls in JavaScript objects and strings&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const expectedUrlHref = \&quot;http://localhost:8081/index.map?platform=android&amp;dev=true\&quot;;\nconst sourceMap = new sourceMap_1.SourceMapUtil();\nconst testFunction = (scriptBody, expectedResult) =&gt; {\n    const matchResult = sourceMap.searchSourceMapURL(scriptBody);\n    assert.strictEqual(expectedResult, matchResult &amp;&amp; matchResult[2]);\n};\ntestFunction(&#x27;var myTest = \&quot;\\\\n//# sourceMappingURL=test.min.js.map\\\\n\\\\n//# sourceMappingURL=test.min.js.map\\\\n\\\\n\&quot;;\\n&#x27; +\n    \&quot;//# sourceMappingURL=http://localhost:8081/index.map?platform=android&amp;dev=true\&quot;, expectedUrlHref);\ntestFunction(\&quot;  var test_js = function test_js(cdn) {\\n\&quot; +\n    `    return cdn === true ? &#x27;&lt;script src=\&quot;https://cdn.testjs.com/11.33.77/test.min.js\&quot;&gt;&lt;/script&gt;&#x27; : \&quot;\\\\n &lt;script&gt;\\\\n` +\n    &#x27;!function(t,e){\\\\\&quot;object\\\\\&quot;==typeof exports&amp;&amp;\\\\\&quot;object\\\\\&quot;==typeof module?module.exports=e():\\\\\&quot;function\\\\\&quot;==typeof define&amp;&amp;define;&#x27; +\n    &#x27;\\\\n   //# sourceMappingURL=test.min.js.map\\\\n   &lt;/script&gt;\\\\n\&quot;;\\n&#x27; +\n    \&quot;};\\n\&quot; +\n    \&quot;//# sourceMappingURL=http://localhost:8081/index.map?platform=android&amp;dev=true\&quot;, expectedUrlHref);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e9144490-1189-42b3-b65c-519f0d80c074&quot;,&quot;parentUUID&quot;:&quot;d53b3865-d0ff-45c2-b1a6-e770bf4967a8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should resolve a valid sourcemap url&quot;,&quot;fullTitle&quot;:&quot;sourceMap should resolve a valid sourcemap url&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const scriptUrl = url.parse(\&quot;http://localhost:8081/index.ios.bundle?platform=ios&amp;dev=true\&quot;);\nconst scriptBody = \&quot;//# sourceMappingURL=/index.ios.map?platform=ios&amp;dev=true\&quot;;\nconst expectedUrlHref = \&quot;http://localhost:8081/index.ios.map?platform=ios&amp;dev=true\&quot;;\nconst sourceMap = new sourceMap_1.SourceMapUtil();\nconst result = sourceMap.getSourceMapURL(scriptUrl, scriptBody);\nassert.strictEqual(expectedUrlHref, result &amp;&amp; result.href);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a1fb6904-6781-4ee4-b64f-1d3b2214a3ec&quot;,&quot;parentUUID&quot;:&quot;d53b3865-d0ff-45c2-b1a6-e770bf4967a8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should ignore inline sourcemap urls&quot;,&quot;fullTitle&quot;:&quot;sourceMap should ignore inline sourcemap urls&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const scriptUrl = url.parse(\&quot;http://localhost:8081/index.ios.bundle?platform=ios&amp;dev=true\&quot;);\nconst scriptBody = \&quot;//# sourceMappingURL=data:application/json;base64,eyJmb28iOiJiYXIifQ==\\n\&quot; +\n    \&quot;//# sourceMappingURL=/index.ios.map?platform=ios&amp;dev=true\&quot;;\nconst expectedUrlHref = \&quot;http://localhost:8081/index.ios.map?platform=ios&amp;dev=true\&quot;;\nconst sourceMap = new sourceMap_1.SourceMapUtil();\nconst result = sourceMap.getSourceMapURL(scriptUrl, scriptBody);\nassert.strictEqual(expectedUrlHref, result &amp;&amp; result.href);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;06598ade-905a-45b8-928f-73696348693f&quot;,&quot;parentUUID&quot;:&quot;d53b3865-d0ff-45c2-b1a6-e770bf4967a8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return correct sourcemap url for RN macOS&quot;,&quot;fullTitle&quot;:&quot;sourceMap should return correct sourcemap url for RN macOS&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const scriptUrl = url.parse(\&quot;http://localhost:8081/index.bundle?platform=macos&amp;dev=true\&quot;);\nconst scriptBody = \&quot;//# sourceMappingURL=//localhost:8081/index.map?platform=macos&amp;dev=true\&quot;;\nconst expectedUrlHref = \&quot;http://localhost:8081/index.map?platform=macos&amp;dev=true\&quot;;\nconst sourceMap = new sourceMap_1.SourceMapUtil();\nconst result = sourceMap.getSourceMapURL(scriptUrl, scriptBody);\nassert.strictEqual(expectedUrlHref, result &amp;&amp; result.href);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;208bb525-24ac-4048-a86f-f0dd70777252&quot;,&quot;parentUUID&quot;:&quot;d53b3865-d0ff-45c2-b1a6-e770bf4967a8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return default IStrictUrl for an invalid sourcemap url&quot;,&quot;fullTitle&quot;:&quot;sourceMap should return default IStrictUrl for an invalid sourcemap url&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const scriptUrl = url.parse(\&quot;http://localhost:8081/index.ios.bundle?platform=ios&amp;dev=true\&quot;);\nconst scriptBody = \&quot;\&quot;;\nconst sourceMap = new sourceMap_1.SourceMapUtil();\nconst result = sourceMap.getSourceMapURL(scriptUrl, scriptBody);\nassert.deepStrictEqual(null, result);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4ed5772c-4ed3-4dd1-bd55-04b8f485f3db&quot;,&quot;parentUUID&quot;:&quot;d53b3865-d0ff-45c2-b1a6-e770bf4967a8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return default IStrictUrl if there are only inline sourcemap urls&quot;,&quot;fullTitle&quot;:&quot;sourceMap should return default IStrictUrl if there are only inline sourcemap urls&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const scriptUrl = url.parse(\&quot;http://localhost:8081/index.ios.bundle?platform=ios&amp;dev=true\&quot;);\nconst scriptBody = \&quot;//# sourceMappingURL=data:application/json;base64,eyJmb28iOiJiYXIifQ==\\n\&quot; +\n    \&quot;//# sourceMappingURL=data:application/json;base64,eyJiYXoiOiJxdXV4In0=\&quot;;\nconst sourceMap = new sourceMap_1.SourceMapUtil();\nconst result = sourceMap.getSourceMapURL(scriptUrl, scriptBody);\nassert.deepStrictEqual(null, result);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a600aa76-4ff4-4c1e-abc1-8ecbc6ec81a1&quot;,&quot;parentUUID&quot;:&quot;d53b3865-d0ff-45c2-b1a6-e770bf4967a8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should update the contents of a source map file&quot;,&quot;fullTitle&quot;:&quot;sourceMap should update the contents of a source map file&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const sourceMapBody = JSON.stringify({\n    version: 3,\n    sources: [\&quot;test/index.ts\&quot;],\n    names: [],\n    mappings: \&quot;\&quot;,\n    file: \&quot;test/index.js\&quot;,\n    sourceRoot: \&quot;../../src\&quot;,\n});\nconst scriptPath = \&quot;test/newIndex.ts\&quot;;\nconst sourcesRootPath = \&quot;new/src\&quot;;\nconst expectedSourceMapBody = JSON.stringify({\n    version: 3,\n    sources: [\&quot;../../test/index.ts\&quot;],\n    names: [],\n    mappings: \&quot;\&quot;,\n    file: scriptPath,\n    sourceRoot: \&quot;\&quot;,\n});\nconst sourceMap = new sourceMap_1.SourceMapUtil();\nconst result = sourceMap.updateSourceMapFile(sourceMapBody, scriptPath, sourcesRootPath);\nassert.strictEqual(expectedSourceMapBody, result);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e27fa815-292e-414d-8e0e-d59d32df690b&quot;,&quot;parentUUID&quot;:&quot;d53b3865-d0ff-45c2-b1a6-e770bf4967a8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should update source map file path for remote packager&quot;,&quot;fullTitle&quot;:&quot;sourceMap should update source map file path for remote packager&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const localRoot = \&quot;/home/local\&quot;;\nconst remoteRoot = \&quot;/home/remote\&quot;;\nconst sourceMapBody = JSON.stringify({\n    version: 3,\n    sources: [`${remoteRoot}/test/index.ts`],\n    names: [],\n    mappings: \&quot;\&quot;,\n    file: \&quot;test/index.js\&quot;,\n    sourceRoot: \&quot;../../src\&quot;,\n});\nconst scriptPath = \&quot;test/newIndex.ts\&quot;;\nconst sourcesRootPath = `${localRoot}/new/src`;\nconst expectedSourceMapBody = JSON.stringify({\n    version: 3,\n    sources: [`../../test/index.ts`],\n    names: [],\n    mappings: \&quot;\&quot;,\n    file: scriptPath,\n    sourceRoot: \&quot;\&quot;,\n});\nconst sourceMap = new sourceMap_1.SourceMapUtil();\nconst result = sourceMap.updateSourceMapFile(sourceMapBody, scriptPath, sourcesRootPath, remoteRoot, localRoot);\nassert.strictEqual(expectedSourceMapBody, result);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bb58609b-ec0b-4756-9104-cff7c4fc9749&quot;,&quot;parentUUID&quot;:&quot;d53b3865-d0ff-45c2-b1a6-e770bf4967a8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should update scripts with source mapping urls&quot;,&quot;fullTitle&quot;:&quot;sourceMap should update scripts with source mapping urls&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const scriptBody = \&quot;//# sourceMappingURL=/index.ios.map?platform=ios&amp;dev=true\&quot;;\nconst sourceMappingUrl = url.parse(\&quot;/index.android.map\&quot;);\nconst expectedScriptBody = \&quot;//# sourceMappingURL=index.android.map\&quot;;\nconst sourceMap = new sourceMap_1.SourceMapUtil();\nconst result = sourceMap.updateScriptPaths(scriptBody, sourceMappingUrl);\nassert.strictEqual(expectedScriptBody, result);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5392f5cc-6866-4b60-a02e-7da5408f72c1&quot;,&quot;parentUUID&quot;:&quot;d53b3865-d0ff-45c2-b1a6-e770bf4967a8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not update scripts without source mapping urls&quot;,&quot;fullTitle&quot;:&quot;sourceMap should not update scripts without source mapping urls&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const scriptBody = \&quot;var path = require(&#x27;path&#x27;);\&quot;;\nconst sourceMappingUrl = url.parse(\&quot;/index.android.map\&quot;);\nconst sourceMap = new sourceMap_1.SourceMapUtil();\nconst result = sourceMap.updateScriptPaths(scriptBody, sourceMappingUrl);\nassert.strictEqual(scriptBody, result);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;58d3d1af-0a04-4051-ba17-ead25cd09d02&quot;,&quot;parentUUID&quot;:&quot;d53b3865-d0ff-45c2-b1a6-e770bf4967a8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should update absolute source path to relative unix style path&quot;,&quot;fullTitle&quot;:&quot;sourceMap should update absolute source path to relative unix style path&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const sourcePath = \&quot;foo/bar\&quot;;\nconst sourcesRootPath = \&quot;baz/fuzz\&quot;;\nconst expectedPath = \&quot;../../foo/bar\&quot;;\nconst sourceMap = new sourceMap_1.SourceMapUtil();\nconst result = sourceMap.updateSourceMapPath(sourcePath, sourcesRootPath);\nassert.strictEqual(expectedPath, result);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;06629521-9045-4d0a-bd0a-e69800087ba8&quot;,&quot;parentUUID&quot;:&quot;d53b3865-d0ff-45c2-b1a6-e770bf4967a8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should get only the latest sourceMappingURL&quot;,&quot;fullTitle&quot;:&quot;sourceMap should get only the latest sourceMappingURL&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const scriptBody = `//# sourceMappingURL=abort.controller.js.map\n//# sourceMappingURL=index.map\n//# sourceURL=http://localhost:8081/index.bundle?platform=android&amp;dev=true&amp;minify=false`;\nconst expectedScriptBody = `index.map`;\nconst sourceMap = new sourceMap_1.SourceMapUtil();\nconst result = sourceMap.getSourceMapRelativeUrl(scriptBody);\nassert.strictEqual(expectedScriptBody, result);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;19ec1f2d-6ec1-47d8-856a-d7a3f86b2cbb&quot;,&quot;parentUUID&quot;:&quot;d53b3865-d0ff-45c2-b1a6-e770bf4967a8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should remove sourceURL from the bundle script body correctly&quot;,&quot;fullTitle&quot;:&quot;sourceMap should remove sourceURL from the bundle script body correctly&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const scriptBody = `var sourceURL = &#x27;//# sourceURL=&#x27; + (hasOwnProperty.call(options, &#x27;sourceURL&#x27;) ? (options.sourceURL + &#x27;&#x27;).replace(/[\\\\r\\\\n]/g, &#x27; &#x27;) : &#x27;lodash.templateSources[&#x27; + ++templateCounter + &#x27;]&#x27;) + &#x27;\\\\n&#x27;;\n//# sourceMappingURL=index.map\n//# sourceURL=http://localhost:8081/index.bundle?platform=android&amp;dev=true&amp;minify=false`;\nconst expectedScriptBody = `var sourceURL = &#x27;//# sourceURL=&#x27; + (hasOwnProperty.call(options, &#x27;sourceURL&#x27;) ? (options.sourceURL + &#x27;&#x27;).replace(/[\\\\r\\\\n]/g, &#x27; &#x27;) : &#x27;lodash.templateSources[&#x27; + ++templateCounter + &#x27;]&#x27;) + &#x27;\\\\n&#x27;;\n//# sourceMappingURL=index.map\\n`;\nconst sourceMap = new sourceMap_1.SourceMapUtil();\nconst result = sourceMap.removeSourceURL(scriptBody);\nassert.strictEqual(expectedScriptBody, result);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a3756274-06bc-40fb-bc19-f2e9c246fa38&quot;,&quot;parentUUID&quot;:&quot;d53b3865-d0ff-45c2-b1a6-e770bf4967a8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should remove sourceURL if it is before sourceMappingURL&quot;,&quot;fullTitle&quot;:&quot;sourceMap should remove sourceURL if it is before sourceMappingURL&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const scriptBody = `var sourceURL = &#x27;//# sourceURL=&#x27; + (hasOwnProperty.call(options, &#x27;sourceURL&#x27;) ? (options.sourceURL + &#x27;&#x27;).replace(/[\\\\r\\\\n]/g, &#x27; &#x27;) : &#x27;lodash.templateSources[&#x27; + ++templateCounter + &#x27;]&#x27;) + &#x27;\\\\n&#x27;;\n//# sourceURL=http://localhost:8081/index.bundle?platform=android&amp;dev=true&amp;minify=false\n//# sourceMappingURL=index.map`;\nconst expectedScriptBody = `var sourceURL = &#x27;//# sourceURL=&#x27; + (hasOwnProperty.call(options, &#x27;sourceURL&#x27;) ? (options.sourceURL + &#x27;&#x27;).replace(/[\\\\r\\\\n]/g, &#x27; &#x27;) : &#x27;lodash.templateSources[&#x27; + ++templateCounter + &#x27;]&#x27;) + &#x27;\\\\n&#x27;;\n\n//# sourceMappingURL=index.map`;\nconst sourceMap = new sourceMap_1.SourceMapUtil();\nconst result = sourceMap.removeSourceURL(scriptBody);\nassert.strictEqual(expectedScriptBody, result);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bb3afdc1-813f-4aa0-9488-548ee59576ac&quot;,&quot;parentUUID&quot;:&quot;d53b3865-d0ff-45c2-b1a6-e770bf4967a8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;3d9ef575-3d0a-460b-8f24-5780a487df2f&quot;,&quot;e9144490-1189-42b3-b65c-519f0d80c074&quot;,&quot;a1fb6904-6781-4ee4-b64f-1d3b2214a3ec&quot;,&quot;06598ade-905a-45b8-928f-73696348693f&quot;,&quot;208bb525-24ac-4048-a86f-f0dd70777252&quot;,&quot;4ed5772c-4ed3-4dd1-bd55-04b8f485f3db&quot;,&quot;a600aa76-4ff4-4c1e-abc1-8ecbc6ec81a1&quot;,&quot;e27fa815-292e-414d-8e0e-d59d32df690b&quot;,&quot;bb58609b-ec0b-4756-9104-cff7c4fc9749&quot;,&quot;5392f5cc-6866-4b60-a02e-7da5408f72c1&quot;,&quot;58d3d1af-0a04-4051-ba17-ead25cd09d02&quot;,&quot;06629521-9045-4d0a-bd0a-e69800087ba8&quot;,&quot;19ec1f2d-6ec1-47d8-856a-d7a3f86b2cbb&quot;,&quot;a3756274-06bc-40fb-bc19-f2e9c246fa38&quot;,&quot;bb3afdc1-813f-4aa0-9488-548ee59576ac&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:9,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;61cf7b33-a2ca-4285-a021-75b617016ed0&quot;,&quot;title&quot;:&quot;sourceMapsCombinator&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/debugger/sourceMapsCombinator.test.js&quot;,&quot;file&quot;:&quot;/test/debugger/sourceMapsCombinator.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;9139195c-cd81-44d4-b77f-4f1d1bf81b98&quot;,&quot;title&quot;:&quot;#convert&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/debugger/sourceMapsCombinator.test.js&quot;,&quot;file&quot;:&quot;/test/debugger/sourceMapsCombinator.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;#convert\&quot;&quot;,&quot;fullTitle&quot;:&quot;sourceMapsCombinator #convert \&quot;before each\&quot; hook in \&quot;#convert\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;fsReadFileStub = sinon.stub(fs, \&quot;readFileSync\&quot;);\nfsReadFileStub.withArgs(pathToJS).returns(codeJS);\nfsReadFileStub.withArgs(pathToTS).returns(codeTS);\nfsReadFileStub.withArgs(sourcemapPath).returns(JSON.stringify(sourcemap));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7a52e1af-487e-4c0c-a9f1-a33d25b96f83&quot;,&quot;parentUUID&quot;:&quot;9139195c-cd81-44d4-b77f-4f1d1bf81b98&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;#convert\&quot;&quot;,&quot;fullTitle&quot;:&quot;sourceMapsCombinator #convert \&quot;after each\&quot; hook in \&quot;#convert\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;fsReadFileStub.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0d14ae1c-ebfe-4ce4-aac2-d182f6a392bb&quot;,&quot;parentUUID&quot;:&quot;9139195c-cd81-44d4-b77f-4f1d1bf81b98&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;convert sourcemap&quot;,&quot;fullTitle&quot;:&quot;sourceMapsCombinator #convert convert sourcemap&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const expected = {\n    version: 3,\n    sources: [\&quot;d:/hello.ts\&quot;],\n    names: [],\n    mappings: \&quot;AAAA,IAAA,MAAM,EAAM,CAAA,SAAA,CAAA,EAAA;IACR,SAAA,KAAa,CAAA,GAAA,EAAO;QACpB,IAAA,CAAA,IAAA,EAAA,GAAA;IACA;SACI,CAAA,SAAO,CAAA,SAAc,EAAA,SAAM,CAAA,EAAO;QACtC,OAAA,OAAA,EAAA,IAAA,CAAA,IAAA,EAAA,OAAA;IACJ,CAAA;;AAEA,CAAA,CAAA,CAAA,CAAA;;AAEA,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC\&quot;,\n};\nconst rawBundleSourcemap = {\n    version: 3,\n    sources: [\&quot;d:/hello.js\&quot;],\n    names: [],\n    mappings: \&quot;AAAA,IAAI,MAAM,EAAE,CAAC,SAAS,CAAC,EAAE;IACrB,SAAS,KAAK,CAAC,GAAG,EAAE;QAChB,IAAI,CAAC,IAAI,EAAE,GAAG;IAClB;IACA,KAAK,CAAC,SAAS,CAAC,SAAS,EAAE,SAAS,CAAC,EAAE;QACnC,OAAO,OAAO,EAAE,IAAI,CAAC,IAAI,EAAE,OAAO;IACtC,CAAC;IACD,OAAO,KAAK;AAChB,CAAC,CAAC,CAAC,CAAC;AACJ,IAAI,MAAM,EAAE,IAAI,KAAK,CAAC,gDAAgD,CAAC;AACvE,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC\&quot;,\n    file: \&quot;hello.js\&quot;,\n    sourceRoot: \&quot;\&quot;,\n};\nlet sourceMapsCombinator = new sourceMapsCombinator_1.SourceMapsCombinator();\nlet result = sourceMapsCombinator.convert(rawBundleSourcemap);\nresult.sources = result.sources.map(p =&gt; {\n    return p.replace(/\\\\/g, \&quot;/\&quot;);\n});\nassert.deepEqual(expected, result);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;efc56719-ecb7-41f8-9b0c-2d7c04cf4b46&quot;,&quot;parentUUID&quot;:&quot;9139195c-cd81-44d4-b77f-4f1d1bf81b98&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;efc56719-ecb7-41f8-9b0c-2d7c04cf4b46&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:8,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;ef8fb534-de5e-40c4-ab62-3edb6184cc93&quot;,&quot;title&quot;:&quot;androidPlatform&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/extension/android/androidPlatform.test.js&quot;,&quot;file&quot;:&quot;/test/extension/android/androidPlatform.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;aaa4f5cb-a16f-4bb6-a7ca-2dda6b5b1730&quot;,&quot;title&quot;:&quot;extensionContext&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/extension/android/androidPlatform.test.js&quot;,&quot;file&quot;:&quot;/test/extension/android/androidPlatform.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;extensionContext\&quot;&quot;,&quot;fullTitle&quot;:&quot;androidPlatform extensionContext \&quot;before each\&quot; hook in \&quot;extensionContext\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            // Configure all the dependencies we&#x27;ll use in our tests\n            fileSystem = new fileSystem_1.FileSystem();\n            adbHelper = new adb.AdbHelper(genericRunOptions.projectRoot, nodeModulesRoot);\n            launchAppStub = sinon.stub(adbHelper, \&quot;launchApp\&quot;, (projectRoot_, packageName, debugTarget) =&gt; __awaiter(this, void 0, void 0, function* () {\n                devices = devices.map((device) =&gt; {\n                    if (!debugTarget) {\n                        device.installedApplications[androidPackageName] = {\n                            isInDebugMode: false,\n                        };\n                    }\n                    if (debugTarget &amp;&amp; debugTarget === device.id) {\n                        device.installedApplications[androidPackageName] = {\n                            isInDebugMode: false,\n                        };\n                    }\n                    return device;\n                });\n            }));\n            getConnectedTargetsStub = sinon.stub(adbHelper, \&quot;getConnectedTargets\&quot;, function () {\n                return __awaiter(this, void 0, void 0, function* () {\n                    return devices;\n                });\n            });\n            getOnlineTargetsStub = sinon.stub(adbHelper, \&quot;getOnlineTargets\&quot;, function () {\n                return __awaiter(this, void 0, void 0, function* () {\n                    return devices.filter((device) =&gt; {\n                        return device.isOnline;\n                    });\n                });\n            });\n            apiVersionStub = sinon.stub(adbHelper, \&quot;apiVersion\&quot;, function () {\n                return __awaiter(this, void 0, void 0, function* () {\n                    return adb.AndroidAPILevel.LOLLIPOP;\n                });\n            });\n            reverseAdbStub = sinon.stub(adbHelper, \&quot;reverseAdb\&quot;, function () {\n                return __awaiter(this, void 0, void 0, function* () {\n                    return;\n                });\n            });\n            reactNative = new reactNative065_1.ReactNative065(fileSystem, adbHelper);\n            getReactNativeProjectRootStub = sinon.stub(settingsHelper_1.SettingsHelper, \&quot;getReactNativeProjectRoot\&quot;, () =&gt; projectRoot);\n            androidPlatform = createAndroidPlatform(genericRunOptions);\n            spawnReactCommandStub = sinon.stub(commandExecutor_1.CommandExecutor.prototype, \&quot;spawnReactCommand\&quot;, function () {\n                return reactNative.runAndroid(genericRunOptions);\n            });\n            getReactNativeVersionsStub = sinon.stub(projectVersionHelper_1.ProjectVersionHelper, \&quot;getReactNativeVersions\&quot;, function () {\n                return __awaiter(this, void 0, void 0, function* () {\n                    return {\n                        reactNativeVersion: \&quot;0.0.1\&quot;,\n                        reactNativeWindowsVersion: \&quot;\&quot;,\n                    };\n                });\n            });\n            androidPlatform.adbHelper = adbHelper;\n            installAppInDeviceStub = sinon.stub(reactNative, \&quot;installAppInDevice\&quot;, function (deviceId) {\n                return __awaiter(this, void 0, void 0, function* () {\n                    devices = devices.map((device) =&gt; {\n                        if (deviceId &amp;&amp; deviceId === device.id) {\n                            device.installedApplications[androidPackageName] = {};\n                        }\n                        return device;\n                    });\n                });\n            });\n            // Delete existing React Native project before creating\n            yield utils_1.rimrafAsync(projectsFolder, {});\n            // Create a React-Native project we&#x27;ll use in our tests\n            yield reactNative\n                .fromProjectFileContent(rnProjectContent)\n                .createProject(projectRoot, applicationName);\n        })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;81767e37-89c2-4bca-a6aa-998874c7a716&quot;,&quot;parentUUID&quot;:&quot;aaa4f5cb-a16f-4bb6-a7ca-2dda6b5b1730&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;extensionContext\&quot;&quot;,&quot;fullTitle&quot;:&quot;androidPlatform extensionContext \&quot;after each\&quot; hook in \&quot;extensionContext\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            // Delete existing React Native project after each test\n            yield utils_1.rimrafAsync(projectsFolder, {});\n            launchAppStub.restore();\n            getConnectedTargetsStub.restore();\n            getOnlineTargetsStub.restore();\n            apiVersionStub.restore();\n            reverseAdbStub.restore();\n            getReactNativeProjectRootStub.restore();\n            spawnReactCommandStub.restore();\n            getReactNativeVersionsStub.restore();\n            installAppInDeviceStub.restore();\n            devices = [];\n        })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;848b2fb2-09ba-4957-ac54-a52adbcc07b8&quot;,&quot;parentUUID&quot;:&quot;aaa4f5cb-a16f-4bb6-a7ca-2dda6b5b1730&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;runApp launches the app when a single emulator is connected using recording react-native/run-android/win10-rn0.21.0/succeedsWithOneVSEmulator&quot;,&quot;fullTitle&quot;:&quot;androidPlatform extensionContext runApp launches the app when a single emulator is connected using recording react-native/run-android/win10-rn0.21.0/succeedsWithOneVSEmulator&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:73,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// We use function () because we need the this pointer\nreturn recordingsHelper\n    .getRecordingConsumer()\n    .loadRecordingFromString(recording)\n    .then(code.bind(test));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cde45d0b-1724-4206-9c25-81a28ce3c37d&quot;,&quot;parentUUID&quot;:&quot;aaa4f5cb-a16f-4bb6-a7ca-2dda6b5b1730&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;runApp launches the app when a single emulator is connected using recording react-native/run-android/win10-rn0.22.2/succeedsWithOneVSEmulator&quot;,&quot;fullTitle&quot;:&quot;androidPlatform extensionContext runApp launches the app when a single emulator is connected using recording react-native/run-android/win10-rn0.22.2/succeedsWithOneVSEmulator&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:77,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// We use function () because we need the this pointer\nreturn recordingsHelper\n    .getRecordingConsumer()\n    .loadRecordingFromString(recording)\n    .then(code.bind(test));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4a3fe6c9-7d73-4585-b0b4-9a4abff62715&quot;,&quot;parentUUID&quot;:&quot;aaa4f5cb-a16f-4bb6-a7ca-2dda6b5b1730&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;runApp launches the app when a single emulator is connected using recording react-native/run-android/osx10.10-rn0.21.0/succeedsWithOneVSEmulator&quot;,&quot;fullTitle&quot;:&quot;androidPlatform extensionContext runApp launches the app when a single emulator is connected using recording react-native/run-android/osx10.10-rn0.21.0/succeedsWithOneVSEmulator&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:52,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// We use function () because we need the this pointer\nreturn recordingsHelper\n    .getRecordingConsumer()\n    .loadRecordingFromString(recording)\n    .then(code.bind(test));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1267ba1f-d9d9-494b-bbb2-b4c1f24664a2&quot;,&quot;parentUUID&quot;:&quot;aaa4f5cb-a16f-4bb6-a7ca-2dda6b5b1730&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;runApp launches the app when two emulators are connected using recording react-native/run-android/win10-rn0.21.0/succeedsWithTwoVSEmulators&quot;,&quot;fullTitle&quot;:&quot;androidPlatform extensionContext runApp launches the app when two emulators are connected using recording react-native/run-android/win10-rn0.21.0/succeedsWithTwoVSEmulators&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:50,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// We use function () because we need the this pointer\nreturn recordingsHelper\n    .getRecordingConsumer()\n    .loadRecordingFromString(recording)\n    .then(code.bind(test));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e88a6fef-f37d-4494-a83e-4f1f70eb7024&quot;,&quot;parentUUID&quot;:&quot;aaa4f5cb-a16f-4bb6-a7ca-2dda6b5b1730&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;runApp launches the app when three emulators are connected using recording react-native/run-android/win10-rn0.21.0/succeedsWithThreeVSEmulators&quot;,&quot;fullTitle&quot;:&quot;androidPlatform extensionContext runApp launches the app when three emulators are connected using recording react-native/run-android/win10-rn0.21.0/succeedsWithThreeVSEmulators&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:47,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// We use function () because we need the this pointer\nreturn recordingsHelper\n    .getRecordingConsumer()\n    .loadRecordingFromString(recording)\n    .then(code.bind(test));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;41246c73-061b-4a46-b983-bb4bc472fef5&quot;,&quot;parentUUID&quot;:&quot;aaa4f5cb-a16f-4bb6-a7ca-2dda6b5b1730&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;runApp fails if no devices are connected using recording react-native/run-android/win10-rn0.21.0/failsDueToNoDevicesConnected&quot;,&quot;fullTitle&quot;:&quot;androidPlatform extensionContext runApp fails if no devices are connected using recording react-native/run-android/win10-rn0.21.0/failsDueToNoDevicesConnected&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:21,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// We use function () because we need the this pointer\nreturn recordingsHelper\n    .getRecordingConsumer()\n    .loadRecordingFromString(recording)\n    .then(code.bind(test));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f77146e5-de82-471c-bc3a-4b628a02f0cc&quot;,&quot;parentUUID&quot;:&quot;aaa4f5cb-a16f-4bb6-a7ca-2dda6b5b1730&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;runApp launches the app in an online emulator only using recording react-native/run-android/win10-rn0.21.0/succeedsWithFiveVSEmulators&quot;,&quot;fullTitle&quot;:&quot;androidPlatform extensionContext runApp launches the app in an online emulator only using recording react-native/run-android/win10-rn0.21.0/succeedsWithFiveVSEmulators&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:50,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// We use function () because we need the this pointer\nreturn recordingsHelper\n    .getRecordingConsumer()\n    .loadRecordingFromString(recording)\n    .then(code.bind(test));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;376cb669-27fb-4d7b-ae27-923ef99045cd&quot;,&quot;parentUUID&quot;:&quot;aaa4f5cb-a16f-4bb6-a7ca-2dda6b5b1730&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;runApp launches the app in the device specified as target using recording react-native/run-android/win10-rn0.21.0/succeedsWithFiveVSEmulators&quot;,&quot;fullTitle&quot;:&quot;androidPlatform extensionContext runApp launches the app in the device specified as target using recording react-native/run-android/win10-rn0.21.0/succeedsWithFiveVSEmulators&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:56,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// We use function () because we need the this pointer\nreturn recordingsHelper\n    .getRecordingConsumer()\n    .loadRecordingFromString(recording)\n    .then(code.bind(test));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;af9aa1f3-4dad-44c7-80fb-a11cab8ba758&quot;,&quot;parentUUID&quot;:&quot;aaa4f5cb-a16f-4bb6-a7ca-2dda6b5b1730&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;runApp launches the app in a random online device if the target is offline using recording react-native/run-android/win10-rn0.21.0/succeedsWithTenVSEmulators&quot;,&quot;fullTitle&quot;:&quot;androidPlatform extensionContext runApp launches the app in a random online device if the target is offline using recording react-native/run-android/win10-rn0.21.0/succeedsWithTenVSEmulators&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:78,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// We use function () because we need the this pointer\nreturn recordingsHelper\n    .getRecordingConsumer()\n    .loadRecordingFromString(recording)\n    .then(code.bind(test));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b6ae8990-99e9-4f6a-986a-67f3ce5af1ea&quot;,&quot;parentUUID&quot;:&quot;aaa4f5cb-a16f-4bb6-a7ca-2dda6b5b1730&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;runApp doesn&#x27;t fail even if the call to start the LogCat does fail using recording react-native/run-android/win10-rn0.21.0/succeedsWithOneVSEmulator&quot;,&quot;fullTitle&quot;:&quot;androidPlatform extensionContext runApp doesn&#x27;t fail even if the call to start the LogCat does fail using recording react-native/run-android/win10-rn0.21.0/succeedsWithOneVSEmulator&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:57,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// We use function () because we need the this pointer\nreturn recordingsHelper\n    .getRecordingConsumer()\n    .loadRecordingFromString(recording)\n    .then(code.bind(test));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ecb77da9-cc3f-4f57-9242-8387dce8aba8&quot;,&quot;parentUUID&quot;:&quot;aaa4f5cb-a16f-4bb6-a7ca-2dda6b5b1730&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;runApp doesn&#x27;t fail even if the call to start the LogCat does fail using recording react-native/run-android/win10-rn0.22.2/succeedsWithOneVSEmulator&quot;,&quot;fullTitle&quot;:&quot;androidPlatform extensionContext runApp doesn&#x27;t fail even if the call to start the LogCat does fail using recording react-native/run-android/win10-rn0.22.2/succeedsWithOneVSEmulator&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:63,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// We use function () because we need the this pointer\nreturn recordingsHelper\n    .getRecordingConsumer()\n    .loadRecordingFromString(recording)\n    .then(code.bind(test));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bdb87dc8-c41e-4f84-bd12-bff0d198662f&quot;,&quot;parentUUID&quot;:&quot;aaa4f5cb-a16f-4bb6-a7ca-2dda6b5b1730&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;runApp doesn&#x27;t fail even if the call to start the LogCat does fail using recording react-native/run-android/osx10.10-rn0.21.0/succeedsWithOneVSEmulator&quot;,&quot;fullTitle&quot;:&quot;androidPlatform extensionContext runApp doesn&#x27;t fail even if the call to start the LogCat does fail using recording react-native/run-android/osx10.10-rn0.21.0/succeedsWithOneVSEmulator&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:71,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// We use function () because we need the this pointer\nreturn recordingsHelper\n    .getRecordingConsumer()\n    .loadRecordingFromString(recording)\n    .then(code.bind(test));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d9b6e027-3a4f-427f-af39-68b012988b8d&quot;,&quot;parentUUID&quot;:&quot;aaa4f5cb-a16f-4bb6-a7ca-2dda6b5b1730&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;runApp fails when the android project doesn&#x27;t exist, and shows a nice error message using recording react-native/run-android/win10-rn0.21.0/failsDueToAndroidFolderMissing&quot;,&quot;fullTitle&quot;:&quot;androidPlatform extensionContext runApp fails when the android project doesn&#x27;t exist, and shows a nice error message using recording react-native/run-android/win10-rn0.21.0/failsDueToAndroidFolderMissing&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:17,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// We use function () because we need the this pointer\nreturn recordingsHelper\n    .getRecordingConsumer()\n    .loadRecordingFromString(recording)\n    .then(code.bind(test));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9cda2bb1-caaf-4ea0-943d-04875a2f0720&quot;,&quot;parentUUID&quot;:&quot;aaa4f5cb-a16f-4bb6-a7ca-2dda6b5b1730&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;runApp fails when the android project doesn&#x27;t exist, and shows a nice error message using recording react-native/run-android/win10-rn0.22.2/failsDueToAndroidFolderMissing&quot;,&quot;fullTitle&quot;:&quot;androidPlatform extensionContext runApp fails when the android project doesn&#x27;t exist, and shows a nice error message using recording react-native/run-android/win10-rn0.22.2/failsDueToAndroidFolderMissing&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:29,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// We use function () because we need the this pointer\nreturn recordingsHelper\n    .getRecordingConsumer()\n    .loadRecordingFromString(recording)\n    .then(code.bind(test));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d42874f1-27d3-4b75-8abb-bea1bdc03bcf&quot;,&quot;parentUUID&quot;:&quot;aaa4f5cb-a16f-4bb6-a7ca-2dda6b5b1730&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;runApp fails when the android emulator shell is unresponsive, and shows a nice error message using recording react-native/run-android/osx10.10-rn0.21.0/failsDueToAdbCommandTimeout&quot;,&quot;fullTitle&quot;:&quot;androidPlatform extensionContext runApp fails when the android emulator shell is unresponsive, and shows a nice error message using recording react-native/run-android/osx10.10-rn0.21.0/failsDueToAdbCommandTimeout&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:33,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;// We use function () because we need the this pointer\nreturn recordingsHelper\n    .getRecordingConsumer()\n    .loadRecordingFromString(recording)\n    .then(code.bind(test));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b84eb99d-09d2-4ef0-83a1-4ae1fd64a85d&quot;,&quot;parentUUID&quot;:&quot;aaa4f5cb-a16f-4bb6-a7ca-2dda6b5b1730&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;getRunArguments should return correct target&quot;,&quot;fullTitle&quot;:&quot;androidPlatform extensionContext getRunArguments should return correct target&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const runOptions = {\n    platform: launchArgs_1.PlatformType.Android,\n    workspaceRoot: projectRoot,\n    projectRoot: projectRoot,\n    target: \&quot;Nexus_12\&quot;,\n    nodeModulesRoot,\n};\nconst platform = createAndroidPlatform(runOptions);\nconst runArgs = platform.getRunArguments();\nrunArgs.should.be.an.Array();\nrunArgs.should.containDeepOrdered([\&quot;--deviceId\&quot;, \&quot;Nexus_12\&quot;]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4e9e4469-f9fb-42e8-84d5-71d81a04f38e&quot;,&quot;parentUUID&quot;:&quot;aaa4f5cb-a16f-4bb6-a7ca-2dda6b5b1730&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;getRunArguments should remove simulator target from args&quot;,&quot;fullTitle&quot;:&quot;androidPlatform extensionContext getRunArguments should remove simulator target from args&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const runOptions = {\n    platform: launchArgs_1.PlatformType.Android,\n    workspaceRoot: projectRoot,\n    projectRoot: projectRoot,\n    target: \&quot;simulator\&quot;,\n    nodeModulesRoot,\n};\nconst platform = createAndroidPlatform(runOptions);\nconst runArgs = platform.getRunArguments();\nrunArgs.should.be.an.Array();\nrunArgs.should.be.empty();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c5aac57e-f97d-462c-a494-5bcffcce2f1f&quot;,&quot;parentUUID&quot;:&quot;aaa4f5cb-a16f-4bb6-a7ca-2dda6b5b1730&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;getRunArguments should remove device target from args&quot;,&quot;fullTitle&quot;:&quot;androidPlatform extensionContext getRunArguments should remove device target from args&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const runOptions = {\n    platform: launchArgs_1.PlatformType.Android,\n    workspaceRoot: projectRoot,\n    projectRoot: projectRoot,\n    target: \&quot;device\&quot;,\n    nodeModulesRoot,\n};\nconst platform = createAndroidPlatform(runOptions);\nconst runArgs = platform.getRunArguments();\nrunArgs.should.be.an.Array();\nrunArgs.should.be.empty();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;fcf98fff-1fdf-40a1-ac8b-3753d3bc0a45&quot;,&quot;parentUUID&quot;:&quot;aaa4f5cb-a16f-4bb6-a7ca-2dda6b5b1730&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;getRunArguments should return correct args&quot;,&quot;fullTitle&quot;:&quot;androidPlatform extensionContext getRunArguments should return correct args&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const args = [\&quot;--deviceId\&quot;, \&quot;device_id\&quot;];\nconst runOptions = {\n    platform: launchArgs_1.PlatformType.Android,\n    workspaceRoot: projectRoot,\n    projectRoot: projectRoot,\n    runArguments: args,\n    target: \&quot;Nexus_12\&quot;,\n    nodeModulesRoot,\n};\nconst platform = createAndroidPlatform(runOptions);\nconst runArgs = platform.getRunArguments();\nrunArgs.should.be.an.Array();\nrunArgs.should.containDeepOrdered(args);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;688af088-da92-4843-b243-2d62e27933fb&quot;,&quot;parentUUID&quot;:&quot;aaa4f5cb-a16f-4bb6-a7ca-2dda6b5b1730&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;AdbHelper should correctly parse Android Sdk Location from local.properties file content&quot;,&quot;fullTitle&quot;:&quot;androidPlatform extensionContext AdbHelper should correctly parse Android Sdk Location from local.properties file content&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:8,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const adbHelper = new adb.AdbHelper(\&quot;\&quot;, nodeModulesRoot);\nlet getPlatformStub;\nfunction testPaths(inputPath, expectedPath) {\n    const resultPath1 = adbHelper.parseSdkLocation(`sdk.dir=${inputPath}`);\n    const resultPath2 = adbHelper.parseSdkLocation(`sdk.dir   =${inputPath}`);\n    const resultPath3 = adbHelper.parseSdkLocation(`sdk.dir = ${inputPath}`);\n    assert.strictEqual(resultPath1, expectedPath);\n    assert.strictEqual(resultPath2, expectedPath);\n    assert.strictEqual(resultPath3, expectedPath);\n}\nconst os = require(\&quot;os\&quot;);\nfunction mockPlatform(platform) {\n    getPlatformStub === null || getPlatformStub === void 0 ? void 0 : getPlatformStub.restore();\n    getPlatformStub = sinon.stub(os, \&quot;platform\&quot;, function () {\n        return platform;\n    });\n}\nmockPlatform(\&quot;win32\&quot;);\ntestPaths(String.raw `C\\:\\\\Users\\\\User1\\\\AndroidSdk`, String.raw `C:\\Users\\User1\\AndroidSdk`);\ntestPaths(String.raw `\\\\\\\\Network\\\\Shared\\\\Folder`, String.raw `\\\\Network\\Shared\\Folder`);\ntestPaths(String.raw `\\\\\\\\Network\\\\Shared\\\\Folder\\\\Android SDK`, String.raw `\\\\Network\\Shared\\Folder\\Android SDK`);\ntestPaths(String.raw `C\\:\\\\Users\\\\User1\\\\Android Sdk`, String.raw `C:\\Users\\User1\\Android Sdk`);\nmockPlatform(\&quot;darwin\&quot;);\ntestPaths(String.raw `/var/lib/some/path`, String.raw `/var/lib/some/path`);\ntestPaths(String.raw `~/Library`, String.raw `~/Library`);\ntestPaths(String.raw `/Users/User1/home/path`, String.raw `/Users/User1/home/path`);\ntestPaths(String.raw `/Users/User1/home/path/Android SDK`, String.raw `/Users/User1/home/path/Android SDK`);\ntestPaths(String.raw `/Volumes/Macintosh HD/Users/foo/Library/Android/sdk/platform-tools`, String.raw `/Volumes/Macintosh HD/Users/foo/Library/Android/sdk/platform-tools`);\nteardown(() =&gt; {\n    getPlatformStub === null || getPlatformStub === void 0 ? void 0 : getPlatformStub.restore();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;60d2ee3a-d4c1-49b9-a4ed-8c20ffaf9982&quot;,&quot;parentUUID&quot;:&quot;aaa4f5cb-a16f-4bb6-a7ca-2dda6b5b1730&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;AdbHelper getAdbPath function should correctly parse Android Sdk Location from local.properties and wrap with quotes&quot;,&quot;fullTitle&quot;:&quot;androidPlatform extensionContext AdbHelper getAdbPath function should correctly parse Android Sdk Location from local.properties and wrap with quotes&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;function testPaths(expectedPath, projectRoot) {\n    const adbHelper = new adb.AdbHelper(projectRoot, nodeModulesRoot);\n    const resultPath = adbHelper.getAdbPath(projectRoot);\n    assert.strictEqual(resultPath, expectedPath);\n}\nif (process.platform == \&quot;win32\&quot;) {\n    const mockProjectRoot = path.join(__dirname, \&quot;..\&quot;, \&quot;..\&quot;, \&quot;..\&quot;, \&quot;test\&quot;, \&quot;resources\&quot;, \&quot;auxiliaryFiles\&quot;, \&quot;templateProject\&quot;, \&quot;win\&quot;);\n    testPaths(String.raw `\&quot;C:\\Android\\android sdk\\platform-tools\\adb\&quot;`, mockProjectRoot);\n}\nelse {\n    const mockProjectRoot = path.join(__dirname, \&quot;..\&quot;, \&quot;..\&quot;, \&quot;..\&quot;, \&quot;test\&quot;, \&quot;resources\&quot;, \&quot;auxiliaryFiles\&quot;, \&quot;templateProject\&quot;, \&quot;others\&quot;);\n    testPaths(String.raw `\&quot;/Volumes/Macintosh HD/Users/foo/Library/Android/sdk/platform-tools/adb\&quot;`, mockProjectRoot);\n}&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c92aca29-d634-4ac8-9988-4d3cd3746a16&quot;,&quot;parentUUID&quot;:&quot;aaa4f5cb-a16f-4bb6-a7ca-2dda6b5b1730&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;cde45d0b-1724-4206-9c25-81a28ce3c37d&quot;,&quot;4a3fe6c9-7d73-4585-b0b4-9a4abff62715&quot;,&quot;1267ba1f-d9d9-494b-bbb2-b4c1f24664a2&quot;,&quot;e88a6fef-f37d-4494-a83e-4f1f70eb7024&quot;,&quot;41246c73-061b-4a46-b983-bb4bc472fef5&quot;,&quot;f77146e5-de82-471c-bc3a-4b628a02f0cc&quot;,&quot;376cb669-27fb-4d7b-ae27-923ef99045cd&quot;,&quot;af9aa1f3-4dad-44c7-80fb-a11cab8ba758&quot;,&quot;b6ae8990-99e9-4f6a-986a-67f3ce5af1ea&quot;,&quot;ecb77da9-cc3f-4f57-9242-8387dce8aba8&quot;,&quot;bdb87dc8-c41e-4f84-bd12-bff0d198662f&quot;,&quot;d9b6e027-3a4f-427f-af39-68b012988b8d&quot;,&quot;9cda2bb1-caaf-4ea0-943d-04875a2f0720&quot;,&quot;d42874f1-27d3-4b75-8abb-bea1bdc03bcf&quot;,&quot;b84eb99d-09d2-4ef0-83a1-4ae1fd64a85d&quot;,&quot;4e9e4469-f9fb-42e8-84d5-71d81a04f38e&quot;,&quot;c5aac57e-f97d-462c-a494-5bcffcce2f1f&quot;,&quot;fcf98fff-1fdf-40a1-ac8b-3753d3bc0a45&quot;,&quot;688af088-da92-4843-b243-2d62e27933fb&quot;,&quot;60d2ee3a-d4c1-49b9-a4ed-8c20ffaf9982&quot;,&quot;c92aca29-d634-4ac8-9988-4d3cd3746a16&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:788,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;c4dea962-6c22-40f2-83f3-21a03153a300&quot;,&quot;title&quot;:&quot;appLauncher&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/extension/appLauncher.test.js&quot;,&quot;file&quot;:&quot;/test/extension/appLauncher.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;appLauncher\&quot;&quot;,&quot;fullTitle&quot;:&quot;appLauncher \&quot;before all\&quot; hook in \&quot;appLauncher\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;fsHelper.makeDirectoryRecursiveSync(sampleReactNativeProjectDir);\nfs.writeFileSync(path.join(sampleReactNativeProjectDir, INFORMATION_PACKAGE_FILENAME), JSON.stringify(versionObj, null, 2));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;696fc6aa-84c5-4112-9db5-6fc7c9a421d5&quot;,&quot;parentUUID&quot;:&quot;c4dea962-6c22-40f2-83f3-21a03153a300&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;appLauncher\&quot;&quot;,&quot;fullTitle&quot;:&quot;appLauncher \&quot;after all\&quot; hook in \&quot;appLauncher\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;fsHelper.removePathRecursivelySync(sampleReactNativeProjectDir);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bdb645a6-ccc7-4897-a415-e9683eb9b57c&quot;,&quot;parentUUID&quot;:&quot;c4dea962-6c22-40f2-83f3-21a03153a300&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;2b45b100-95a2-4099-9c1d-9a5b1e755f8b&quot;,&quot;title&quot;:&quot;getOrCreateAppLauncherByProjectRootPath&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/extension/appLauncher.test.js&quot;,&quot;file&quot;:&quot;/test/extension/appLauncher.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;getOrCreateAppLauncherByProjectRootPath creates an AppLauncher&quot;,&quot;fullTitle&quot;:&quot;appLauncher getOrCreateAppLauncherByProjectRootPath getOrCreateAppLauncherByProjectRootPath creates an AppLauncher&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:43,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    let isAppLauncherExist = !!projectsStorage_1.ProjectsStorage.projectsCache[sampleReactNativeProjectDir.toLowerCase()];\n    let appLauncherTest;\n    teardown(() =&gt; {\n        if (appLauncherTest) {\n            projectsStorage_1.ProjectsStorage.delFolder(appLauncherTest.getWorkspaceFolder());\n        }\n        rn_extension_1.deactivate();\n    });\n    assert.strictEqual(isAppLauncherExist, false);\n    rn_extension_1.activate({\n        subscriptions: [{}],\n    });\n    const appLauncher = yield appLauncher_1.AppLauncher.getOrCreateAppLauncherByProjectRootPath(sampleReactNativeProjectDir);\n    appLauncherTest = appLauncher;\n    assert.strictEqual(appLauncher.getPackager().getProjectPath(), sampleReactNativeProjectDir);\n    isAppLauncherExist =\n        !!projectsStorage_1.ProjectsStorage.projectsCache[sampleReactNativeProjectDir.toLowerCase()];\n    assert.strictEqual(isAppLauncherExist, true);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;685a7838-7eb1-4fcb-9c41-4ca11401e119&quot;,&quot;parentUUID&quot;:&quot;2b45b100-95a2-4099-9c1d-9a5b1e755f8b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;685a7838-7eb1-4fcb-9c41-4ca11401e119&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:43,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;12059bc3-8786-4e14-b588-a1690f34ea8d&quot;,&quot;title&quot;:&quot;getOrUpdateNodeModulesRoot&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/extension/appLauncher.test.js&quot;,&quot;file&quot;:&quot;/test/extension/appLauncher.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;getOrUpdateNodeModulesRoot gets a node modules root&quot;,&quot;fullTitle&quot;:&quot;appLauncher getOrUpdateNodeModulesRoot getOrUpdateNodeModulesRoot gets a node modules root&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const reactNativePackageDir = path.join(sampleReactNativeProjectDir, NODE_MODULES_FOLDER, REACT_NATIVE_MODULE);\n    fsHelper.makeDirectoryRecursiveSync(reactNativePackageDir);\n    let appLauncherTest;\n    teardown(() =&gt; {\n        fsHelper.removePathRecursivelySync(path.join(sampleReactNativeProjectDir, NODE_MODULES_FOLDER));\n        if (appLauncherTest) {\n            projectsStorage_1.ProjectsStorage.delFolder(appLauncherTest.getWorkspaceFolder());\n        }\n        rn_extension_1.deactivate();\n    });\n    rn_extension_1.activate({\n        subscriptions: [{}],\n    });\n    const appLauncher = yield appLauncher_1.AppLauncher.getOrCreateAppLauncherByProjectRootPath(sampleReactNativeProjectDir);\n    appLauncherTest = appLauncher;\n    assert.strictEqual(appLauncher.getOrUpdateNodeModulesRoot(), sampleReactNativeProjectDir);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;68ac4e7e-93f3-4081-9f2a-8c6e74df164c&quot;,&quot;parentUUID&quot;:&quot;12059bc3-8786-4e14-b588-a1690f34ea8d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;getOrUpdateNodeModulesRoot force updates a node modules root&quot;,&quot;fullTitle&quot;:&quot;appLauncher getOrUpdateNodeModulesRoot getOrUpdateNodeModulesRoot force updates a node modules root&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const SAMPLE_TEST_PROJECT_NAME = \&quot;sampleGetOrUpdateNodeModulesRootProject\&quot;;\n    const sampleTestProjectDir = path.join(__dirname, \&quot;..\&quot;, \&quot;resources\&quot;, SAMPLE_TEST_PROJECT_NAME);\n    const reactNativePackageDir1 = path.join(sampleTestProjectDir, NODE_MODULES_FOLDER, REACT_NATIVE_MODULE);\n    const INNER_FOLDER = \&quot;inner\&quot;;\n    const innerProjectDir = path.join(sampleTestProjectDir, INNER_FOLDER);\n    const reactNativePackageDir2 = path.join(innerProjectDir, NODE_MODULES_FOLDER, REACT_NATIVE_MODULE);\n    let appLauncherTest;\n    let nodeModulesRoot1;\n    let nodeModulesRoot2;\n    fsHelper.makeDirectoryRecursiveSync(reactNativePackageDir2);\n    fs.writeFileSync(path.join(innerProjectDir, INFORMATION_PACKAGE_FILENAME), JSON.stringify(versionObj, null, 2));\n    teardown(() =&gt; {\n        fsHelper.removePathRecursivelySync(sampleTestProjectDir);\n        if (appLauncherTest) {\n            projectsStorage_1.ProjectsStorage.delFolder(appLauncherTest.getWorkspaceFolder());\n        }\n    });\n    rn_extension_1.activate({\n        subscriptions: [{}],\n    });\n    const appLauncher = yield appLauncher_1.AppLauncher.getOrCreateAppLauncherByProjectRootPath(innerProjectDir);\n    nodeModulesRoot1 = appLauncher.getOrUpdateNodeModulesRoot();\n    assert.deepStrictEqual(nodeModulesRoot1, innerProjectDir);\n    fsHelper.removePathRecursivelySync(innerProjectDir);\n    appLauncherTest = appLauncher;\n    fsHelper.makeDirectoryRecursiveSync(reactNativePackageDir1);\n    fs.writeFileSync(path.join(sampleTestProjectDir, INFORMATION_PACKAGE_FILENAME), JSON.stringify(versionObj, null, 2));\n    nodeModulesRoot2 = appLauncher.getOrUpdateNodeModulesRoot(true);\n    assert.deepStrictEqual(nodeModulesRoot2, sampleTestProjectDir);\n    assert.notStrictEqual(nodeModulesRoot1, nodeModulesRoot2);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;20f0b5fb-341b-461f-9265-f06c424baa8b&quot;,&quot;parentUUID&quot;:&quot;12059bc3-8786-4e14-b588-a1690f34ea8d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;68ac4e7e-93f3-4081-9f2a-8c6e74df164c&quot;,&quot;20f0b5fb-341b-461f-9265-f06c424baa8b&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:10,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;959dcc34-c0f1-4e7b-8915-17229d8cfcc9&quot;,&quot;title&quot;:&quot;checkEnvironment&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/extension/checkEnvironment.test.js&quot;,&quot;file&quot;:&quot;/test/extension/checkEnvironment.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;e00ee052-98d5-4bad-b12c-3730de7634dc&quot;,&quot;title&quot;:&quot;basicCheck&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/extension/checkEnvironment.test.js&quot;,&quot;file&quot;:&quot;/test/extension/checkEnvironment.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;command should exist&quot;,&quot;fullTitle&quot;:&quot;checkEnvironment basicCheck command should exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            commandExistsStub.sync = () =&gt; true;\n            assert.deepStrictEqual(yield fakeUtil.basicCheck({ command: \&quot;whatever\&quot; }), {\n                exists: true,\n            });\n        })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;68919ab7-636f-437d-ae97-36828c40af42&quot;,&quot;parentUUID&quot;:&quot;e00ee052-98d5-4bad-b12c-3730de7634dc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;command should not exist&quot;,&quot;fullTitle&quot;:&quot;checkEnvironment basicCheck command should not exist&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            commandExistsStub.sync = () =&gt; false;\n            assert.deepStrictEqual(yield fakeUtil.basicCheck({ command: \&quot;whatever\&quot; }), {\n                exists: false,\n            });\n        })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;61ec7922-f733-407d-86b5-9073f6c5a1e0&quot;,&quot;parentUUID&quot;:&quot;e00ee052-98d5-4bad-b12c-3730de7634dc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;command should check version&quot;,&quot;fullTitle&quot;:&quot;checkEnvironment basicCheck command should check version&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            commandExistsStub.sync = () =&gt; true;\n            let wasExecuted = false;\n            assert.deepStrictEqual(yield fakeUtil.basicCheck({\n                command: \&quot;whatever\&quot;,\n                getVersion: () =&gt; __awaiter(this, void 0, void 0, function* () { return ((wasExecuted = true), \&quot;0.0.1\&quot;); }),\n            }), {\n                exists: true,\n                versionCompare: 0,\n            });\n            assert(wasExecuted);\n        })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6a7e0fe1-d2d5-4838-a8b9-a0c6f6d94ba2&quot;,&quot;parentUUID&quot;:&quot;e00ee052-98d5-4bad-b12c-3730de7634dc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;command should compare version lt&quot;,&quot;fullTitle&quot;:&quot;checkEnvironment basicCheck command should compare version lt&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            commandExistsStub.sync = () =&gt; true;\n            assert.deepStrictEqual(yield fakeUtil.basicCheck({\n                command: \&quot;whatever\&quot;,\n                getVersion: () =&gt; __awaiter(this, void 0, void 0, function* () { return \&quot;0.0.1\&quot;; }),\n                versionRange: \&quot;&gt;0.0.1\&quot;,\n            }), {\n                exists: true,\n                versionCompare: -1,\n            });\n        })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9903f411-63f1-4932-b4bb-6e9b8d51b49d&quot;,&quot;parentUUID&quot;:&quot;e00ee052-98d5-4bad-b12c-3730de7634dc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;command should compare version gt&quot;,&quot;fullTitle&quot;:&quot;checkEnvironment basicCheck command should compare version gt&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            commandExistsStub.sync = () =&gt; true;\n            assert.deepStrictEqual(yield fakeUtil.basicCheck({\n                command: \&quot;whatever\&quot;,\n                getVersion: () =&gt; __awaiter(this, void 0, void 0, function* () { return \&quot;0.0.1\&quot;; }),\n                versionRange: \&quot;&lt;0.0.1\&quot;,\n            }), {\n                exists: true,\n                versionCompare: 1,\n            });\n        })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1aace427-42cb-479e-80b4-f130566d402f&quot;,&quot;parentUUID&quot;:&quot;e00ee052-98d5-4bad-b12c-3730de7634dc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;command should compare version eq&quot;,&quot;fullTitle&quot;:&quot;checkEnvironment basicCheck command should compare version eq&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            commandExistsStub.sync = () =&gt; true;\n            assert.deepStrictEqual(yield fakeUtil.basicCheck({\n                command: \&quot;whatever\&quot;,\n                getVersion: () =&gt; __awaiter(this, void 0, void 0, function* () { return \&quot;0.0.1\&quot;; }),\n                versionRange: \&quot;=0.0.1\&quot;,\n            }), {\n                exists: true,\n                versionCompare: 0,\n            });\n        })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6c04226f-cef5-46dd-8d06-96e1a2e4a403&quot;,&quot;parentUUID&quot;:&quot;e00ee052-98d5-4bad-b12c-3730de7634dc&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;68919ab7-636f-437d-ae97-36828c40af42&quot;,&quot;61ec7922-f733-407d-86b5-9073f6c5a1e0&quot;,&quot;6a7e0fe1-d2d5-4838-a8b9-a0c6f6d94ba2&quot;,&quot;9903f411-63f1-4932-b4bb-6e9b8d51b49d&quot;,&quot;1aace427-42cb-479e-80b4-f130566d402f&quot;,&quot;6c04226f-cef5-46dd-8d06-96e1a2e4a403&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;8a6ec595-97ad-442d-8daf-517d08b3493f&quot;,&quot;title&quot;:&quot;commandExecutor&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/extension/commandExecutor.test.js&quot;,&quot;file&quot;:&quot;/test/extension/commandExecutor.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;88d20c62-520f-482d-877d-4c4b85ec1358&quot;,&quot;title&quot;:&quot;extensionContext&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/extension/commandExecutor.test.js&quot;,&quot;file&quot;:&quot;/test/extension/commandExecutor.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;extensionContext\&quot;&quot;,&quot;fullTitle&quot;:&quot;commandExecutor extensionContext \&quot;before each\&quot; hook in \&quot;extensionContext\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;childProcessStub = sinon\n    .stub(node_1.Node, \&quot;ChildProcess\&quot;)\n    .returns(childProcessStubInstance);\nappLauncherStub = sinon.stub(appLauncher_1.AppLauncher, \&quot;getNodeModulesRootByProjectPath\&quot;, (projectRoot) =&gt; nodeModulesRoot);\nnodeModulesRoot = sampleReactNativeProjectDir;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;490d55f7-9d03-42dd-9883-7b8b4de74240&quot;,&quot;parentUUID&quot;:&quot;88d20c62-520f-482d-877d-4c4b85ec1358&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;extensionContext\&quot;&quot;,&quot;fullTitle&quot;:&quot;commandExecutor extensionContext \&quot;after each\&quot; hook in \&quot;extensionContext\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let mockedMethods = [Log.log, ...Object.keys(childProcessStubInstance)];\nmockedMethods.forEach(method =&gt; {\n    if (method.hasOwnProperty(\&quot;restore\&quot;)) {\n        method.restore();\n    }\n});\nchildProcessStub.restore();\nappLauncherStub.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;eb783912-0d52-43c6-8bc1-f8859c2281bf&quot;,&quot;parentUUID&quot;:&quot;88d20c62-520f-482d-877d-4c4b85ec1358&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should execute a command&quot;,&quot;fullTitle&quot;:&quot;commandExecutor extensionContext should execute a command&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:46,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    let ce = new commandExecutor_1.CommandExecutor(nodeModulesRoot, process.cwd(), Log);\n    let loggedOutput = \&quot;\&quot;;\n    sinon.stub(Log, \&quot;log\&quot;, function (message, formatMessage = true) {\n        loggedOutput += semver.clean(message) || \&quot;\&quot;;\n        console.log(message);\n    });\n    yield ce.execute(\&quot;node -v\&quot;);\n    assert(loggedOutput);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b936e372-a54e-4e67-b6ca-10386a6215b6&quot;,&quot;parentUUID&quot;:&quot;88d20c62-520f-482d-877d-4c4b85ec1358&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should reject on bad command&quot;,&quot;fullTitle&quot;:&quot;commandExecutor extensionContext should reject on bad command&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:28,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            let ce = new commandExecutor_1.CommandExecutor(nodeModulesRoot);\n            try {\n                yield ce.execute(\&quot;bar\&quot;);\n                assert.fail(null, null, \&quot;bar should not be a valid command\&quot;);\n            }\n            catch (reason) {\n                console.log(reason.message);\n                assert.strictEqual(reason.errorCode, 101);\n                assert.strictEqual(reason.errorLevel, 0);\n            }\n        })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;93973de2-3924-40ff-90ae-3ae93198b252&quot;,&quot;parentUUID&quot;:&quot;88d20c62-520f-482d-877d-4c4b85ec1358&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should reject on good command that fails&quot;,&quot;fullTitle&quot;:&quot;commandExecutor extensionContext should reject on good command that fails&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:95,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            let ce = new commandExecutor_1.CommandExecutor(nodeModulesRoot);\n            try {\n                yield ce.execute(\&quot;node install bad-package\&quot;);\n                assert.fail(null, null, \&quot;node should not be able to install bad-package\&quot;);\n            }\n            catch (reason) {\n                console.log(reason.message);\n                assert.strictEqual(reason.errorCode, 101);\n                assert.strictEqual(reason.errorLevel, 0);\n            }\n        })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d3f18a65-a766-4b7b-8670-fc0da36be8bb&quot;,&quot;parentUUID&quot;:&quot;88d20c62-520f-482d-877d-4c4b85ec1358&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should spawn a command&quot;,&quot;fullTitle&quot;:&quot;commandExecutor extensionContext should spawn a command&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:37,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            let ce = new commandExecutor_1.CommandExecutor(nodeModulesRoot);\n            sinon.stub(Log, \&quot;log\&quot;, function (message, formatMessage = true) {\n                console.log(message);\n            });\n            return yield ce.spawn(\&quot;node\&quot;, [\&quot;-v\&quot;]);\n        })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2a75148f-2c25-4fbb-8fd4-70b0b5fd14d4&quot;,&quot;parentUUID&quot;:&quot;88d20c62-520f-482d-877d-4c4b85ec1358&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;spawn should reject a bad command&quot;,&quot;fullTitle&quot;:&quot;commandExecutor extensionContext spawn should reject a bad command&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:24,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            let ce = new commandExecutor_1.CommandExecutor(nodeModulesRoot);\n            sinon.stub(Log, \&quot;log\&quot;, function (message, formatMessage = true) {\n                console.log(message);\n            });\n            try {\n                return yield ce.spawn(\&quot;bar\&quot;, [\&quot;-v\&quot;]);\n            }\n            catch (reason) {\n                console.log(reason.message);\n                assert.strictEqual(reason.errorCode, 101);\n                assert.strictEqual(reason.errorLevel, 0);\n            }\n        })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d986225b-36be-41ea-ba34-d6eefdfecb0c&quot;,&quot;parentUUID&quot;:&quot;88d20c62-520f-482d-877d-4c4b85ec1358&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not fail on react-native command without arguments&quot;,&quot;fullTitle&quot;:&quot;commandExecutor extensionContext should not fail on react-native command without arguments&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            sinon.stub(childProcessStubInstance, \&quot;spawn\&quot;).returns({\n                stdout: new events_1.EventEmitter(),\n                stderr: new events_1.EventEmitter(),\n                outcome: Promise.resolve(),\n            });\n            try {\n                yield new commandExecutor_1.CommandExecutor(nodeModulesRoot).spawnReactCommand(\&quot;run-ios\&quot;).outcome;\n            }\n            catch (error) {\n                assert.fail(\&quot;react-native command was not expected to fail\&quot;);\n            }\n        })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cc4d2863-1558-448f-a4ab-12172a5d96d2&quot;,&quot;parentUUID&quot;:&quot;88d20c62-520f-482d-877d-4c4b85ec1358&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;7c526000-5936-4b47-9a2e-22f9e1d4b261&quot;,&quot;title&quot;:&quot;getReactNativeVersion&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/extension/commandExecutor.test.js&quot;,&quot;file&quot;:&quot;/test/extension/commandExecutor.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;getReactNativeVersion\&quot;&quot;,&quot;fullTitle&quot;:&quot;commandExecutor extensionContext getReactNativeVersion \&quot;before all\&quot; hook in \&quot;getReactNativeVersion\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;fsHelper.makeDirectoryRecursiveSync(reactNativePackageDir);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cb881b57-e0ff-41a9-8ac8-6868b9ea7f09&quot;,&quot;parentUUID&quot;:&quot;7c526000-5936-4b47-9a2e-22f9e1d4b261&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;getReactNativeVersion\&quot;&quot;,&quot;fullTitle&quot;:&quot;commandExecutor extensionContext getReactNativeVersion \&quot;after all\&quot; hook in \&quot;getReactNativeVersion\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;fsHelper.removePathRecursivelySync(path.join(sampleReactNativeProjectDir, \&quot;node_modules\&quot;));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;409ac211-5b34-4c3e-8b64-e2c2b0cf83ed&quot;,&quot;parentUUID&quot;:&quot;7c526000-5936-4b47-9a2e-22f9e1d4b261&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;getReactNativeVersion should return version string if &#x27;version&#x27; field is found in react-native package package.json file from node_modules&quot;,&quot;fullTitle&quot;:&quot;commandExecutor extensionContext getReactNativeVersion getReactNativeVersion should return version string if &#x27;version&#x27; field is found in react-native package package.json file from node_modules&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n                const commandExecutor = new commandExecutor_1.CommandExecutor(nodeModulesRoot, sampleReactNativeProjectDir);\n                const versionObj = {\n                    version: \&quot;0.65.0\&quot;,\n                };\n                fs.writeFileSync(path.join(reactNativePackageDir, \&quot;package.json\&quot;), JSON.stringify(versionObj, null, 2));\n                const version = yield commandExecutor.getReactNativeVersion();\n                assert.strictEqual(version, \&quot;0.65.0\&quot;);\n            })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cfe3194e-d3c4-4f53-a26d-d09f69384d70&quot;,&quot;parentUUID&quot;:&quot;7c526000-5936-4b47-9a2e-22f9e1d4b261&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;getReactNativeVersion should return version string if there isn&#x27;t &#x27;version&#x27; field in react-native package&#x27;s package.json file&quot;,&quot;fullTitle&quot;:&quot;commandExecutor extensionContext getReactNativeVersion getReactNativeVersion should return version string if there isn&#x27;t &#x27;version&#x27; field in react-native package&#x27;s package.json file&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n                const commandExecutor = new commandExecutor_1.CommandExecutor(nodeModulesRoot, sampleReactNativeProjectDir);\n                const testObj = {\n                    test: \&quot;test\&quot;,\n                };\n                fs.writeFileSync(path.join(reactNativePackageDir, \&quot;package.json\&quot;), JSON.stringify(testObj, null, 2));\n                const version = yield commandExecutor.getReactNativeVersion();\n                assert.strictEqual(version, \&quot;0.65.0\&quot;);\n            })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2e24a0a4-5466-4174-9dc0-489080b07250&quot;,&quot;parentUUID&quot;:&quot;7c526000-5936-4b47-9a2e-22f9e1d4b261&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;cfe3194e-d3c4-4f53-a26d-d09f69384d70&quot;,&quot;2e24a0a4-5466-4174-9dc0-489080b07250&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:16,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;a5bcdf72-abfa-40d5-aada-4b4177b694f7&quot;,&quot;title&quot;:&quot;ReactNativeClIApproaches&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/extension/commandExecutor.test.js&quot;,&quot;file&quot;:&quot;/test/extension/commandExecutor.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;selectReactNativeCLI should return local CLI&quot;,&quot;fullTitle&quot;:&quot;commandExecutor extensionContext ReactNativeClIApproaches selectReactNativeCLI should return local CLI&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const localCLIPath = path.join(sampleReactNativeProjectDir, \&quot;node_modules\&quot;, \&quot;.bin\&quot;, \&quot;react-native\&quot;);\nlet commandExecutor = new commandExecutor_1.CommandExecutor(nodeModulesRoot, sampleReactNativeProjectDir);\ncommandExecutor_1.CommandExecutor.ReactNativeCommand =\n    RNGlobalCLINameContent[\&quot;react-native-tools.reactNativeGlobalCommandName\&quot;];\nassert.strictEqual(commandExecutor.selectReactNativeCLI(), localCLIPath);\ndone();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8d05c0fa-31f0-4503-af41-6049ad4c0cdb&quot;,&quot;parentUUID&quot;:&quot;a5bcdf72-abfa-40d5-aada-4b4177b694f7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;selectReactNativeCLI should return global CLI&quot;,&quot;fullTitle&quot;:&quot;commandExecutor extensionContext ReactNativeClIApproaches selectReactNativeCLI should return global CLI&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const randomHash = new crypto_1.Crypto().hash(Math.random().toString(36).substring(2, 15));\nRNGlobalCLINameContent[\&quot;react-native-tools.reactNativeGlobalCommandName\&quot;] =\n    randomHash;\nlet commandExecutor = new commandExecutor_1.CommandExecutor(nodeModulesRoot, sampleReactNativeProjectDir);\ncommandExecutor_1.CommandExecutor.ReactNativeCommand =\n    RNGlobalCLINameContent[\&quot;react-native-tools.reactNativeGlobalCommandName\&quot;];\nassert.strictEqual(commandExecutor.selectReactNativeCLI(), randomHash);\ndone();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cc186760-f34f-479b-b5c9-5f28a916f342&quot;,&quot;parentUUID&quot;:&quot;a5bcdf72-abfa-40d5-aada-4b4177b694f7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8d05c0fa-31f0-4503-af41-6049ad4c0cdb&quot;,&quot;cc186760-f34f-479b-b5c9-5f28a916f342&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[&quot;b936e372-a54e-4e67-b6ca-10386a6215b6&quot;,&quot;93973de2-3924-40ff-90ae-3ae93198b252&quot;,&quot;d3f18a65-a766-4b7b-8670-fc0da36be8bb&quot;,&quot;2a75148f-2c25-4fbb-8fd4-70b0b5fd14d4&quot;,&quot;d986225b-36be-41ea-ba34-d6eefdfecb0c&quot;,&quot;cc4d2863-1558-448f-a4ab-12172a5d96d2&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:232,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;fb1d3ebd-436b-4609-8e49-16058ac8cd58&quot;,&quot;title&quot;:&quot;elementInspector&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/extension/elementInspector.test.js&quot;,&quot;file&quot;:&quot;/test/extension/elementInspector.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;7fd4b047-a5f5-4e17-acdf-46d7faa7660d&quot;,&quot;title&quot;:&quot;extensionContext&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/extension/elementInspector.test.js&quot;,&quot;file&quot;:&quot;/test/extension/elementInspector.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;element inspector should run and close without errors&quot;,&quot;fullTitle&quot;:&quot;elementInspector extensionContext element inspector should run and close without errors&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:27,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    yield runElementInspector.baseFn();\n    yield stopElementInspector.baseFn();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1f1e6d36-98ae-496c-bdd8-2712aac0c158&quot;,&quot;parentUUID&quot;:&quot;7fd4b047-a5f5-4e17-acdf-46d7faa7660d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;element inspector should not allow multiple windows to run&quot;,&quot;fullTitle&quot;:&quot;elementInspector extensionContext element inspector should not allow multiple windows to run&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:26,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    yield runElementInspector.baseFn();\n    yield runElementInspector.baseFn();\n    yield stopElementInspector.baseFn();\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;10ba671c-a88c-46a9-90da-e0037e096572&quot;,&quot;parentUUID&quot;:&quot;7fd4b047-a5f5-4e17-acdf-46d7faa7660d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;1f1e6d36-98ae-496c-bdd8-2712aac0c158&quot;,&quot;10ba671c-a88c-46a9-90da-e0037e096572&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:53,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;d66795b7-a250-4820-89ca-8bfb25c22888&quot;,&quot;title&quot;:&quot;experimentService&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/extension/experimentService/experimentService.test.js&quot;,&quot;file&quot;:&quot;/test/extension/experimentService/experimentService.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;experimentService\&quot;&quot;,&quot;fullTitle&quot;:&quot;experimentService \&quot;after each\&quot; hook in \&quot;experimentService\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;experimentService_1.ExperimentService.instance = null;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;84e28217-2736-4f86-8a55-f2f027b4143f&quot;,&quot;parentUUID&quot;:&quot;d66795b7-a250-4820-89ca-8bfb25c22888&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;ce044c91-137e-4733-8cfa-47923e564e88&quot;,&quot;title&quot;:&quot;initializationAndExperimentConfig&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/extension/experimentService/experimentService.test.js&quot;,&quot;file&quot;:&quot;/test/extension/experimentService/experimentService.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return correct experiment config&quot;,&quot;fullTitle&quot;:&quot;experimentService initializationAndExperimentConfig should return correct experiment config&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:104,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            let experimentService = experimentService_1.ExperimentService.create();\n            let downloadedExperimentsConfig = yield experimentService\n                .downloadConfigRequest;\n            let result = downloadedExperimentsConfig.every(expConfig =&gt; typeof expConfig.enabled === \&quot;boolean\&quot; &amp;&amp;\n                typeof expConfig.experimentName === \&quot;string\&quot; &amp;&amp;\n                typeof expConfig.popCoveragePercent === \&quot;number\&quot;);\n            assert.strictEqual(result, true);\n        })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8b9bce39-0bcf-4db7-9d5f-21be73bb8ace&quot;,&quot;parentUUID&quot;:&quot;ce044c91-137e-4733-8cfa-47923e564e88&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;8b9bce39-0bcf-4db7-9d5f-21be73bb8ace&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:104,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;ec631cae-ed49-430e-aa66-3facd16b44fd&quot;,&quot;title&quot;:&quot;executeExperiment&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/extension/experimentService/experimentService.test.js&quot;,&quot;file&quot;:&quot;/test/extension/experimentService/experimentService.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;executeExperiment\&quot;&quot;,&quot;fullTitle&quot;:&quot;experimentService executeExperiment \&quot;after each\&quot; hook in \&quot;executeExperiment\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:6,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;experimentService_1.ExperimentService.instance = null;\nconfig.delete(testExperimentName);\nconfig.delete(RNTPreviewPromptExp.experimentName);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c67b0951-638b-49ad-8f58-870801b89cc3&quot;,&quot;parentUUID&quot;:&quot;ec631cae-ed49-430e-aa66-3facd16b44fd&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should skip the experiment&quot;,&quot;fullTitle&quot;:&quot;experimentService executeExperiment should skip the experiment&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            config.set(testExperimentName, expTestConfig);\n            let experimentService = experimentService_1.ExperimentService.create();\n            yield configureExperimentService(experimentService, expTestConfig);\n            let experimentResult = yield experimentService.executeExperiment(expTestConfig);\n            assert.strictEqual(experimentResult.resultStatus, experimentService_1.ExperimentStatuses.DISABLED);\n        })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;29eb4b6f-4ed1-4ae9-a0e2-164e55a4e88c&quot;,&quot;parentUUID&quot;:&quot;ec631cae-ed49-430e-aa66-3facd16b44fd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should succeed the experiment&quot;,&quot;fullTitle&quot;:&quot;experimentService executeExperiment should succeed the experiment&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:13,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            let experimentService = experimentService_1.ExperimentService.create();\n            yield configureExperimentService(experimentService, RNTPreviewPromptExp);\n            let experimentResult = yield experimentService.executeExperiment(RNTPreviewPromptExp);\n            assert.strictEqual(experimentResult.resultStatus, experimentService_1.ExperimentStatuses.ENABLED);\n        })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3c5ea70c-6fdc-4f3f-accf-e2973c60124f&quot;,&quot;parentUUID&quot;:&quot;ec631cae-ed49-430e-aa66-3facd16b44fd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;29eb4b6f-4ed1-4ae9-a0e2-164e55a4e88c&quot;,&quot;3c5ea70c-6fdc-4f3f-accf-e2973c60124f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:26,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;e99c4499-dab8-4fc0-a0eb-49aa94ba07b5&quot;,&quot;title&quot;:&quot;exponentHelper&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/extension/exponent/exponentHelper.test.js&quot;,&quot;file&quot;:&quot;/test/extension/exponent/exponentHelper.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;91ed4bc1-0696-41da-9836-998a862b19f5&quot;,&quot;title&quot;:&quot;extensionContext&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/extension/exponent/exponentHelper.test.js&quot;,&quot;file&quot;:&quot;/test/extension/exponent/exponentHelper.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;0830549d-7eae-47e8-8f0f-e31de50715c7&quot;,&quot;title&quot;:&quot;isExpoManagedApp&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/extension/exponent/exponentHelper.test.js&quot;,&quot;file&quot;:&quot;/test/extension/exponent/exponentHelper.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return false if dependencies are empty&quot;,&quot;fullTitle&quot;:&quot;exponentHelper extensionContext isExpoManagedApp should return false if dependencies are empty&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n                yield checkIsExpoManagedApp(false, {});\n            })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;722b9851-d75e-4d21-96da-1fedc9876355&quot;,&quot;parentUUID&quot;:&quot;0830549d-7eae-47e8-8f0f-e31de50715c7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return false if (dev)dependencies.expo is missing&quot;,&quot;fullTitle&quot;:&quot;exponentHelper extensionContext isExpoManagedApp should return false if (dev)dependencies.expo is missing&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n                yield checkIsExpoManagedApp(false, { dependencies: {} });\n                yield checkIsExpoManagedApp(false, { devDependencies: {} });\n            })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9bbae634-611b-4ad0-b0f6-179d7960146d&quot;,&quot;parentUUID&quot;:&quot;0830549d-7eae-47e8-8f0f-e31de50715c7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return false if there are &#x27;.xcodeproj&#x27; files in &#x27;ios/**&#x27; foldes&quot;,&quot;fullTitle&quot;:&quot;exponentHelper extensionContext isExpoManagedApp should return false if there are &#x27;.xcodeproj&#x27; files in &#x27;ios/**&#x27; foldes&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n                yield checkIsExpoManagedApp(false, { dependencies: { expo: \&quot;37.0.1\&quot; } }, (pattern, options) =&gt; {\n                    return pattern === \&quot;ios/**/*.xcodeproj\&quot; ? [\&quot;ios/myProject.xcodeproj\&quot;] : [];\n                });\n            })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8bee363b-08c7-4f54-9a57-6d14d2395006&quot;,&quot;parentUUID&quot;:&quot;0830549d-7eae-47e8-8f0f-e31de50715c7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return false if there are &#x27;.gradle&#x27; files in &#x27;android/**&#x27; foldes&quot;,&quot;fullTitle&quot;:&quot;exponentHelper extensionContext isExpoManagedApp should return false if there are &#x27;.gradle&#x27; files in &#x27;android/**&#x27; foldes&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n                yield checkIsExpoManagedApp(false, { dependencies: { expo: \&quot;37.0.1\&quot; } }, (pattern, options) =&gt; {\n                    return pattern === \&quot;android/**/*.gradle\&quot; ? [\&quot;android/build.gradle\&quot;] : [];\n                });\n            })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a81b45d1-e5a0-4609-9caf-6e0a356bd6f9&quot;,&quot;parentUUID&quot;:&quot;0830549d-7eae-47e8-8f0f-e31de50715c7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return true if there are `expo` and &#x27;expokit&#x27; packages in (dev)dependencies&quot;,&quot;fullTitle&quot;:&quot;exponentHelper extensionContext isExpoManagedApp should return true if there are `expo` and &#x27;expokit&#x27; packages in (dev)dependencies&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n                yield checkIsExpoManagedApp(true, {\n                    dependencies: { expo: \&quot;37.0.1\&quot;, expokit: \&quot;37.0.0\&quot; },\n                });\n                yield checkIsExpoManagedApp(true, {\n                    devDependencies: { expo: \&quot;37.0.1\&quot;, expokit: \&quot;37.0.0\&quot; },\n                });\n            })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;200ed307-61e2-4566-98e2-3eae5733977b&quot;,&quot;parentUUID&quot;:&quot;0830549d-7eae-47e8-8f0f-e31de50715c7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return true if (dev)dependencies.expo exists and there are no &#x27;.xcodeproj&#x27; and &#x27;.gradle&#x27; files&quot;,&quot;fullTitle&quot;:&quot;exponentHelper extensionContext isExpoManagedApp should return true if (dev)dependencies.expo exists and there are no &#x27;.xcodeproj&#x27; and &#x27;.gradle&#x27; files&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:5,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n                yield checkIsExpoManagedApp(true, { dependencies: { expo: \&quot;37.0.1\&quot; } }, (pattern, options) =&gt; []);\n                yield checkIsExpoManagedApp(true, { devDependencies: { expo: \&quot;37.0.1\&quot; } }, (pattern, options) =&gt; []);\n            })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8decadbe-30ce-47c0-976b-bb452d7f4461&quot;,&quot;parentUUID&quot;:&quot;0830549d-7eae-47e8-8f0f-e31de50715c7&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;722b9851-d75e-4d21-96da-1fedc9876355&quot;,&quot;9bbae634-611b-4ad0-b0f6-179d7960146d&quot;,&quot;8bee363b-08c7-4f54-9a57-6d14d2395006&quot;,&quot;a81b45d1-e5a0-4609-9caf-6e0a356bd6f9&quot;,&quot;200ed307-61e2-4566-98e2-3eae5733977b&quot;,&quot;8decadbe-30ce-47c0-976b-bb452d7f4461&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:20,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;20562a45-7461-4993-877a-288a038f0241&quot;,&quot;title&quot;:&quot;GeneralPlatform&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/extension/generalPlatform.test.js&quot;,&quot;file&quot;:&quot;/test/extension/generalPlatform.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;9587b224-4f89-44f2-9cf1-3dcdde0c2f3d&quot;,&quot;title&quot;:&quot;extensionContext&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/extension/generalPlatform.test.js&quot;,&quot;file&quot;:&quot;/test/extension/generalPlatform.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;65b64a53-50cb-4501-9878-514e8d58f97b&quot;,&quot;title&quot;:&quot;getEnvArgument&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/extension/generalPlatform.test.js&quot;,&quot;file&quot;:&quot;/test/extension/generalPlatform.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;getEnvArgument\&quot;&quot;,&quot;fullTitle&quot;:&quot;GeneralPlatform extensionContext getEnvArgument \&quot;before each\&quot; hook in \&quot;getEnvArgument\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;fs.writeFileSync(envFile, envForFile);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8afd1c88-0cb9-4fdb-b3e0-bab08de873a4&quot;,&quot;parentUUID&quot;:&quot;65b64a53-50cb-4501-9878-514e8d58f97b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;getEnvArgument\&quot;&quot;,&quot;fullTitle&quot;:&quot;GeneralPlatform extensionContext getEnvArgument \&quot;after each\&quot; hook in \&quot;getEnvArgument\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;fs.unlinkSync(envFile);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d69dd577-8b24-4f13-9b35-c0cf53fe354c&quot;,&quot;parentUUID&quot;:&quot;65b64a53-50cb-4501-9878-514e8d58f97b&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;existing args should not should not depend on the existence of the envFile&quot;,&quot;fullTitle&quot;:&quot;GeneralPlatform extensionContext getEnvArgument existing args should not should not depend on the existence of the envFile&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepEqual(generalPlatform_1.GeneralPlatform.getEnvArgument(origEnv, undefined, fakeEnvFile), {\n    test1: \&quot;origEnv\&quot;,\n    test2: \&quot;origEnv\&quot;,\n    test3: \&quot;origEnv\&quot;,\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;033db78c-6204-44a4-b853-304d5a52b0a0&quot;,&quot;parentUUID&quot;:&quot;65b64a53-50cb-4501-9878-514e8d58f97b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;existing args should not depend on null or undefined env and envFile&quot;,&quot;fullTitle&quot;:&quot;GeneralPlatform extensionContext getEnvArgument existing args should not depend on null or undefined env and envFile&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepEqual(generalPlatform_1.GeneralPlatform.getEnvArgument(origEnv, undefined, undefined), {\n    test1: \&quot;origEnv\&quot;,\n    test2: \&quot;origEnv\&quot;,\n    test3: \&quot;origEnv\&quot;,\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0c85813d-31c5-4f09-9639-a7806ed98745&quot;,&quot;parentUUID&quot;:&quot;65b64a53-50cb-4501-9878-514e8d58f97b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;args from envFile should not overwrite existing variables&quot;,&quot;fullTitle&quot;:&quot;GeneralPlatform extensionContext getEnvArgument args from envFile should not overwrite existing variables&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepEqual(generalPlatform_1.GeneralPlatform.getEnvArgument(origEnv, null, envFile), {\n    test1: \&quot;origEnv\&quot;,\n    test2: \&quot;origEnv\&quot;,\n    test3: \&quot;origEnv\&quot;,\n    test4: \&quot;envFile\&quot;,\n    test5: \&quot;envFile\&quot;,\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5a242f41-e576-41cc-8ce9-98c50cb65602&quot;,&quot;parentUUID&quot;:&quot;65b64a53-50cb-4501-9878-514e8d58f97b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;args from envFile and original args should be overwritten by env args&quot;,&quot;fullTitle&quot;:&quot;GeneralPlatform extensionContext getEnvArgument args from envFile and original args should be overwritten by env args&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.deepEqual(generalPlatform_1.GeneralPlatform.getEnvArgument(origEnv, env, envFile), {\n    test1: \&quot;origEnv\&quot;,\n    test2: \&quot;env\&quot;,\n    test3: \&quot;env\&quot;,\n    test4: \&quot;env\&quot;,\n    test5: \&quot;envFile\&quot;,\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0c1dd479-6e67-4966-affd-0dc160e5c38a&quot;,&quot;parentUUID&quot;:&quot;65b64a53-50cb-4501-9878-514e8d58f97b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;033db78c-6204-44a4-b853-304d5a52b0a0&quot;,&quot;0c85813d-31c5-4f09-9639-a7806ed98745&quot;,&quot;5a242f41-e576-41cc-8ce9-98c50cb65602&quot;,&quot;0c1dd479-6e67-4966-affd-0dc160e5c38a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;2ca92b38-8977-4ef6-8763-cada282f4127&quot;,&quot;title&quot;:&quot;runArguments&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/extension/generalPlatform.test.js&quot;,&quot;file&quot;:&quot;/test/extension/generalPlatform.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;fa3eb315-7398-412e-9aab-21a87cbc0485&quot;,&quot;title&quot;:&quot;getOptFromRunArgs&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/extension/generalPlatform.test.js&quot;,&quot;file&quot;:&quot;/test/extension/generalPlatform.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return undefined if arguments are empty&quot;,&quot;fullTitle&quot;:&quot;GeneralPlatform extensionContext runArguments getOptFromRunArgs should return undefined if arguments are empty&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const args = [];\nassert.strictEqual(generalPlatform_1.GeneralPlatform.getOptFromRunArgs(args, \&quot;--param1\&quot;, true), undefined);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bd3b02f3-d688-48dc-9b0f-bc5f3dfa6bf7&quot;,&quot;parentUUID&quot;:&quot;fa3eb315-7398-412e-9aab-21a87cbc0485&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return correct result for binary parameters&quot;,&quot;fullTitle&quot;:&quot;GeneralPlatform extensionContext runArguments getOptFromRunArgs should return correct result for binary parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const args = [\&quot;--param1\&quot;, \&quot;param2\&quot;];\nassert.strictEqual(generalPlatform_1.GeneralPlatform.getOptFromRunArgs(args, \&quot;--param1\&quot;, true), true);\nassert.strictEqual(generalPlatform_1.GeneralPlatform.getOptFromRunArgs(args, \&quot;param2\&quot;, true), true);\nassert.strictEqual(generalPlatform_1.GeneralPlatform.getOptFromRunArgs(args, \&quot;--unknown\&quot;, true), undefined);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;82429d48-2a5c-4a61-bb59-62dbe7f71000&quot;,&quot;parentUUID&quot;:&quot;fa3eb315-7398-412e-9aab-21a87cbc0485&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return correct result for non-binary parameters&quot;,&quot;fullTitle&quot;:&quot;GeneralPlatform extensionContext runArguments getOptFromRunArgs should return correct result for non-binary parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const args = [\n    \&quot;--param1\&quot;,\n    \&quot;value1\&quot;,\n    \&quot;--param2=value2\&quot;,\n    \&quot;param3=value3\&quot;,\n    \&quot;param4value4\&quot;,\n];\nassert.strictEqual(generalPlatform_1.GeneralPlatform.getOptFromRunArgs(args, \&quot;--param1\&quot;, false), \&quot;value1\&quot;);\nassert.strictEqual(generalPlatform_1.GeneralPlatform.getOptFromRunArgs(args, \&quot;--param2\&quot;, false), \&quot;value2\&quot;);\nassert.strictEqual(generalPlatform_1.GeneralPlatform.getOptFromRunArgs(args, \&quot;--param1\&quot;), \&quot;value1\&quot;);\nassert.strictEqual(generalPlatform_1.GeneralPlatform.getOptFromRunArgs(args, \&quot;--param2\&quot;), \&quot;value2\&quot;);\nassert.strictEqual(generalPlatform_1.GeneralPlatform.getOptFromRunArgs(args, \&quot;param3\&quot;, false), \&quot;value3\&quot;);\nassert.strictEqual(generalPlatform_1.GeneralPlatform.getOptFromRunArgs(args, \&quot;param4\&quot;, false), undefined);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c991b9ca-c8f2-480f-a535-c649e92175a3&quot;,&quot;parentUUID&quot;:&quot;fa3eb315-7398-412e-9aab-21a87cbc0485&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;bd3b02f3-d688-48dc-9b0f-bc5f3dfa6bf7&quot;,&quot;82429d48-2a5c-4a61-bb59-62dbe7f71000&quot;,&quot;c991b9ca-c8f2-480f-a535-c649e92175a3&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;88bbfcde-d914-4a1d-9ee3-100238168465&quot;,&quot;title&quot;:&quot;removeRunArgument&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/extension/generalPlatform.test.js&quot;,&quot;file&quot;:&quot;/test/extension/generalPlatform.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;removeRunArgument\&quot;&quot;,&quot;fullTitle&quot;:&quot;GeneralPlatform extensionContext runArguments removeRunArgument \&quot;before each\&quot; hook in \&quot;removeRunArgument\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;mockRunArguments = [paramWithValue, \&quot;value\&quot;, binaryParam];&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;36c2fda2-b73a-460d-bae6-ebc48b55f19c&quot;,&quot;parentUUID&quot;:&quot;88bbfcde-d914-4a1d-9ee3-100238168465&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;existing binary parameter should be removed from runArguments&quot;,&quot;fullTitle&quot;:&quot;GeneralPlatform extensionContext runArguments removeRunArgument existing binary parameter should be removed from runArguments&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;generalPlatform_1.GeneralPlatform.removeRunArgument(mockRunArguments, binaryParam, true);\nassert.deepEqual(mockRunArguments, [paramWithValue, \&quot;value\&quot;]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;25652596-1558-4a12-be68-b4c9b6fa256a&quot;,&quot;parentUUID&quot;:&quot;88bbfcde-d914-4a1d-9ee3-100238168465&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;existing parameter and its value should be removed from runArguments&quot;,&quot;fullTitle&quot;:&quot;GeneralPlatform extensionContext runArguments removeRunArgument existing parameter and its value should be removed from runArguments&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;generalPlatform_1.GeneralPlatform.removeRunArgument(mockRunArguments, paramWithValue, false);\nassert.deepEqual(mockRunArguments, [binaryParam]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;dfc565a3-d28d-4ae9-b17d-9d92b8a55950&quot;,&quot;parentUUID&quot;:&quot;88bbfcde-d914-4a1d-9ee3-100238168465&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;nothing should happen if try to remove not existing parameter&quot;,&quot;fullTitle&quot;:&quot;GeneralPlatform extensionContext runArguments removeRunArgument nothing should happen if try to remove not existing parameter&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;generalPlatform_1.GeneralPlatform.removeRunArgument(mockRunArguments, \&quot;--undefined\&quot;, false);\nassert.deepEqual(mockRunArguments, [paramWithValue, \&quot;value\&quot;, binaryParam]);\ngeneralPlatform_1.GeneralPlatform.removeRunArgument(mockRunArguments, \&quot;--undefined\&quot;, true);\nassert.deepEqual(mockRunArguments, [paramWithValue, \&quot;value\&quot;, binaryParam]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7d2f672a-787a-4ed2-9718-3c106ac98c0d&quot;,&quot;parentUUID&quot;:&quot;88bbfcde-d914-4a1d-9ee3-100238168465&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;25652596-1558-4a12-be68-b4c9b6fa256a&quot;,&quot;dfc565a3-d28d-4ae9-b17d-9d92b8a55950&quot;,&quot;7d2f672a-787a-4ed2-9718-3c106ac98c0d&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;1524926a-8656-4d2d-9520-8f83e314a425&quot;,&quot;title&quot;:&quot;setRunArgument&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/extension/generalPlatform.test.js&quot;,&quot;file&quot;:&quot;/test/extension/generalPlatform.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;setRunArgument\&quot;&quot;,&quot;fullTitle&quot;:&quot;GeneralPlatform extensionContext runArguments setRunArgument \&quot;before each\&quot; hook in \&quot;setRunArgument\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;mockRunArguments = [paramWithValue, \&quot;value\&quot;, binaryParam];&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6129b5d8-1486-4253-973d-78115fe06239&quot;,&quot;parentUUID&quot;:&quot;1524926a-8656-4d2d-9520-8f83e314a425&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;new binary parameter should be added to runArguments&quot;,&quot;fullTitle&quot;:&quot;GeneralPlatform extensionContext runArguments setRunArgument new binary parameter should be added to runArguments&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;generalPlatform_1.GeneralPlatform.setRunArgument(mockRunArguments, \&quot;--newBinaryParam\&quot;, true);\nassert.deepEqual(mockRunArguments, [\n    paramWithValue,\n    \&quot;value\&quot;,\n    binaryParam,\n    \&quot;--newBinaryParam\&quot;,\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;17430166-9f40-46e4-94b2-042394e42d9e&quot;,&quot;parentUUID&quot;:&quot;1524926a-8656-4d2d-9520-8f83e314a425&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;new parameter with value and its value should be added to runArguments&quot;,&quot;fullTitle&quot;:&quot;GeneralPlatform extensionContext runArguments setRunArgument new parameter with value and its value should be added to runArguments&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;generalPlatform_1.GeneralPlatform.setRunArgument(mockRunArguments, \&quot;--newParamWithValue\&quot;, \&quot;itsValue\&quot;);\nassert.deepEqual(mockRunArguments, [\n    paramWithValue,\n    \&quot;value\&quot;,\n    binaryParam,\n    \&quot;--newParamWithValue\&quot;,\n    \&quot;itsValue\&quot;,\n]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;40daf54f-d701-4f2b-bb79-93b1041dd4b9&quot;,&quot;parentUUID&quot;:&quot;1524926a-8656-4d2d-9520-8f83e314a425&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;value of existing parameter with value should be overwritten by new value&quot;,&quot;fullTitle&quot;:&quot;GeneralPlatform extensionContext runArguments setRunArgument value of existing parameter with value should be overwritten by new value&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;generalPlatform_1.GeneralPlatform.setRunArgument(mockRunArguments, paramWithValue, \&quot;newValue\&quot;);\nassert.deepEqual(mockRunArguments, [paramWithValue, \&quot;newValue\&quot;, binaryParam]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;68661e16-ac83-432b-b798-cb9ff96e06d3&quot;,&quot;parentUUID&quot;:&quot;1524926a-8656-4d2d-9520-8f83e314a425&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;new binary parameter should not be added to runArguments if its value if false&quot;,&quot;fullTitle&quot;:&quot;GeneralPlatform extensionContext runArguments setRunArgument new binary parameter should not be added to runArguments if its value if false&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;generalPlatform_1.GeneralPlatform.setRunArgument(mockRunArguments, \&quot;--newBinaryParam\&quot;, false);\nassert.deepEqual(mockRunArguments, [paramWithValue, \&quot;value\&quot;, binaryParam]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8f02828f-cedc-47f4-9988-8095a98ee13f&quot;,&quot;parentUUID&quot;:&quot;1524926a-8656-4d2d-9520-8f83e314a425&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;existing binary parameter should be removed from runArguments if its value if false&quot;,&quot;fullTitle&quot;:&quot;GeneralPlatform extensionContext runArguments setRunArgument existing binary parameter should be removed from runArguments if its value if false&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;generalPlatform_1.GeneralPlatform.setRunArgument(mockRunArguments, binaryParam, false);\nassert.deepEqual(mockRunArguments, [paramWithValue, \&quot;value\&quot;]);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;75a539ad-3625-45a4-89f0-a30e14c03aec&quot;,&quot;parentUUID&quot;:&quot;1524926a-8656-4d2d-9520-8f83e314a425&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;17430166-9f40-46e4-94b2-042394e42d9e&quot;,&quot;40daf54f-d701-4f2b-bb79-93b1041dd4b9&quot;,&quot;68661e16-ac83-432b-b798-cb9ff96e06d3&quot;,&quot;8f02828f-cedc-47f4-9988-8095a98ee13f&quot;,&quot;75a539ad-3625-45a4-89f0-a30e14c03aec&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;60c8dea3-aee4-42f1-99ef-497fd10e17e0&quot;,&quot;title&quot;:&quot;iOSPlatform&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/extension/ios/iOSPlatform.test.js&quot;,&quot;file&quot;:&quot;/test/extension/ios/iOSPlatform.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;iOSPlatform\&quot;&quot;,&quot;fullTitle&quot;:&quot;iOSPlatform \&quot;before each\&quot; hook in \&quot;iOSPlatform\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;getReactNativeProjectRootStub = sinon.stub(settingsHelper_1.SettingsHelper, \&quot;getReactNativeProjectRoot\&quot;, () =&gt; projectRoot);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;388709d5-7026-4c5e-886c-a53f48684211&quot;,&quot;parentUUID&quot;:&quot;60c8dea3-aee4-42f1-99ef-497fd10e17e0&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;iOSPlatform\&quot;&quot;,&quot;fullTitle&quot;:&quot;iOSPlatform \&quot;after each\&quot; hook in \&quot;iOSPlatform\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;runOptions = {\n    platform: launchArgs_1.PlatformType.iOS,\n    workspaceRoot,\n    projectRoot,\n    nodeModulesRoot,\n};\ngetReactNativeProjectRootStub.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9c1da244-a6b0-431a-8be4-c35035d26f99&quot;,&quot;parentUUID&quot;:&quot;60c8dea3-aee4-42f1-99ef-497fd10e17e0&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;f51a4d08-ce04-44c7-86d7-89097550e689&quot;,&quot;title&quot;:&quot;extensionContext&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/extension/ios/iOSPlatform.test.js&quot;,&quot;file&quot;:&quot;/test/extension/ios/iOSPlatform.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;getRunArgument properties not defined&quot;,&quot;fullTitle&quot;:&quot;iOSPlatform extensionContext getRunArgument properties not defined&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let platform = new iOSPlatform_1.IOSPlatform(runOptions);\nassert.deepEqual(platform.runArguments, []);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e2641bb0-a5d1-4134-bafe-afc92fa80403&quot;,&quot;parentUUID&quot;:&quot;f51a4d08-ce04-44c7-86d7-89097550e689&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;getRunArgument simulator simulator&quot;,&quot;fullTitle&quot;:&quot;iOSPlatform extensionContext getRunArgument simulator simulator&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;runOptions.target = \&quot;simulator\&quot;;\nconst expected = [\&quot;--simulator\&quot;];\nlet platform = new iOSPlatform_1.IOSPlatform(runOptions);\nassert.deepEqual(platform.runArguments, expected);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5a590c51-36e2-4edf-986e-522dbbd68a2b&quot;,&quot;parentUUID&quot;:&quot;f51a4d08-ce04-44c7-86d7-89097550e689&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;getRunArgument device device&quot;,&quot;fullTitle&quot;:&quot;iOSPlatform extensionContext getRunArgument device device&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;runOptions.target = \&quot;device\&quot;;\nconst expected = [\&quot;--device\&quot;];\nlet platform = new iOSPlatform_1.IOSPlatform(runOptions);\nassert.deepEqual(platform.runArguments, expected);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7fb6d9c7-d116-4a6f-b607-ee82bfd2853e&quot;,&quot;parentUUID&quot;:&quot;f51a4d08-ce04-44c7-86d7-89097550e689&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;getRunArgument target device id&quot;,&quot;fullTitle&quot;:&quot;iOSPlatform extensionContext getRunArgument target device id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;runOptions.target = \&quot;925E6E38-0D7B-45E9-ADE0-89C20779D467\&quot;;\nconst expected = [\&quot;--udid\&quot;, runOptions.target];\nlet platform = new iOSPlatform_1.IOSPlatform(runOptions);\nassert.deepEqual(platform.runArguments, expected);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f0cb0e29-a554-4ae7-aa26-0637864eb578&quot;,&quot;parentUUID&quot;:&quot;f51a4d08-ce04-44c7-86d7-89097550e689&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e2641bb0-a5d1-4134-bafe-afc92fa80403&quot;,&quot;5a590c51-36e2-4edf-986e-522dbbd68a2b&quot;,&quot;7fb6d9c7-d116-4a6f-b607-ee82bfd2853e&quot;,&quot;f0cb0e29-a554-4ae7-aa26-0637864eb578&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:9,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;39dcf414-6154-4e5d-a2d1-ee3d49d9cde2&quot;,&quot;title&quot;:&quot;plistBuddy&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/extension/ios/plistBuddy.test.js&quot;,&quot;file&quot;:&quot;/test/extension/ios/plistBuddy.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;b2503380-2551-4dea-8578-c4e6f089133d&quot;,&quot;title&quot;:&quot;extensionContext&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/extension/ios/plistBuddy.test.js&quot;,&quot;file&quot;:&quot;/test/extension/ios/plistBuddy.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;extensionContext\&quot;&quot;,&quot;fullTitle&quot;:&quot;plistBuddy extensionContext \&quot;before each\&quot; hook in \&quot;extensionContext\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;mockedExecFunc = sinon.stub();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;12c57d76-e808-4d41-b1b9-36544e29bb4c&quot;,&quot;parentUUID&quot;:&quot;b2503380-2551-4dea-8578-c4e6f089133d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;extensionContext\&quot;&quot;,&quot;fullTitle&quot;:&quot;plistBuddy extensionContext \&quot;after each\&quot; hook in \&quot;extensionContext\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;mockedExecFunc === null || mockedExecFunc === void 0 ? void 0 : mockedExecFunc.reset();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b96a1a3f-c329-4d86-843c-a8241a2b3ae9&quot;,&quot;parentUUID&quot;:&quot;b2503380-2551-4dea-8578-c4e6f089133d&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;setPlistProperty should attempt to modify, then add, plist properties&quot;,&quot;fullTitle&quot;:&quot;plistBuddy extensionContext setPlistProperty should attempt to modify, then add, plist properties&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:16,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const plistFileName = \&quot;testFile.plist\&quot;;\n    const plistProperty = \&quot;:RCTDevMenu:ExecutorClass\&quot;;\n    const plistValue = \&quot;RCTWebSocketExecutor\&quot;;\n    const setCallArgs = `/usr/libexec/PlistBuddy -c &#x27;Set ${plistProperty} ${plistValue}&#x27; &#x27;${plistFileName}&#x27;`;\n    const addCallArgs = `/usr/libexec/PlistBuddy -c &#x27;Add ${plistProperty} string ${plistValue}&#x27; &#x27;${plistFileName}&#x27;`;\n    mockedExecFunc.withArgs(setCallArgs).returns(Promise.resolve({\n        outcome: Promise.reject(new Error(\&quot;Setting does not exist\&quot;)),\n    }));\n    mockedExecFunc\n        .withArgs(addCallArgs)\n        .returns(Promise.resolve({ outcome: Promise.resolve(\&quot;stdout\&quot;) }));\n    mockedExecFunc.throws();\n    const mockChildProcess = {\n        exec: mockedExecFunc,\n    };\n    const plistBuddy = new plistBuddy_1.PlistBuddy({ nodeChildProcess: mockChildProcess });\n    yield plistBuddy.setPlistProperty(plistFileName, plistProperty, plistValue);\n    assert(mockedExecFunc.calledWithExactly(setCallArgs), \&quot;plistBuddy did not attempt to set first\&quot;);\n    assert(mockedExecFunc.calledWithExactly(addCallArgs), \&quot;plistBuddy did not attempt to add after set failed\&quot;);\n    assert.strictEqual(mockedExecFunc.callCount, 2);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f3f3a062-d264-42fc-af3a-76fb37110fe3&quot;,&quot;parentUUID&quot;:&quot;b2503380-2551-4dea-8578-c4e6f089133d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;setPlistProperty should stop after modifying if the attempt succeeds&quot;,&quot;fullTitle&quot;:&quot;plistBuddy extensionContext setPlistProperty should stop after modifying if the attempt succeeds&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const plistFileName = \&quot;testFile.plist\&quot;;\n    const plistProperty = \&quot;:RCTDevMenu:ExecutorClass\&quot;;\n    const plistValue = \&quot;RCTWebSocketExecutor\&quot;;\n    const setCallArgs = `/usr/libexec/PlistBuddy -c &#x27;Set ${plistProperty} ${plistValue}&#x27; &#x27;${plistFileName}&#x27;`;\n    mockedExecFunc\n        .withArgs(setCallArgs)\n        .returns(Promise.resolve({ outcome: Promise.resolve(\&quot;stdout\&quot;) }));\n    mockedExecFunc.throws();\n    const mockChildProcess = {\n        exec: mockedExecFunc,\n    };\n    const plistBuddy = new plistBuddy_1.PlistBuddy({ nodeChildProcess: mockChildProcess });\n    yield plistBuddy.setPlistProperty(plistFileName, plistProperty, plistValue);\n    assert(mockedExecFunc.calledWithExactly(setCallArgs), \&quot;plistBuddy did not attempt to set first\&quot;);\n    assert.strictEqual(mockedExecFunc.callCount, 1);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;db473a58-0e6b-4c8d-8eec-62fa30dd17f9&quot;,&quot;parentUUID&quot;:&quot;b2503380-2551-4dea-8578-c4e6f089133d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;getBundleId should return the bundle ID for RN &lt;0.59&quot;,&quot;fullTitle&quot;:&quot;plistBuddy extensionContext getBundleId should return the bundle ID for RN &lt;0.59&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:15,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const projectRoot = path.join(\&quot;/\&quot;, \&quot;userHome\&quot;, \&quot;rnProject\&quot;);\n    const iosProjectRoot = path.join(projectRoot, \&quot;ios\&quot;);\n    const appName = \&quot;myApp\&quot;;\n    const simulatorBundleId = \&quot;com.contoso.simulator\&quot;;\n    const deviceBundleId = \&quot;com.contoso.device\&quot;;\n    const plistBuddy = getPlistBuddy(appName, iosProjectRoot, undefined, simulatorBundleId, deviceBundleId, AppleProjectType.iOS);\n    let getReactNativeVersionsStub = sinon\n        .stub(projectVersionHelper_1.ProjectVersionHelper, \&quot;getReactNativeVersions\&quot;)\n        .returns(Promise.resolve({\n        reactNativeVersion: \&quot;0.58.5\&quot;,\n        reactNativeWindowsVersion: \&quot;\&quot;,\n    }));\n    let getConfigurationDataStub = sinon.stub(plistBuddy, \&quot;getConfigurationData\&quot;, fakeGetConfigurationData);\n    const [simulatorId1, simulatorId2, deviceId1, deviceId2] = yield Promise.all([\n        plistBuddy.getBundleId(iosProjectRoot, projectRoot, launchArgs_1.PlatformType.iOS, true, \&quot;Debug\&quot;, appName),\n        plistBuddy.getBundleId(iosProjectRoot, projectRoot, launchArgs_1.PlatformType.iOS, true, \&quot;Debug\&quot;, appName, \&quot;whateverScheme\&quot;),\n        plistBuddy.getBundleId(iosProjectRoot, projectRoot, launchArgs_1.PlatformType.iOS, false, undefined, appName),\n        plistBuddy.getBundleId(iosProjectRoot, projectRoot, launchArgs_1.PlatformType.iOS, false, undefined, appName, \&quot;whateverScheme\&quot;),\n    ]);\n    getReactNativeVersionsStub.restore();\n    getConfigurationDataStub.restore();\n    assert.strictEqual(simulatorBundleId, simulatorId1);\n    assert.strictEqual(simulatorBundleId, simulatorId2);\n    assert.strictEqual(deviceBundleId, deviceId1);\n    assert.strictEqual(deviceBundleId, deviceId2);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d325264d-d2de-4a8f-b05c-36c71df385ec&quot;,&quot;parentUUID&quot;:&quot;b2503380-2551-4dea-8578-c4e6f089133d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;getBundleId should return the bundle ID for RN &gt;=0.59&quot;,&quot;fullTitle&quot;:&quot;plistBuddy extensionContext getBundleId should return the bundle ID for RN &gt;=0.59&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:10,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const projectRoot = path.join(\&quot;/\&quot;, \&quot;userHome\&quot;, \&quot;rnProject\&quot;);\n    const iosProjectRoot = path.join(projectRoot, \&quot;ios\&quot;);\n    const appName = \&quot;myApp\&quot;;\n    const scheme = \&quot;myCustomScheme\&quot;;\n    const simulatorBundleId = \&quot;com.contoso.simulator\&quot;;\n    const deviceBundleId = \&quot;com.contoso.device\&quot;;\n    const plistBuddy = getPlistBuddy(appName, iosProjectRoot, \&quot;myCustomScheme\&quot;, simulatorBundleId, deviceBundleId, AppleProjectType.iOS);\n    const getReactNativeVersionsStub = sinon\n        .stub(projectVersionHelper_1.ProjectVersionHelper, \&quot;getReactNativeVersions\&quot;)\n        .returns(Promise.resolve({\n        reactNativeVersion: \&quot;0.59.0\&quot;,\n        reactNativeWindowsVersion: \&quot;\&quot;,\n    }));\n    const getConfigurationDataStub = sinon.stub(plistBuddy, \&quot;getConfigurationData\&quot;, fakeGetConfigurationData);\n    const getInferredSchemeStub = sinon\n        .stub(plistBuddy, \&quot;getInferredScheme\&quot;)\n        .returns(scheme);\n    const [simulatorId1, simulatorId2, deviceId1, deviceId2] = yield Promise.all([\n        plistBuddy.getBundleId(iosProjectRoot, projectRoot, launchArgs_1.PlatformType.iOS, true, \&quot;Debug\&quot;, appName),\n        plistBuddy.getBundleId(iosProjectRoot, projectRoot, launchArgs_1.PlatformType.iOS, true, \&quot;Debug\&quot;, appName, scheme),\n        plistBuddy.getBundleId(iosProjectRoot, projectRoot, launchArgs_1.PlatformType.iOS, false, undefined, appName),\n        plistBuddy.getBundleId(iosProjectRoot, projectRoot, launchArgs_1.PlatformType.iOS, false, undefined, appName, scheme),\n    ]);\n    getReactNativeVersionsStub.restore();\n    getConfigurationDataStub.restore();\n    getInferredSchemeStub.restore();\n    assert.strictEqual(simulatorBundleId, simulatorId1);\n    assert.strictEqual(simulatorBundleId, simulatorId2);\n    assert.strictEqual(deviceBundleId, deviceId1);\n    assert.strictEqual(deviceBundleId, deviceId2);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a463a5b4-ee65-4d72-81c2-9f98c6c7bf0e&quot;,&quot;parentUUID&quot;:&quot;b2503380-2551-4dea-8578-c4e6f089133d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;getBundleId should return the bundle ID for an AppleTV project using RN &gt;=0.59&quot;,&quot;fullTitle&quot;:&quot;plistBuddy extensionContext getBundleId should return the bundle ID for an AppleTV project using RN &gt;=0.59&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const projectRoot = path.join(\&quot;/\&quot;, \&quot;userHome\&quot;, \&quot;rnProject\&quot;);\n    const iosProjectRoot = path.join(projectRoot, \&quot;ios\&quot;);\n    const appName = \&quot;myApp\&quot;;\n    const scheme = \&quot;myCustomScheme-tvOS\&quot;;\n    const simulatorBundleId = \&quot;com.contoso.simulator\&quot;;\n    const deviceBundleId = \&quot;com.contoso.device\&quot;;\n    const plistBuddy = getPlistBuddy(appName, iosProjectRoot, scheme, simulatorBundleId, deviceBundleId, AppleProjectType.appleTV);\n    const getReactNativeVersionsStub = sinon\n        .stub(projectVersionHelper_1.ProjectVersionHelper, \&quot;getReactNativeVersions\&quot;)\n        .returns(Promise.resolve({\n        reactNativeVersion: \&quot;0.59.0\&quot;,\n        reactNativeWindowsVersion: \&quot;\&quot;,\n    }));\n    const getConfigurationDataStub = sinon.stub(plistBuddy, \&quot;getConfigurationData\&quot;, fakeGetConfigurationData);\n    const getInferredSchemeStub = sinon\n        .stub(plistBuddy, \&quot;getInferredScheme\&quot;)\n        .returns(scheme);\n    const [simulatorId1, simulatorId2, deviceId1, deviceId2] = yield Promise.all([\n        plistBuddy.getBundleId(iosProjectRoot, projectRoot, launchArgs_1.PlatformType.iOS, true, \&quot;Debug\&quot;, appName),\n        plistBuddy.getBundleId(iosProjectRoot, projectRoot, launchArgs_1.PlatformType.iOS, true, \&quot;Debug\&quot;, appName, scheme),\n        plistBuddy.getBundleId(iosProjectRoot, projectRoot, launchArgs_1.PlatformType.iOS, false, undefined, appName),\n        plistBuddy.getBundleId(iosProjectRoot, projectRoot, launchArgs_1.PlatformType.iOS, false, undefined, appName, scheme),\n    ]);\n    getReactNativeVersionsStub.restore();\n    getConfigurationDataStub.restore();\n    getInferredSchemeStub.restore();\n    assert.strictEqual(simulatorBundleId, simulatorId1);\n    assert.strictEqual(simulatorBundleId, simulatorId2);\n    assert.strictEqual(deviceBundleId, deviceId1);\n    assert.strictEqual(deviceBundleId, deviceId2);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;cf085170-28f3-4272-92eb-c66cb8efc29b&quot;,&quot;parentUUID&quot;:&quot;b2503380-2551-4dea-8578-c4e6f089133d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;getBundleId should return the bundle ID for a macOS project using RN &gt;=0.59&quot;,&quot;fullTitle&quot;:&quot;plistBuddy extensionContext getBundleId should return the bundle ID for a macOS project using RN &gt;=0.59&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:11,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const projectRoot = path.join(\&quot;/\&quot;, \&quot;userHome\&quot;, \&quot;rnProject\&quot;);\n    const macosProjectRoot = path.join(projectRoot, \&quot;macos\&quot;);\n    const appName = \&quot;myApp\&quot;;\n    const scheme = \&quot;myCustomScheme-macOS\&quot;;\n    const simulatorBundleId = \&quot;\&quot;;\n    const deviceBundleId = \&quot;org.reactjs.native.rn-macos\&quot;;\n    const plistBuddy = getPlistBuddy(appName, macosProjectRoot, scheme, simulatorBundleId, deviceBundleId, AppleProjectType.macOS);\n    const getReactNativeVersionsStub = sinon\n        .stub(projectVersionHelper_1.ProjectVersionHelper, \&quot;getReactNativeVersions\&quot;)\n        .returns(Promise.resolve({\n        reactNativeVersion: \&quot;0.61.0\&quot;,\n        reactNativeWindowsVersion: \&quot;\&quot;,\n    }));\n    const getConfigurationDataStub = sinon.stub(plistBuddy, \&quot;getConfigurationData\&quot;, fakeGetConfigurationData);\n    const getInferredSchemeStub = sinon\n        .stub(plistBuddy, \&quot;getInferredScheme\&quot;)\n        .returns(\&quot;myCustomScheme\&quot;);\n    const [bundleId1, bundleId2] = yield Promise.all([\n        plistBuddy.getBundleId(macosProjectRoot, projectRoot, launchArgs_1.PlatformType.macOS, false, undefined, appName),\n        plistBuddy.getBundleId(macosProjectRoot, projectRoot, launchArgs_1.PlatformType.macOS, false, \&quot;Debug\&quot;, appName, scheme),\n    ]);\n    getReactNativeVersionsStub.restore();\n    getConfigurationDataStub.restore();\n    getInferredSchemeStub.restore();\n    assert.strictEqual(deviceBundleId, bundleId1);\n    assert.strictEqual(deviceBundleId, bundleId2);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f4227124-87f9-4254-b9d4-b3cb76d90816&quot;,&quot;parentUUID&quot;:&quot;b2503380-2551-4dea-8578-c4e6f089133d&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;03f875c9-7e53-46ff-abfc-237093e1bd17&quot;,&quot;title&quot;:&quot;fetchParameterFromBuildSettings&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/extension/ios/plistBuddy.test.js&quot;,&quot;file&quot;:&quot;/test/extension/ios/plistBuddy.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;fetchParameterFromBuildSettings\&quot;&quot;,&quot;fullTitle&quot;:&quot;plistBuddy extensionContext fetchParameterFromBuildSettings \&quot;before all\&quot; hook in \&quot;fetchParameterFromBuildSettings\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;buildSettings = fs.readFileSync(buildSettingsFile);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1fbd31bf-2782-4721-befb-106d611ca13a&quot;,&quot;parentUUID&quot;:&quot;03f875c9-7e53-46ff-abfc-237093e1bd17&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;fetchParameterFromBuildSettings should return parameter value&quot;,&quot;fullTitle&quot;:&quot;plistBuddy extensionContext fetchParameterFromBuildSettings fetchParameterFromBuildSettings should return parameter value&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:12,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const targetBuildDirRef = \&quot;/Users/user/Library/Developer/Xcode/DerivedData/AwesomeProject0615-btdtcysqbddifyewiiztkumnopik/Build/Products/Debug-iphonesimulator\&quot;;\nconst fullProductNameRef = \&quot;AwesomeProject0615.app\&quot;;\nconst targetBuildDir = plistBuddy.fetchParameterFromBuildSettings(buildSettings, \&quot;TARGET_BUILD_DIR\&quot;);\nconst fullProductName = plistBuddy.fetchParameterFromBuildSettings(buildSettings, \&quot;FULL_PRODUCT_NAME\&quot;);\nassert.strictEqual(targetBuildDir, targetBuildDirRef);\nassert.strictEqual(fullProductName, fullProductNameRef);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;506064bd-23ca-4053-ac2f-ad9e4bc663f8&quot;,&quot;parentUUID&quot;:&quot;03f875c9-7e53-46ff-abfc-237093e1bd17&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;fetchParameterFromBuildSettings should return null&quot;,&quot;fullTitle&quot;:&quot;plistBuddy extensionContext fetchParameterFromBuildSettings fetchParameterFromBuildSettings should return null&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const targetBuildDir = plistBuddy.fetchParameterFromBuildSettings(buildSettings, \&quot;TARGET_BUILD_DIR1\&quot;);\nconst testNull = plistBuddy.fetchParameterFromBuildSettings(buildSettings, \&quot;TEST\&quot;);\nconst emptyStringCase = plistBuddy.fetchParameterFromBuildSettings(buildSettings, \&quot;\&quot;);\nassert.strictEqual(targetBuildDir, null);\nassert.strictEqual(testNull, null);\nassert.notStrictEqual(emptyStringCase, null);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ac52a4b5-4f84-4abe-b75f-1d9a03d56761&quot;,&quot;parentUUID&quot;:&quot;03f875c9-7e53-46ff-abfc-237093e1bd17&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;506064bd-23ca-4053-ac2f-ad9e4bc663f8&quot;,&quot;ac52a4b5-4f84-4abe-b75f-1d9a03d56761&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:13,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[&quot;f3f3a062-d264-42fc-af3a-76fb37110fe3&quot;,&quot;db473a58-0e6b-4c8d-8eec-62fa30dd17f9&quot;,&quot;d325264d-d2de-4a8f-b05c-36c71df385ec&quot;,&quot;a463a5b4-ee65-4d72-81c2-9f98c6c7bf0e&quot;,&quot;cf085170-28f3-4272-92eb-c66cb8efc29b&quot;,&quot;f4227124-87f9-4254-b9d4-b3cb76d90816&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:66,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;f1b02e54-f334-4fc4-84cf-c5d1de745d7c&quot;,&quot;title&quot;:&quot;plistBuddy&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/extension/ios/simulatorPlist.test.js&quot;,&quot;file&quot;:&quot;/test/extension/ios/simulatorPlist.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;f3b3c1d4-5f17-417d-9ff0-9efafe8457fa&quot;,&quot;title&quot;:&quot;extensionContext&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/extension/ios/simulatorPlist.test.js&quot;,&quot;file&quot;:&quot;/test/extension/ios/simulatorPlist.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;findPlistFile should correctly find the NSUserDefaults plist file for the simulator&quot;,&quot;fullTitle&quot;:&quot;plistBuddy extensionContext findPlistFile should correctly find the NSUserDefaults plist file for the simulator&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const projectRoot = path.join(\&quot;/\&quot;, \&quot;tmp\&quot;);\n    const iosProjectRoot = path.join(projectRoot, \&quot;myProject\&quot;);\n    const bundleId = \&quot;com.contoso.app\&quot;;\n    const findSimulatorHomeCommand = \&quot;xcrun simctl getenv booted HOME\&quot;;\n    // The emulator&#x27;s home folder is /simulator/home\n    const findSimulatorHomeResult = path.join(\&quot;/\&quot;, \&quot;Users\&quot;, \&quot;theUser\&quot;, \&quot;Library\&quot;, \&quot;Developer\&quot;, \&quot;CoreSimulator\&quot;, \&quot;Devices\&quot;, \&quot;FA511653-BA51-479F-A218-1DBD1910D5E5/data\&quot;);\n    const prefix = path.join(\&quot;Containers\&quot;, \&quot;Data\&quot;, \&quot;Application\&quot;);\n    const suffix = path.join(\&quot;Library\&quot;, \&quot;Preferences\&quot;);\n    // The emulator has 3 apps\n    const appIds = [\n        \&quot;17F3AED1-5B1D-4F97-B419-D1F079D9DE2D\&quot;,\n        \&quot;957660FD-3417-474E-B2AC-8AA0A05AD9A0\&quot;,\n        \&quot;18319C8B-0583-4967-8023-15859A0BF0F3\&quot;,\n    ];\n    // readdir finds appIds\n    const mockReadDir = sinon.stub();\n    mockReadDir\n        .withArgs(path.join(findSimulatorHomeResult, prefix))\n        .returns(Promise.resolve(appIds));\n    mockReadDir.throws();\n    // Only the second app has a plist file with thus bundle name\n    const existingPlistFile = path.join(findSimulatorHomeResult, prefix, \&quot;957660FD-3417-474E-B2AC-8AA0A05AD9A0\&quot;, suffix, `${bundleId}.plist`);\n    // existsSync only finds existingPlistFile to exist\n    const mockExistsSync = sinon.stub();\n    mockExistsSync.withArgs(existingPlistFile).returns(true);\n    mockExistsSync.returns(false);\n    const mockFS = {\n        existsSync: mockExistsSync,\n        readDir: mockReadDir,\n    };\n    // getBundleId returns bundleId\n    const bundleIdStub = sinon.stub();\n    bundleIdStub.withArgs(iosProjectRoot).returns(Promise.resolve(bundleId));\n    bundleIdStub.returns(Promise.reject(\&quot;Incorrect project root\&quot;));\n    const mockPlistBuddy = {\n        getBundleId: bundleIdStub,\n    };\n    // exec-ing the correct command returns the simulator home\n    const execStub = sinon.stub();\n    execStub\n        .withArgs(findSimulatorHomeCommand)\n        .returns(Promise.resolve({ outcome: Promise.resolve(findSimulatorHomeResult) }));\n    execStub.throws();\n    const mockChildProcess = {\n        exec: execStub,\n    };\n    const simulatorPlist = new simulatorPlist_1.SimulatorPlist(iosProjectRoot, projectRoot, undefined, {\n        nodeFileSystem: mockFS,\n        plistBuddy: mockPlistBuddy,\n        nodeChildProcess: mockChildProcess,\n    });\n    const plistFile = yield simulatorPlist.findPlistFile();\n    assert(plistFile === existingPlistFile, \&quot;Returned incorrect value\&quot;);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ebcd0f0b-f3ef-4877-bd72-39d02b34d687&quot;,&quot;parentUUID&quot;:&quot;f3b3c1d4-5f17-417d-9ff0-9efafe8457fa&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;ebcd0f0b-f3ef-4877-bd72-39d02b34d687&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:4,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;82f13205-4ec9-48eb-ab87-42cf8964dc81&quot;,&quot;title&quot;:&quot;LaunchScenarioManager&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/extension/launchScenarioManager.test.js&quot;,&quot;file&quot;:&quot;/test/extension/launchScenarioManager.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;LaunchScenarioManager\&quot;&quot;,&quot;fullTitle&quot;:&quot;LaunchScenarioManager \&quot;before all\&quot; hook in \&quot;LaunchScenarioManager\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;fs.mkdirSync(tmpPath);\nfs.mkdirSync(path.resolve(tmpPath, \&quot;.vscode\&quot;));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4140d726-dbdf-4156-a364-30269110e6c0&quot;,&quot;parentUUID&quot;:&quot;82f13205-4ec9-48eb-ab87-42cf8964dc81&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;LaunchScenarioManager\&quot;&quot;,&quot;fullTitle&quot;:&quot;LaunchScenarioManager \&quot;before each\&quot; hook in \&quot;LaunchScenarioManager\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;fs.writeFileSync(launchPath, JSON.stringify(launchContent, null, 4));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bd81fd47-ae00-46a6-b5cb-df3af52da1c7&quot;,&quot;parentUUID&quot;:&quot;82f13205-4ec9-48eb-ab87-42cf8964dc81&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;LaunchScenarioManager\&quot;&quot;,&quot;fullTitle&quot;:&quot;LaunchScenarioManager \&quot;after all\&quot; hook in \&quot;LaunchScenarioManager\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;fs.unlinkSync(launchPath);\nfs.rmdirSync(path.resolve(tmpPath, \&quot;.vscode\&quot;));\nfs.rmdirSync(tmpPath);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6f0433b8-7f38-4546-b3bf-1c0be8631e32&quot;,&quot;parentUUID&quot;:&quot;82f13205-4ec9-48eb-ab87-42cf8964dc81&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;fff2459b-a8b6-495d-9607-87628c971f38&quot;,&quot;title&quot;:&quot;updateLaunchScenario&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/extension/launchScenarioManager.test.js&quot;,&quot;file&quot;:&quot;/test/extension/launchScenarioManager.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should overwrite existing parameters for proper configuration&quot;,&quot;fullTitle&quot;:&quot;LaunchScenarioManager updateLaunchScenario should overwrite existing parameters for proper configuration&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;autogenerateUpdateAndCheck(2, { env: { env1: \&quot;newValue\&quot; } });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3bce8d15-c681-4d4c-8a43-c7c596a79266&quot;,&quot;parentUUID&quot;:&quot;fff2459b-a8b6-495d-9607-87628c971f38&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should add new parameters to proper configuration&quot;,&quot;fullTitle&quot;:&quot;LaunchScenarioManager updateLaunchScenario should add new parameters to proper configuration&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:4,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;autogenerateUpdateAndCheck(5, { env: { env1: \&quot;newValue1\&quot;, env2: \&quot;newValue2\&quot; } });&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e50ed1ab-873b-4dc8-948f-8b943be100be&quot;,&quot;parentUUID&quot;:&quot;fff2459b-a8b6-495d-9607-87628c971f38&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should nothing happens if launch.json do not contains config&quot;,&quot;fullTitle&quot;:&quot;LaunchScenarioManager updateLaunchScenario should nothing happens if launch.json do not contains config&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const config = {\n    name: \&quot;Debug Android\&quot;,\n    type: \&quot;reactnative\&quot;,\n    request: \&quot;launch\&quot;,\n    platform: \&quot;android\&quot;,\n};\nlet configCopy = Object.assign({}, config);\ntryUpdateAndCheck(Object.assign(configCopy, { name: \&quot;Other name\&quot; }), { param: \&quot;value1\&quot; }, launchContent);\nconfigCopy = Object.assign({}, config);\ntryUpdateAndCheck(Object.assign(configCopy, { type: \&quot;Other type\&quot; }), { param: \&quot;value2\&quot; }, launchContent);\nconfigCopy = Object.assign({}, config);\ntryUpdateAndCheck(Object.assign(configCopy, { request: \&quot;Other request\&quot; }), { param: \&quot;value3\&quot; }, launchContent);\nconfigCopy = Object.assign({}, config);\ntryUpdateAndCheck(Object.assign(configCopy, { platform: \&quot;Other platform\&quot; }), { param: \&quot;value4\&quot; }, launchContent);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f0297202-a1d7-415e-8803-04ba686f3049&quot;,&quot;parentUUID&quot;:&quot;fff2459b-a8b6-495d-9607-87628c971f38&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;3bce8d15-c681-4d4c-8a43-c7c596a79266&quot;,&quot;e50ed1ab-873b-4dc8-948f-8b943be100be&quot;,&quot;f0297202-a1d7-415e-8803-04ba686f3049&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:20,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;d80c2323-e523-47f8-8a21-41ea3752cb76&quot;,&quot;title&quot;:&quot;macOSDebugModeManager&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/extension/macos/macOSDebugModeManager.test.js&quot;,&quot;file&quot;:&quot;/test/extension/macos/macOSDebugModeManager.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;1fc1283e-0e89-4f34-94db-bc7cbf0a3fa4&quot;,&quot;title&quot;:&quot;extensionContext&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/extension/macos/macOSDebugModeManager.test.js&quot;,&quot;file&quot;:&quot;/test/extension/macos/macOSDebugModeManager.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;findPlistFile should correctly find the NSUserDefaults plist file for an app&quot;,&quot;fullTitle&quot;:&quot;macOSDebugModeManager extensionContext findPlistFile should correctly find the NSUserDefaults plist file for an app&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const projectRoot = path.join(\&quot;/\&quot;, \&quot;tmp\&quot;);\n    const macosProjectRoot = path.join(projectRoot, \&quot;myProject\&quot;);\n    const bundleId = \&quot;org.reactjs.native.rn-macos\&quot;;\n    const existingPlistFilePath = path.join(os_1.homedir(), \&quot;Library\&quot;, \&quot;Preferences\&quot;, `${bundleId}.plist`);\n    // \&quot;exists\&quot; only finds existingPlistFile file\n    const mockExists = sinon.stub();\n    mockExists.withArgs(existingPlistFilePath).returns(Promise.resolve(true));\n    mockExists.returns(Promise.resolve(false));\n    const mockFS = {\n        exists: mockExists,\n    };\n    // getBundleId returns bundleId\n    const bundleIdStub = sinon.stub();\n    bundleIdStub.withArgs(macosProjectRoot).returns(Promise.resolve(bundleId));\n    bundleIdStub.returns(Promise.reject(\&quot;Incorrect project root\&quot;));\n    const mockPlistBuddy = {\n        getBundleId: bundleIdStub,\n    };\n    let macOSDebugModeManager = new macOSDebugModeManager_1.MacOSDebugModeManager(macosProjectRoot, projectRoot, undefined, {\n        nodeFileSystem: mockFS,\n        plistBuddy: mockPlistBuddy,\n    });\n    const plistFile = yield macOSDebugModeManager.findPlistFile();\n    assert(plistFile === existingPlistFilePath, \&quot;Returned incorrect value\&quot;);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6db4feed-d01b-4dce-a507-0cebe6816f92&quot;,&quot;parentUUID&quot;:&quot;1fc1283e-0e89-4f34-94db-bc7cbf0a3fa4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;6db4feed-d01b-4dce-a507-0cebe6816f92&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;cf01f95c-3c29-49ba-b1e6-c2ebc0b5dbe2&quot;,&quot;title&quot;:&quot;MobileTargetManager&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/extension/mobileTargetManager.test.js&quot;,&quot;file&quot;:&quot;/test/extension/mobileTargetManager.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;MobileTargetManager\&quot;&quot;,&quot;fullTitle&quot;:&quot;MobileTargetManager \&quot;before all\&quot; hook in \&quot;MobileTargetManager\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;showQuickPickStub = Sinon.stub(vscode_1.window, \&quot;showQuickPick\&quot;, (items) =&gt; __awaiter(this, void 0, void 0, function* () {\n    targetsForSelection = (yield items);\n    return items[0];\n}));\ntargetsForSelection = [];&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;52e26589-8705-41cb-be0a-884e29bc8966&quot;,&quot;parentUUID&quot;:&quot;cf01f95c-3c29-49ba-b1e6-c2ebc0b5dbe2&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;MobileTargetManager\&quot;&quot;,&quot;fullTitle&quot;:&quot;MobileTargetManager \&quot;after all\&quot; hook in \&quot;MobileTargetManager\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;showQuickPickStub.reset();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;10e0e381-9c96-4d91-b262-e6bb19018eff&quot;,&quot;parentUUID&quot;:&quot;cf01f95c-3c29-49ba-b1e6-c2ebc0b5dbe2&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;4cdbec95-f6a9-40b9-9a82-1f5ee8abd45a&quot;,&quot;title&quot;:&quot;IOSTargetManager&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/extension/mobileTargetManager.test.js&quot;,&quot;file&quot;:&quot;/test/extension/mobileTargetManager.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;IOSTargetManager\&quot;&quot;,&quot;fullTitle&quot;:&quot;MobileTargetManager IOSTargetManager \&quot;before all\&quot; hook in \&quot;IOSTargetManager\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;targetManager = new iOSTargetManager_1.IOSTargetManager();\nrevertTargetsStates = () =&gt; {\n    onlineSimulator1 = {\n        name: \&quot;simulatorName1\&quot;,\n        id: \&quot;simulatorId1\&quot;,\n        isVirtualTarget: true,\n        isOnline: true,\n        system: \&quot;1\&quot;,\n    };\n    onlineSimulator2 = {\n        name: \&quot;simulatorName2\&quot;,\n        id: \&quot;simulatorId2\&quot;,\n        isVirtualTarget: true,\n        isOnline: true,\n        system: \&quot;1\&quot;,\n    };\n    offlineSimulator1 = {\n        name: \&quot;simulatorName3\&quot;,\n        id: \&quot;simulatorId3\&quot;,\n        isVirtualTarget: true,\n        isOnline: false,\n        system: \&quot;1\&quot;,\n    };\n    offlineSimulator2 = {\n        name: \&quot;simulatorName4\&quot;,\n        id: \&quot;simulatorId4\&quot;,\n        isVirtualTarget: true,\n        isOnline: false,\n        system: \&quot;1\&quot;,\n    };\n    device1 = {\n        name: \&quot;deviceName1\&quot;,\n        id: \&quot;deviceid1\&quot;,\n        isVirtualTarget: false,\n        isOnline: true,\n        system: \&quot;1\&quot;,\n    };\n    device2 = {\n        name: \&quot;deviceName2\&quot;,\n        id: \&quot;deviceid2\&quot;,\n        isVirtualTarget: false,\n        isOnline: true,\n        system: \&quot;1\&quot;,\n    };\n};\ncollectTargetsStub = Sinon.stub(targetManager, \&quot;collectTargets\&quot;, () =&gt; __awaiter(this, void 0, void 0, function* () {\n    revertTargetsStates();\n    targetManager.targets = [\n        onlineSimulator1,\n        onlineSimulator2,\n        offlineSimulator1,\n        offlineSimulator2,\n        device1,\n        device2,\n    ];\n}));\nlaunchSimulatorStub = Sinon.stub(targetManager, \&quot;launchSimulator\&quot;, (simulator) =&gt; __awaiter(this, void 0, void 0, function* () {\n    simulator.isOnline = true;\n    return iOSTargetManager_1.IOSTarget.fromInterface(simulator);\n}));\ntargetsForSelection = [];&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;70947fd2-abb5-4bfd-879d-31d6a68f3822&quot;,&quot;parentUUID&quot;:&quot;4cdbec95-f6a9-40b9-9a82-1f5ee8abd45a&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;IOSTargetManager\&quot;&quot;,&quot;fullTitle&quot;:&quot;MobileTargetManager IOSTargetManager \&quot;after all\&quot; hook in \&quot;IOSTargetManager\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;launchSimulatorStub.reset();\ncollectTargetsStub.reset();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a863ba81-7977-4120-899c-70ed1be0054a&quot;,&quot;parentUUID&quot;:&quot;4cdbec95-f6a9-40b9-9a82-1f5ee8abd45a&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;0db7e719-d064-4d48-8446-9331d9ef153c&quot;,&quot;title&quot;:&quot;Target selection&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/extension/mobileTargetManager.test.js&quot;,&quot;file&quot;:&quot;/test/extension/mobileTargetManager.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;Target selection\&quot;&quot;,&quot;fullTitle&quot;:&quot;MobileTargetManager IOSTargetManager Target selection \&quot;before each\&quot; hook in \&quot;Target selection\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n                yield targetManager.collectTargets();\n            })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;74ffad73-b618-4d93-9437-ead8613575bb&quot;,&quot;parentUUID&quot;:&quot;0db7e719-d064-4d48-8446-9331d9ef153c&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should show all targets in case filter has not been defined&quot;,&quot;fullTitle&quot;:&quot;MobileTargetManager IOSTargetManager Target selection Should show all targets in case filter has not been defined&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    yield checkTargetSeletionResult(undefined, options =&gt; options.length === 6);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6ed0177a-8130-4c01-ae24-56fa90853f47&quot;,&quot;parentUUID&quot;:&quot;0db7e719-d064-4d48-8446-9331d9ef153c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should show targets by filter&quot;,&quot;fullTitle&quot;:&quot;MobileTargetManager IOSTargetManager Target selection Should show targets by filter&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const onlineTargetsFilter = (target) =&gt; target.isOnline;\n    yield checkTargetSeletionResult(onlineTargetsFilter, options =&gt; options.length === 4);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e41b5a2d-47d7-485c-a679-34eff6819738&quot;,&quot;parentUUID&quot;:&quot;0db7e719-d064-4d48-8446-9331d9ef153c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should auto select option in case there is only one target&quot;,&quot;fullTitle&quot;:&quot;MobileTargetManager IOSTargetManager Target selection Should auto select option in case there is only one target&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const showQuickPickCallCount = showQuickPickStub.callCount;\n    const specificNameTargetFilter = (target) =&gt; target.name === onlineSimulator1.name;\n    yield checkTargetSeletionResult(specificNameTargetFilter, undefined, (target) =&gt; target.id === onlineSimulator1.id);\n    assert.strictEqual(showQuickPickStub.callCount - showQuickPickCallCount, 0, \&quot;There is only one target, but quick pick was shown\&quot;);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;a2758778-6839-4166-b373-623b54176ca2&quot;,&quot;parentUUID&quot;:&quot;0db7e719-d064-4d48-8446-9331d9ef153c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should launch the selected simulator in case it&#x27;s offline&quot;,&quot;fullTitle&quot;:&quot;MobileTargetManager IOSTargetManager Target selection Should launch the selected simulator in case it&#x27;s offline&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const specificNameTargetFilter = (target) =&gt; target.name === offlineSimulator1.name;\n    yield checkTargetSeletionResult(specificNameTargetFilter, undefined, (target) =&gt; target.isOnline &amp;&amp; !!target.id &amp;&amp; target.name === offlineSimulator1.name);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;699411ec-c13a-4aaa-9e84-de6920eaa9b2&quot;,&quot;parentUUID&quot;:&quot;0db7e719-d064-4d48-8446-9331d9ef153c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should select target after system selection&quot;,&quot;fullTitle&quot;:&quot;MobileTargetManager IOSTargetManager Target selection Should select target after system selection&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n                onlineSimulator2.system = \&quot;2\&quot;;\n                offlineSimulator2.system = \&quot;2\&quot;;\n                device1.system = \&quot;2\&quot;;\n                const showQuickPickCallCount = showQuickPickStub.callCount;\n                yield checkTargetSeletionResult(undefined, options =&gt; options.length === 3);\n                assert.strictEqual(showQuickPickStub.callCount - showQuickPickCallCount, 2, \&quot;Incorrect number of selection steps\&quot;);\n            })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;bcba0ec5-a074-4b5d-9123-8f0e4f7007f0&quot;,&quot;parentUUID&quot;:&quot;0db7e719-d064-4d48-8446-9331d9ef153c&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;6ed0177a-8130-4c01-ae24-56fa90853f47&quot;,&quot;e41b5a2d-47d7-485c-a679-34eff6819738&quot;,&quot;a2758778-6839-4166-b373-623b54176ca2&quot;,&quot;699411ec-c13a-4aaa-9e84-de6920eaa9b2&quot;,&quot;bcba0ec5-a074-4b5d-9123-8f0e4f7007f0&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:5,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;1b7b826a-628a-40ae-a3f3-f10e38cf35b8&quot;,&quot;title&quot;:&quot;Target identification&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/extension/mobileTargetManager.test.js&quot;,&quot;file&quot;:&quot;/test/extension/mobileTargetManager.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should properly recognize virtual target type&quot;,&quot;fullTitle&quot;:&quot;MobileTargetManager IOSTargetManager Target identification Should properly recognize virtual target type&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    yield checkTargetType(() =&gt; __awaiter(this, void 0, void 0, function* () {\n        return assert.strictEqual(yield targetManager.isVirtualTarget(generalPlatform_1.TargetType.Simulator), true, \&quot;Could not recognize any simulator\&quot;);\n    }), () =&gt; assert.fail(\&quot;Could not recognize any simulator\&quot;));\n    yield checkTargetType(() =&gt; __awaiter(this, void 0, void 0, function* () {\n        return assert.strictEqual(yield targetManager.isVirtualTarget(onlineSimulator1.id), true, `Could not recognize simulator id: ${onlineSimulator1.id}`);\n    }), () =&gt; assert.fail(`Could not recognize simulator id: ${onlineSimulator1.id}`));\n    yield checkTargetType(() =&gt; __awaiter(this, void 0, void 0, function* () {\n        return assert.strictEqual(yield targetManager.isVirtualTarget(\&quot;simulatorId11\&quot;), false, \&quot;Misrecognized simulator id: simulatorId11\&quot;);\n    }));\n    yield checkTargetType(() =&gt; __awaiter(this, void 0, void 0, function* () {\n        return assert.strictEqual(yield targetManager.isVirtualTarget(onlineSimulator2.name), true, `Could not recognize simulator name: ${onlineSimulator2.name}`);\n    }), () =&gt; assert.fail(`Could not recognize simulator name: ${onlineSimulator2.name}`));\n    yield checkTargetType(() =&gt; __awaiter(this, void 0, void 0, function* () {\n        return assert.strictEqual(yield targetManager.isVirtualTarget(\&quot;simulatorName22\&quot;), false, \&quot;Misrecognized simulator name: simulatorName22\&quot;);\n    }));\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4449e7f3-d27d-4cdc-ba09-d37839d6351d&quot;,&quot;parentUUID&quot;:&quot;1b7b826a-628a-40ae-a3f3-f10e38cf35b8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should properly recognize device target&quot;,&quot;fullTitle&quot;:&quot;MobileTargetManager IOSTargetManager Target identification Should properly recognize device target&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    yield checkTargetType(() =&gt; __awaiter(this, void 0, void 0, function* () {\n        return assert.strictEqual(yield targetManager.isVirtualTarget(generalPlatform_1.TargetType.Device), false, \&quot;Could not recognize any device\&quot;);\n    }), () =&gt; assert.fail(\&quot;Could not recognize any device\&quot;));\n    yield checkTargetType(() =&gt; __awaiter(this, void 0, void 0, function* () {\n        return assert.strictEqual(yield targetManager.isVirtualTarget(device1.id), false, `Could not recognize device id: ${device1.id}`);\n    }), () =&gt; assert.fail(`Could not recognize device id: ${device1.id}`));\n    yield checkTargetType(() =&gt; __awaiter(this, void 0, void 0, function* () {\n        return assert.strictEqual(yield targetManager.isVirtualTarget(\&quot;deviceid111\&quot;), false, \&quot;Misrecognized device id: deviceid111\&quot;);\n    }));\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ba7db4b3-294b-4589-a28f-06fa653b55a5&quot;,&quot;parentUUID&quot;:&quot;1b7b826a-628a-40ae-a3f3-f10e38cf35b8&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;4449e7f3-d27d-4cdc-ba09-d37839d6351d&quot;,&quot;ba7db4b3-294b-4589-a28f-06fa653b55a5&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;7e263248-b332-4522-b157-7ab63fcc9550&quot;,&quot;title&quot;:&quot;AndroidTargetManager&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/extension/mobileTargetManager.test.js&quot;,&quot;file&quot;:&quot;/test/extension/mobileTargetManager.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;AndroidTargetManager\&quot;&quot;,&quot;fullTitle&quot;:&quot;MobileTargetManager AndroidTargetManager \&quot;before all\&quot; hook in \&quot;AndroidTargetManager\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;revertTargetsStates = () =&gt; {\n    onlineSimulator1 = {\n        name: \&quot;emulatorName1\&quot;,\n        id: \&quot;emulator-5551\&quot;,\n        isVirtualTarget: true,\n        isOnline: true,\n    };\n    onlineSimulator2 = {\n        name: \&quot;emulatorName2\&quot;,\n        id: \&quot;emulator-5552\&quot;,\n        isVirtualTarget: true,\n        isOnline: true,\n    };\n    offlineSimulator1 = {\n        name: \&quot;emulatorName3\&quot;,\n        id: undefined,\n        isVirtualTarget: true,\n        isOnline: false,\n    }; //id: emulator-5553\n    offlineSimulator2 = {\n        name: \&quot;emulatorName4\&quot;,\n        id: undefined,\n        isVirtualTarget: true,\n        isOnline: false,\n    }; //id: emulator-5554\n    device1 = { id: \&quot;deviceid1\&quot;, isVirtualTarget: false, isOnline: true };\n    device2 = { id: \&quot;deviceid2\&quot;, isVirtualTarget: false, isOnline: true };\n};\ndefaultSetup();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;944ff41f-bf86-4eec-ac7b-5247f51194cc&quot;,&quot;parentUUID&quot;:&quot;7e263248-b332-4522-b157-7ab63fcc9550&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;AndroidTargetManager\&quot;&quot;,&quot;fullTitle&quot;:&quot;MobileTargetManager AndroidTargetManager \&quot;after all\&quot; hook in \&quot;AndroidTargetManager\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;getAvdsNamesStub.reset();\ngetOnlineTargetsStub.reset();\ngetAvdNameById.reset();\nlaunchSimulatorStub.reset();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ec713f70-5723-46b1-93b0-7d1caae7d308&quot;,&quot;parentUUID&quot;:&quot;7e263248-b332-4522-b157-7ab63fcc9550&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;26bb4e7e-12fb-47ce-a7b1-7e1f5836aee9&quot;,&quot;title&quot;:&quot;Target selection&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/extension/mobileTargetManager.test.js&quot;,&quot;file&quot;:&quot;/test/extension/mobileTargetManager.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;Target selection\&quot;&quot;,&quot;fullTitle&quot;:&quot;MobileTargetManager AndroidTargetManager Target selection \&quot;before each\&quot; hook in \&quot;Target selection\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n                revertTargetsStates();\n                yield targetManager.collectTargets();\n                targetsForSelection = [];\n            })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c1e6930f-0cec-4911-acee-880e2b4d7980&quot;,&quot;parentUUID&quot;:&quot;26bb4e7e-12fb-47ce-a7b1-7e1f5836aee9&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should show all targets in case filter has not been defined&quot;,&quot;fullTitle&quot;:&quot;MobileTargetManager AndroidTargetManager Target selection Should show all targets in case filter has not been defined&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    yield checkTargetSeletionResult(undefined, options =&gt; options.length === 6);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;38c43e1a-6f87-48e5-8d94-d8f3f0d2ef7a&quot;,&quot;parentUUID&quot;:&quot;26bb4e7e-12fb-47ce-a7b1-7e1f5836aee9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should show targets by filter&quot;,&quot;fullTitle&quot;:&quot;MobileTargetManager AndroidTargetManager Target selection Should show targets by filter&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const onlineTargetsFilter = (target) =&gt; target.isOnline;\n    yield checkTargetSeletionResult(onlineTargetsFilter, options =&gt; options.length === 4);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1458f58e-c49d-4ff2-99fa-5d609e3e3058&quot;,&quot;parentUUID&quot;:&quot;26bb4e7e-12fb-47ce-a7b1-7e1f5836aee9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should auto select option in case there is only one target&quot;,&quot;fullTitle&quot;:&quot;MobileTargetManager AndroidTargetManager Target selection Should auto select option in case there is only one target&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const showQuickPickCallCount = showQuickPickStub.callCount;\n    const specificNameTargetFilter = (target) =&gt; target.name === onlineSimulator1.name;\n    yield checkTargetSeletionResult(specificNameTargetFilter, undefined, (target) =&gt; target.id === onlineSimulator1.id);\n    assert.strictEqual(showQuickPickStub.callCount - showQuickPickCallCount, 0, \&quot;There is only one target, but quick pick was shown\&quot;);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ec2a07ed-e63b-46ac-842b-295efedec369&quot;,&quot;parentUUID&quot;:&quot;26bb4e7e-12fb-47ce-a7b1-7e1f5836aee9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should launch the selected simulator in case it&#x27;s offline&quot;,&quot;fullTitle&quot;:&quot;MobileTargetManager AndroidTargetManager Target selection Should launch the selected simulator in case it&#x27;s offline&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    const specificNameTargetFilter = (target) =&gt; target.name === offlineSimulator1.name;\n    yield checkTargetSeletionResult(specificNameTargetFilter, undefined, (target) =&gt; target.isOnline &amp;&amp; !!target.id &amp;&amp; target.name === offlineSimulator1.name);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b8b06a93-ee1f-46e1-9d69-fb077b79b28e&quot;,&quot;parentUUID&quot;:&quot;26bb4e7e-12fb-47ce-a7b1-7e1f5836aee9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;38c43e1a-6f87-48e5-8d94-d8f3f0d2ef7a&quot;,&quot;1458f58e-c49d-4ff2-99fa-5d609e3e3058&quot;,&quot;ec2a07ed-e63b-46ac-842b-295efedec369&quot;,&quot;b8b06a93-ee1f-46e1-9d69-fb077b79b28e&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:2,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;c1a89d74-d5b7-4b6b-b0d9-248b377335ad&quot;,&quot;title&quot;:&quot;Collect targets in case there is no &#x27;emulator&#x27; utility in the PATH&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/extension/mobileTargetManager.test.js&quot;,&quot;file&quot;:&quot;/test/extension/mobileTargetManager.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;Collect targets in case there is no &#x27;emulator&#x27; utility in the PATH\&quot;&quot;,&quot;fullTitle&quot;:&quot;MobileTargetManager AndroidTargetManager Collect targets in case there is no &#x27;emulator&#x27; utility in the PATH \&quot;before all\&quot; hook in \&quot;Collect targets in case there is no &#x27;emulator&#x27; utility in the PATH\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;setupWithEmulatorCommands();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f5f2f533-7258-4e05-8f52-0617ef512fc0&quot;,&quot;parentUUID&quot;:&quot;c1a89d74-d5b7-4b6b-b0d9-248b377335ad&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;Collect targets in case there is no &#x27;emulator&#x27; utility in the PATH\&quot;&quot;,&quot;fullTitle&quot;:&quot;MobileTargetManager AndroidTargetManager Collect targets in case there is no &#x27;emulator&#x27; utility in the PATH \&quot;after all\&quot; hook in \&quot;Collect targets in case there is no &#x27;emulator&#x27; utility in the PATH\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;defaultSetup();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c0835003-635f-4784-b6f6-695ce6f9f685&quot;,&quot;parentUUID&quot;:&quot;c1a89d74-d5b7-4b6b-b0d9-248b377335ad&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should not throw an error and collect only online targets in case the passed target type is undefined&quot;,&quot;fullTitle&quot;:&quot;MobileTargetManager AndroidTargetManager Collect targets in case there is no &#x27;emulator&#x27; utility in the PATH Should not throw an error and collect only online targets in case the passed target type is undefined&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:58,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    yield executeWithoutEmulator(() =&gt; __awaiter(this, void 0, void 0, function* () {\n        try {\n            yield targetManager.collectTargets();\n            assert.strictEqual((yield targetManager.getTargetList()).find(target =&gt; !target.isOnline), undefined, \&quot;Should collect only online targets\&quot;);\n        }\n        catch (error) {\n            assert.fail(`Error has been thrown: ${error}`);\n        }\n    }));\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;95586b39-14fa-46c3-818a-c18e81538bde&quot;,&quot;parentUUID&quot;:&quot;c1a89d74-d5b7-4b6b-b0d9-248b377335ad&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should not throw an error in case the passed target type equals &#x27;device&#x27;&quot;,&quot;fullTitle&quot;:&quot;MobileTargetManager AndroidTargetManager Collect targets in case there is no &#x27;emulator&#x27; utility in the PATH Should not throw an error in case the passed target type equals &#x27;device&#x27;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    yield executeWithoutEmulator(() =&gt; __awaiter(this, void 0, void 0, function* () {\n        try {\n            yield targetManager.collectTargets(generalPlatform_1.TargetType.Device);\n            assert.strictEqual((yield targetManager.getTargetList()).find(target =&gt; target.isVirtualTarget), undefined, \&quot;Should collect only devices\&quot;);\n        }\n        catch (error) {\n            assert.fail(`Error has been thrown: ${error}`);\n        }\n    }));\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e723d0ce-e5d0-4c53-ae07-e5a5743f82e1&quot;,&quot;parentUUID&quot;:&quot;c1a89d74-d5b7-4b6b-b0d9-248b377335ad&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should throw an error in case the passed target type equals &#x27;simulator&#x27;&quot;,&quot;fullTitle&quot;:&quot;MobileTargetManager AndroidTargetManager Collect targets in case there is no &#x27;emulator&#x27; utility in the PATH Should throw an error in case the passed target type equals &#x27;simulator&#x27;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:28,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    yield executeWithoutEmulator(() =&gt; __awaiter(this, void 0, void 0, function* () {\n        try {\n            yield targetManager.collectTargets(generalPlatform_1.TargetType.Simulator);\n            assert.fail(`Did not throw error.`);\n        }\n        catch (error) {\n            if (error instanceof internalError_1.InternalError) {\n                assert.strictEqual(error.errorCode, internalErrorCode_1.InternalErrorCode.CommandFailed);\n            }\n            else {\n                throw error;\n            }\n        }\n    }));\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0e08d019-1050-49bd-9eb8-e4b441c816f8&quot;,&quot;parentUUID&quot;:&quot;c1a89d74-d5b7-4b6b-b0d9-248b377335ad&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;95586b39-14fa-46c3-818a-c18e81538bde&quot;,&quot;e723d0ce-e5d0-4c53-ae07-e5a5743f82e1&quot;,&quot;0e08d019-1050-49bd-9eb8-e4b441c816f8&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:87,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;4c4bb1bb-3548-4113-900a-f4c56a9f0e3a&quot;,&quot;title&quot;:&quot;Target identification&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/extension/mobileTargetManager.test.js&quot;,&quot;file&quot;:&quot;/test/extension/mobileTargetManager.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should properly recognize virtual target type&quot;,&quot;fullTitle&quot;:&quot;MobileTargetManager AndroidTargetManager Target identification Should properly recognize virtual target type&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    yield checkTargetType(() =&gt; __awaiter(this, void 0, void 0, function* () {\n        return assert.strictEqual(yield targetManager.isVirtualTarget(generalPlatform_1.TargetType.Simulator), true, \&quot;Could not recognize any simulator\&quot;);\n    }), () =&gt; assert.fail(\&quot;Could not recognize any simulator\&quot;));\n    yield checkTargetType(() =&gt; __awaiter(this, void 0, void 0, function* () {\n        return assert.strictEqual(yield targetManager.isVirtualTarget(onlineSimulator1.id), true, `Could not recognize simulator id: ${onlineSimulator1.id}`);\n    }), () =&gt; assert.fail(`Could not recognize simulator id: ${onlineSimulator1.id}`));\n    yield checkTargetType(() =&gt; __awaiter(this, void 0, void 0, function* () {\n        return assert.strictEqual(yield targetManager.isVirtualTarget(\&quot;simulatorId11\&quot;), false, \&quot;Misrecognized simulator id: simulatorId11\&quot;);\n    }));\n    yield checkTargetType(() =&gt; __awaiter(this, void 0, void 0, function* () {\n        return assert.strictEqual(yield targetManager.isVirtualTarget(onlineSimulator2.name), true, `Could not recognize simulator name: ${onlineSimulator2.name}`);\n    }), () =&gt; assert.fail(`Could not recognize simulator name: ${onlineSimulator2.name}`));\n    yield checkTargetType(() =&gt; __awaiter(this, void 0, void 0, function* () {\n        return assert.strictEqual(yield targetManager.isVirtualTarget(\&quot;simulatorName22\&quot;), false, \&quot;Misrecognized simulator name: simulatorName22\&quot;);\n    }));\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4bd58c90-827e-417f-9a14-5e4a19498177&quot;,&quot;parentUUID&quot;:&quot;4c4bb1bb-3548-4113-900a-f4c56a9f0e3a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should properly recognize device target&quot;,&quot;fullTitle&quot;:&quot;MobileTargetManager AndroidTargetManager Target identification Should properly recognize device target&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    yield checkTargetType(() =&gt; __awaiter(this, void 0, void 0, function* () {\n        return assert.strictEqual(yield targetManager.isVirtualTarget(generalPlatform_1.TargetType.Device), false, \&quot;Could not recognize any device\&quot;);\n    }), () =&gt; assert.fail(\&quot;Could not recognize any device\&quot;));\n    yield checkTargetType(() =&gt; __awaiter(this, void 0, void 0, function* () {\n        return assert.strictEqual(yield targetManager.isVirtualTarget(device1.id), false, `Could not recognize device id: ${device1.id}`);\n    }), () =&gt; assert.fail(`Could not recognize device id: ${device1.id}`));\n    yield checkTargetType(() =&gt; __awaiter(this, void 0, void 0, function* () {\n        return assert.strictEqual(yield targetManager.isVirtualTarget(\&quot;deviceid111\&quot;), false, \&quot;Misrecognized device id: deviceid111\&quot;);\n    }));\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;8157bb25-a6aa-4518-a4f4-60046316e0e3&quot;,&quot;parentUUID&quot;:&quot;4c4bb1bb-3548-4113-900a-f4c56a9f0e3a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;4bd58c90-827e-417f-9a14-5e4a19498177&quot;,&quot;8157bb25-a6aa-4518-a4f4-60046316e0e3&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:4,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;e4049d1a-70dc-4817-9d74-d43c8e88afb9&quot;,&quot;title&quot;:&quot;Target identification in case there is no &#x27;emulator&#x27; utility in the PATH&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/extension/mobileTargetManager.test.js&quot;,&quot;file&quot;:&quot;/test/extension/mobileTargetManager.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;Target identification in case there is no &#x27;emulator&#x27; utility in the PATH\&quot;&quot;,&quot;fullTitle&quot;:&quot;MobileTargetManager AndroidTargetManager Target identification in case there is no &#x27;emulator&#x27; utility in the PATH \&quot;before all\&quot; hook in \&quot;Target identification in case there is no &#x27;emulator&#x27; utility in the PATH\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;setupWithEmulatorCommands();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;649e190a-e1db-4577-bb72-23c453ae0792&quot;,&quot;parentUUID&quot;:&quot;e4049d1a-70dc-4817-9d74-d43c8e88afb9&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;Target identification in case there is no &#x27;emulator&#x27; utility in the PATH\&quot;&quot;,&quot;fullTitle&quot;:&quot;MobileTargetManager AndroidTargetManager Target identification in case there is no &#x27;emulator&#x27; utility in the PATH \&quot;after all\&quot; hook in \&quot;Target identification in case there is no &#x27;emulator&#x27; utility in the PATH\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;defaultSetup();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5f236450-81e6-442a-9868-28bf07e4e55d&quot;,&quot;parentUUID&quot;:&quot;e4049d1a-70dc-4817-9d74-d43c8e88afb9&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should not throw an error for the target equals simulator&quot;,&quot;fullTitle&quot;:&quot;MobileTargetManager AndroidTargetManager Target identification in case there is no &#x27;emulator&#x27; utility in the PATH Should not throw an error for the target equals simulator&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    yield executeWithoutEmulator(() =&gt; __awaiter(this, void 0, void 0, function* () {\n        yield checkTargetType(() =&gt; __awaiter(this, void 0, void 0, function* () {\n            return assert.strictEqual(yield targetManager.isVirtualTarget(generalPlatform_1.TargetType.Simulator), true, \&quot;Could not recognize any simulator\&quot;);\n        }), err =&gt; assert.fail(`Error has been thrown: ${err}`));\n    }));\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;12bac455-73a8-4c38-b43d-ffbd97cf4b9f&quot;,&quot;parentUUID&quot;:&quot;e4049d1a-70dc-4817-9d74-d43c8e88afb9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should not throw an error for the target equals online emulator id&quot;,&quot;fullTitle&quot;:&quot;MobileTargetManager AndroidTargetManager Target identification in case there is no &#x27;emulator&#x27; utility in the PATH Should not throw an error for the target equals online emulator id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    yield executeWithoutEmulator(() =&gt; __awaiter(this, void 0, void 0, function* () {\n        yield checkTargetType(() =&gt; __awaiter(this, void 0, void 0, function* () {\n            return assert.strictEqual(yield targetManager.isVirtualTarget(onlineSimulator1.id), true, \&quot;Could not recognize simulator id\&quot;);\n        }), err =&gt; assert.fail(`Error has been thrown: ${err}`));\n    }));\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;f8ed6e39-642c-494a-b0d2-bea08acd9b6a&quot;,&quot;parentUUID&quot;:&quot;e4049d1a-70dc-4817-9d74-d43c8e88afb9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should not throw an error for the target equals device&quot;,&quot;fullTitle&quot;:&quot;MobileTargetManager AndroidTargetManager Target identification in case there is no &#x27;emulator&#x27; utility in the PATH Should not throw an error for the target equals device&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    yield executeWithoutEmulator(() =&gt; __awaiter(this, void 0, void 0, function* () {\n        yield checkTargetType(() =&gt; __awaiter(this, void 0, void 0, function* () {\n            return assert.strictEqual(yield targetManager.isVirtualTarget(generalPlatform_1.TargetType.Device), false, \&quot;Could not recognize any device\&quot;);\n        }), err =&gt; assert.fail(`Error has been thrown: ${err}`));\n    }));\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;41817af1-6394-41ba-bcbb-8cd2f619822a&quot;,&quot;parentUUID&quot;:&quot;e4049d1a-70dc-4817-9d74-d43c8e88afb9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should not throw an error for the target equals device id&quot;,&quot;fullTitle&quot;:&quot;MobileTargetManager AndroidTargetManager Target identification in case there is no &#x27;emulator&#x27; utility in the PATH Should not throw an error for the target equals device id&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:2,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    yield executeWithoutEmulator(() =&gt; __awaiter(this, void 0, void 0, function* () {\n        yield checkTargetType(() =&gt; __awaiter(this, void 0, void 0, function* () {\n            return assert.strictEqual(yield targetManager.isVirtualTarget(device1.id), false, \&quot;Could not recognize device id\&quot;);\n        }), err =&gt; assert.fail(`Error has been thrown: ${err}`));\n    }));\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2a07681c-f216-46fd-b430-e7d5ffb0b7a5&quot;,&quot;parentUUID&quot;:&quot;e4049d1a-70dc-4817-9d74-d43c8e88afb9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;Should throw an error for the target equals emulator AVD name&quot;,&quot;fullTitle&quot;:&quot;MobileTargetManager AndroidTargetManager Target identification in case there is no &#x27;emulator&#x27; utility in the PATH Should throw an error for the target equals emulator AVD name&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:25,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    yield executeWithoutEmulator(() =&gt; __awaiter(this, void 0, void 0, function* () {\n        yield checkTargetType(() =&gt; __awaiter(this, void 0, void 0, function* () {\n            const isVirtualTarget = yield targetManager.isVirtualTarget(offlineSimulator1.name);\n            assert.fail(`Did not throw error and return ${isVirtualTarget}`);\n        }), (err) =&gt; {\n            if (err instanceof internalError_1.NestedError) {\n                assert.strictEqual(err.innerError.errorCode, internalErrorCode_1.InternalErrorCode.CommandFailed);\n            }\n            else {\n                throw err;\n            }\n        });\n    }));\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4f6a558b-13cd-4196-902e-5ae52c9a5716&quot;,&quot;parentUUID&quot;:&quot;e4049d1a-70dc-4817-9d74-d43c8e88afb9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;12bac455-73a8-4c38-b43d-ffbd97cf4b9f&quot;,&quot;f8ed6e39-642c-494a-b0d2-bea08acd9b6a&quot;,&quot;41817af1-6394-41ba-bcbb-8cd2f619822a&quot;,&quot;2a07681c-f216-46fd-b430-e7d5ffb0b7a5&quot;,&quot;4f6a558b-13cd-4196-902e-5ae52c9a5716&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:29,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;fe2ed1cd-7df4-4908-8b2c-9a8c7f4e9016&quot;,&quot;title&quot;:&quot;inspectorConsoleView&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/extension/networkInspector/inspectorConsoleView.test.js&quot;,&quot;file&quot;:&quot;/test/extension/networkInspector/inspectorConsoleView.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;70b0b10a-36c3-42c6-8a1c-233863457d89&quot;,&quot;title&quot;:&quot;createNetworkRequestData&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/extension/networkInspector/inspectorConsoleView.test.js&quot;,&quot;file&quot;:&quot;/test/extension/networkInspector/inspectorConsoleView.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return network request data with text response body&quot;,&quot;fullTitle&quot;:&quot;inspectorConsoleView createNetworkRequestData should return network request data with text response body&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:7,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const request = {\n    headers: [\n        { key: \&quot;Accept-Encoding\&quot;, value: \&quot;gzip\&quot; },\n        { key: \&quot;Connection\&quot;, value: \&quot;Keep-Alive\&quot; },\n    ],\n    id: \&quot;6826df34-173d-4351-a7e5-d435328f2e54\&quot;,\n    method: \&quot;GET\&quot;,\n    timestamp: 1617959200269,\n    url: \&quot;https://test.org\&quot;,\n};\nconst response = {\n    headers: [\n        { key: \&quot;Content-Encoding\&quot;, value: \&quot;gzip\&quot; },\n        { key: \&quot;x-frame-options\&quot;, value: \&quot;deny\&quot; },\n    ],\n    data: \&quot;H4sIAAAAAAAA/ytJLS5RKEmtKDHkKoExjQB0Qz3xFQAAAA==\&quot;,\n    id: \&quot;6826df34-173d-4351-a7e5-d435328f2e54\&quot;,\n    index: 0,\n    isMock: false,\n    status: 200,\n    timestamp: 1617959201269,\n    totalChunks: 1,\n    reason: \&quot;\&quot;,\n};\nconst url = new url_1.URL(request.url);\nconst networkRequestDataReference = {\n    title: `%cNetwork request: ${request.method} ${url ? url.host + url.pathname : \&quot;&lt;unknown&gt;\&quot;}`,\n    networkRequestData: {\n        URL: request.url,\n        Method: request.method,\n        Status: response.status,\n        Duration: \&quot;1000ms\&quot;,\n        \&quot;Request Headers\&quot;: {\n            \&quot;Accept-Encoding\&quot;: \&quot;gzip\&quot;,\n            Connection: \&quot;Keep-Alive\&quot;,\n        },\n        \&quot;Response Headers\&quot;: {\n            \&quot;Content-Encoding\&quot;: \&quot;gzip\&quot;,\n            \&quot;x-frame-options\&quot;: \&quot;deny\&quot;,\n        },\n        \&quot;Request Body\&quot;: \&quot;\&quot;,\n        \&quot;Response Body\&quot;: \&quot;test text1\\ntest text2\&quot;,\n    },\n};\nconst networkRequestData = inspectorConsoleView.createNetworkRequestData(request, response);\nassert.deepStrictEqual(networkRequestData, networkRequestDataReference);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2f1737c7-c78e-4ccc-9aa1-d22a4c84c6a4&quot;,&quot;parentUUID&quot;:&quot;70b0b10a-36c3-42c6-8a1c-233863457d89&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should return network request data with JSON response body&quot;,&quot;fullTitle&quot;:&quot;inspectorConsoleView createNetworkRequestData should return network request data with JSON response body&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const request = {\n    headers: [\n        { key: \&quot;Accept-Encoding\&quot;, value: \&quot;gzip\&quot; },\n        { key: \&quot;Connection\&quot;, value: \&quot;Keep-Alive\&quot; },\n        { key: \&quot;Content-Type\&quot;, value: \&quot;application/json;charset=utf-8\&quot; },\n    ],\n    data: \&quot;eyJ0ZXN0U3RyIjoidGVzdCIsInRlc3RPYmoiOnsidGVzdE51bSI6MTMyNCwidGVzdFN0cjEiOiJ0\\nZXN0MSJ9fQ==\\n\&quot;,\n    id: \&quot;6826df34-173d-4351-a7e5-d435328f2e54\&quot;,\n    method: \&quot;POST\&quot;,\n    timestamp: 1617959200269,\n    url: \&quot;https://test.org\&quot;,\n};\nconst response = {\n    headers: [\n        { key: \&quot;server\&quot;, value: \&quot;nginx\&quot; },\n        { key: \&quot;x-frame-options\&quot;, value: \&quot;deny\&quot; },\n        { key: \&quot;content-type\&quot;, value: \&quot;application/json; charset=utf-8\&quot; },\n    ],\n    data: \&quot;eyJzdWNjZXNzIjp0cnVlfQ==\\n\&quot;,\n    id: \&quot;6826df34-173d-4351-a7e5-d435328f2e54\&quot;,\n    index: 0,\n    isMock: false,\n    status: 200,\n    timestamp: 1617959201269,\n    totalChunks: 1,\n    reason: \&quot;\&quot;,\n};\nconst url = new url_1.URL(request.url);\nconst networkRequestDataReference = {\n    title: `%cNetwork request: ${request.method} ${url ? url.host + url.pathname : \&quot;&lt;unknown&gt;\&quot;}`,\n    networkRequestData: {\n        URL: request.url,\n        Method: request.method,\n        Status: response.status,\n        Duration: \&quot;1000ms\&quot;,\n        \&quot;Request Headers\&quot;: {\n            \&quot;Accept-Encoding\&quot;: \&quot;gzip\&quot;,\n            Connection: \&quot;Keep-Alive\&quot;,\n            \&quot;Content-Type\&quot;: \&quot;application/json;charset=utf-8\&quot;,\n        },\n        \&quot;Response Headers\&quot;: {\n            server: \&quot;nginx\&quot;,\n            \&quot;x-frame-options\&quot;: \&quot;deny\&quot;,\n            \&quot;content-type\&quot;: \&quot;application/json; charset=utf-8\&quot;,\n        },\n        \&quot;Request Body\&quot;: {\n            testStr: \&quot;test\&quot;,\n            testObj: { testNum: 1324, testStr1: \&quot;test1\&quot; },\n        },\n        \&quot;Response Body\&quot;: { success: true },\n    },\n};\nconst networkRequestData = inspectorConsoleView.createNetworkRequestData(request, response);\nassert.deepStrictEqual(networkRequestData, networkRequestDataReference);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d517b6c1-48a0-466e-b4f6-d215f5283852&quot;,&quot;parentUUID&quot;:&quot;70b0b10a-36c3-42c6-8a1c-233863457d89&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should correctly process a graphQL request&quot;,&quot;fullTitle&quot;:&quot;inspectorConsoleView createNetworkRequestData should correctly process a graphQL request&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const request = {\n    headers: [\n        { key: \&quot;Accept-Encoding\&quot;, value: \&quot;gzip\&quot; },\n        { key: \&quot;Connection\&quot;, value: \&quot;Keep-Alive\&quot; },\n        { key: \&quot;Content-Type\&quot;, value: \&quot;application/json;charset=utf-8\&quot; },\n    ],\n    data: \&quot;eyJxdWVyeSI6Ilxue1xucmF0ZXMoY3VycmVuY3k6IFwiVVNEXCIpIHtcbmN1cnJlbmN5XG5yYXRlXG59XG59XG4ifQ==\&quot;,\n    id: \&quot;6826df34-173d-4351-a7e5-d435328f2e54\&quot;,\n    method: \&quot;POST\&quot;,\n    timestamp: 1617959200269,\n    url: \&quot;https://test.org\&quot;,\n};\nconst response = {\n    headers: [\n        { key: \&quot;content-encoding\&quot;, value: \&quot;gzip\&quot; },\n        { key: \&quot;server\&quot;, value: \&quot;cloudflare\&quot; },\n        { key: \&quot;content-type\&quot;, value: \&quot;application/json;charset=utf-8\&quot; },\n    ],\n    data: \&quot;H4sIAAAAAAAA/6tWSkksSVSyqlYqSixJLVayiq5WSi4tKkrNS65UslJydHVR0gFLATnGembmxkq1sbW1AO2x5pE2AAAA\\n\&quot;,\n    id: \&quot;6826df34-173d-4351-a7e5-d435328f2e54\&quot;,\n    index: 0,\n    isMock: false,\n    status: 200,\n    timestamp: 1617959201269,\n    totalChunks: 1,\n    reason: \&quot;\&quot;,\n};\nconst url = new url_1.URL(request.url);\nconst networkRequestDataReference = {\n    title: `%cNetwork request: ${request.method} ${url ? url.host + url.pathname : \&quot;&lt;unknown&gt;\&quot;}`,\n    networkRequestData: {\n        URL: request.url,\n        Method: request.method,\n        Status: response.status,\n        Duration: \&quot;1000ms\&quot;,\n        \&quot;Request Headers\&quot;: {\n            \&quot;Accept-Encoding\&quot;: \&quot;gzip\&quot;,\n            Connection: \&quot;Keep-Alive\&quot;,\n            \&quot;Content-Type\&quot;: \&quot;application/json;charset=utf-8\&quot;,\n        },\n        \&quot;Response Headers\&quot;: {\n            server: \&quot;cloudflare\&quot;,\n            \&quot;content-encoding\&quot;: \&quot;gzip\&quot;,\n            \&quot;content-type\&quot;: \&quot;application/json;charset=utf-8\&quot;,\n        },\n        \&quot;Request Body\&quot;: {\n            query: &#x27;\\n{\\nrates(currency: \&quot;USD\&quot;) {\\ncurrency\\nrate\\n}\\n}\\n&#x27;,\n        },\n        \&quot;Response Body\&quot;: { data: { rates: [{ currency: \&quot;AED\&quot;, rate: \&quot;3.673\&quot; }] } },\n    },\n};\nconst networkRequestData = inspectorConsoleView.createNetworkRequestData(request, response);\nassert.deepStrictEqual(networkRequestData, networkRequestDataReference);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2ee6a88a-9554-4e64-9290-e554c9e962d2&quot;,&quot;parentUUID&quot;:&quot;70b0b10a-36c3-42c6-8a1c-233863457d89&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should correctly process a request with URL search parameters&quot;,&quot;fullTitle&quot;:&quot;inspectorConsoleView createNetworkRequestData should correctly process a request with URL search parameters&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const request = {\n    headers: [\n        { key: \&quot;Accept-Encoding\&quot;, value: \&quot;gzip\&quot; },\n        { key: \&quot;Connection\&quot;, value: \&quot;Keep-Alive\&quot; },\n    ],\n    id: \&quot;6826df34-173d-4351-a7e5-d435328f2e54\&quot;,\n    method: \&quot;GET\&quot;,\n    timestamp: 1617959200269,\n    url: \&quot;https://test.org?query=query%20aTest(%24arg1%3A%20String!)%20%7B%20test(who%3A%20%24arg1)%20%7D&amp;operationName=aTest&amp;variables=%7B%22arg1%22%3A%22me%22%7D\&quot;,\n};\nconst response = {\n    headers: [\n        { key: \&quot;vary\&quot;, value: \&quot;Accept-Encoding\&quot; },\n        { key: \&quot;content-type\&quot;, value: \&quot;application/json;charset=utf-8\&quot; },\n    ],\n    data: \&quot;eyJlcnJvciI6ICJ0ZXN0RXJyb3IifQ==\&quot;,\n    id: \&quot;6826df34-173d-4351-a7e5-d435328f2e54\&quot;,\n    index: 0,\n    isMock: false,\n    status: 400,\n    timestamp: 1617959201269,\n    totalChunks: 1,\n    reason: \&quot;\&quot;,\n};\nconst url = new url_1.URL(request.url);\nconst networkRequestDataReference = {\n    title: `%cNetwork request: ${request.method} ${url ? url.host + url.pathname : \&quot;&lt;unknown&gt;\&quot;}`,\n    networkRequestData: {\n        URL: request.url,\n        Method: request.method,\n        Status: response.status,\n        Duration: \&quot;1000ms\&quot;,\n        \&quot;Request Headers\&quot;: {\n            \&quot;Accept-Encoding\&quot;: \&quot;gzip\&quot;,\n            Connection: \&quot;Keep-Alive\&quot;,\n        },\n        \&quot;Response Headers\&quot;: {\n            vary: \&quot;Accept-Encoding\&quot;,\n            \&quot;content-type\&quot;: \&quot;application/json;charset=utf-8\&quot;,\n        },\n        \&quot;Request Body\&quot;: \&quot;\&quot;,\n        \&quot;Request Query Parameters\&quot;: {\n            operationName: \&quot;aTest\&quot;,\n            query: \&quot;query aTest($arg1: String!) { test(who: $arg1) }\&quot;,\n            variables: &#x27;{\&quot;arg1\&quot;:\&quot;me\&quot;}&#x27;,\n        },\n        \&quot;Response Body\&quot;: { error: \&quot;testError\&quot; },\n    },\n};\nconst networkRequestData = inspectorConsoleView.createNetworkRequestData(request, response);\nassert.deepStrictEqual(networkRequestData, networkRequestDataReference);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6782d195-7a6e-4b82-bcf7-1e30287e5e12&quot;,&quot;parentUUID&quot;:&quot;70b0b10a-36c3-42c6-8a1c-233863457d89&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should correctly process a request with form data&quot;,&quot;fullTitle&quot;:&quot;inspectorConsoleView createNetworkRequestData should correctly process a request with form data&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const request = {\n    headers: [\n        { key: \&quot;Accept-Encoding\&quot;, value: \&quot;gzip\&quot; },\n        { key: \&quot;Connection\&quot;, value: \&quot;Keep-Alive\&quot; },\n        {\n            key: \&quot;Content-Type\&quot;,\n            value: \&quot;application/x-www-form-urlencoded;charset=UTF-8\&quot;,\n        },\n    ],\n    data: \&quot;dXNlck5hbWU9dGVzdE5hbWUmdGVzdFByb3A9dGVzdFByb3BWYWw=\\n\&quot;,\n    id: \&quot;6826df34-173d-4351-a7e5-d435328f2e54\&quot;,\n    method: \&quot;POST\&quot;,\n    timestamp: 1617959200269,\n    url: \&quot;https://test.org\&quot;,\n};\nconst response = {\n    headers: [\n        { key: \&quot;server\&quot;, value: \&quot;nginx\&quot; },\n        { key: \&quot;content-type\&quot;, value: \&quot;application/json;charset=utf-8\&quot; },\n    ],\n    data: \&quot;eyJzdWNjZXNzIjp0cnVlfQ==\\n\&quot;,\n    id: \&quot;6826df34-173d-4351-a7e5-d435328f2e54\&quot;,\n    index: 0,\n    isMock: false,\n    status: 200,\n    timestamp: 1617959201269,\n    totalChunks: 1,\n    reason: \&quot;\&quot;,\n};\nconst url = new url_1.URL(request.url);\nconst networkRequestDataReference = {\n    title: `%cNetwork request: ${request.method} ${url ? url.host + url.pathname : \&quot;&lt;unknown&gt;\&quot;}`,\n    networkRequestData: {\n        URL: request.url,\n        Method: request.method,\n        Status: response.status,\n        Duration: \&quot;1000ms\&quot;,\n        \&quot;Request Headers\&quot;: {\n            \&quot;Accept-Encoding\&quot;: \&quot;gzip\&quot;,\n            Connection: \&quot;Keep-Alive\&quot;,\n            \&quot;Content-Type\&quot;: \&quot;application/x-www-form-urlencoded;charset=UTF-8\&quot;,\n        },\n        \&quot;Response Headers\&quot;: {\n            server: \&quot;nginx\&quot;,\n            \&quot;content-type\&quot;: \&quot;application/json;charset=utf-8\&quot;,\n        },\n        \&quot;Request Body\&quot;: querystring.parse(\&quot;userName=testName&amp;testProp=testPropVal\&quot;),\n        \&quot;Response Body\&quot;: { success: true },\n    },\n};\nconst networkRequestData = inspectorConsoleView.createNetworkRequestData(request, response);\nassert.deepStrictEqual(networkRequestData, networkRequestDataReference);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;2acb4ab4-57de-4dfe-8068-919c77d2390f&quot;,&quot;parentUUID&quot;:&quot;70b0b10a-36c3-42c6-8a1c-233863457d89&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;2f1737c7-c78e-4ccc-9aa1-d22a4c84c6a4&quot;,&quot;d517b6c1-48a0-466e-b4f6-d215f5283852&quot;,&quot;2ee6a88a-9554-4e64-9290-e554c9e962d2&quot;,&quot;6782d195-7a6e-4b82-bcf7-1e30287e5e12&quot;,&quot;2acb4ab4-57de-4dfe-8068-919c77d2390f&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:10,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;5d3aba23-46e2-4079-b629-177a99869e75&quot;,&quot;title&quot;:&quot;requestBodyFormatter&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/extension/networkInspector/requestBodyFormatter.test.js&quot;,&quot;file&quot;:&quot;/test/extension/networkInspector/requestBodyFormatter.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;2078fe9c-11bc-434e-b517-f14bed5f774a&quot;,&quot;title&quot;:&quot;formatBody&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/extension/networkInspector/requestBodyFormatter.test.js&quot;,&quot;file&quot;:&quot;/test/extension/networkInspector/requestBodyFormatter.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;formatBody\&quot;&quot;,&quot;fullTitle&quot;:&quot;requestBodyFormatter formatBody \&quot;before each\&quot; hook in \&quot;formatBody\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;loggedOutput = [];&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;0ec3d359-3831-44ab-9fb2-3617f3895b1e&quot;,&quot;parentUUID&quot;:&quot;2078fe9c-11bc-434e-b517-f14bed5f774a&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should return text data and print warnings via logger&quot;,&quot;fullTitle&quot;:&quot;requestBodyFormatter formatBody should return text data and print warnings via logger&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const response = {\n    headers: [\n        { key: \&quot;Content-Encoding\&quot;, value: \&quot;gzip\&quot; },\n        { key: \&quot;Content-Type\&quot;, value: \&quot;application/json;charset=utf-8\&quot; },\n    ],\n    data: \&quot;H4sIAAAAAAAA/6tWSkksSVSyUihJLS6pBQAeHWwqDgAAAA==\&quot;,\n    id: \&quot;6826df34-173d-4351-a7e5-d435328f2e54\&quot;,\n    index: 0,\n    isMock: false,\n    status: 200,\n    timestamp: 1617959201269,\n    totalChunks: 1,\n    reason: \&quot;\&quot;,\n    insights: null,\n};\nconst formattedBodyRes = requestBodyFormatter.formatBody(response);\nassert.strictEqual(loggedOutput[0].includes(\&quot;GraphQLFormatter\&quot;), true);\nassert.strictEqual(loggedOutput[1].includes(\&quot;JSONFormatter\&quot;), true);\nassert.strictEqual(formattedBodyRes, &#x27;{\&quot;data\&quot;: test}&#x27;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6d47b46b-4be0-4f80-8424-593b095c5874&quot;,&quot;parentUUID&quot;:&quot;2078fe9c-11bc-434e-b517-f14bed5f774a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should parse JSON objects and return an array of objects&quot;,&quot;fullTitle&quot;:&quot;requestBodyFormatter formatBody should parse JSON objects and return an array of objects&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const request = {\n    headers: [\n        { key: \&quot;Accept-Encoding\&quot;, value: \&quot;gzip\&quot; },\n        { key: \&quot;Content-Type\&quot;, value: \&quot;application/json;charset=utf-8\&quot; },\n    ],\n    data: \&quot;eyJkYXRhU3RyIjogInRlc3QifQp7ImRhdGFOdW0iOiAxMjN9CnsiZGF0YUFyciI6IFsxLCAyXX0=\&quot;,\n    id: \&quot;6826df34-173d-4351-a7e5-d435328f2e54\&quot;,\n    timestamp: 1617959201269,\n    url: \&quot;https://test.org\&quot;,\n    method: \&quot;POST\&quot;,\n};\nconst formattedBodyReference = [\n    { dataStr: \&quot;test\&quot; },\n    { dataNum: 123 },\n    { dataArr: [1, 2] },\n];\nconst formattedBodyRes = requestBodyFormatter.formatBody(request);\nassert.deepStrictEqual(formattedBodyRes, formattedBodyReference);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;62fdbdfb-76cc-45fa-a1c9-6845f2178a25&quot;,&quot;parentUUID&quot;:&quot;2078fe9c-11bc-434e-b517-f14bed5f774a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;6d47b46b-4be0-4f80-8424-593b095c5874&quot;,&quot;62fdbdfb-76cc-45fa-a1c9-6845f2178a25&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:3,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;288c200e-fe06-4352-842a-29d14ce15971&quot;,&quot;title&quot;:&quot;packager&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/extension/packager.test.js&quot;,&quot;file&quot;:&quot;/test/extension/packager.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;5e6c407c-8362-4044-95bd-3f491e89e244&quot;,&quot;title&quot;:&quot;extensionContext&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/extension/packager.test.js&quot;,&quot;file&quot;:&quot;/test/extension/packager.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;extensionContext\&quot;&quot;,&quot;fullTitle&quot;:&quot;packager extensionContext \&quot;before each\&quot; hook in \&quot;extensionContext\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;requestStub = sinon.stub(request_1.Request, \&quot;request\&quot;);\nisExpoManagedAppStub = sinon.stub(exponentHelper_1.ExponentHelper.prototype, \&quot;isExpoManagedApp\&quot;);\ngetExpPackagerOptionsStub = sinon.stub(exponentHelper_1.ExponentHelper.prototype, \&quot;getExpPackagerOptions\&quot;);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;541bb1e8-a0e2-4e8b-8ee1-25a0729282b5&quot;,&quot;parentUUID&quot;:&quot;5e6c407c-8362-4044-95bd-3f491e89e244&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;extensionContext\&quot;&quot;,&quot;fullTitle&quot;:&quot;packager extensionContext \&quot;after each\&quot; hook in \&quot;extensionContext\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;requestStub.restore();\nisExpoManagedAppStub.restore();\ngetExpPackagerOptionsStub.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ef914521-810c-40db-921e-42437757693a&quot;,&quot;parentUUID&quot;:&quot;5e6c407c-8362-4044-95bd-3f491e89e244&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;isRunning should check correct status URL&quot;,&quot;fullTitle&quot;:&quot;packager extensionContext isRunning should check correct status URL&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    requestStub.returns(Promise.resolve(\&quot;packager-status:running\&quot;));\n    try {\n        const isRunning = yield new packager_1.Packager(WORKSPACE_PATH, PROJECT_PATH, packager_1.Packager.DEFAULT_PORT).isRunning();\n        assert(isRunning);\n        assert(requestStub.firstCall.args[0].match(\&quot;http://localhost:\&quot; + packager_1.Packager.DEFAULT_PORT));\n    }\n    catch (error) {\n        assert.fail(null, null, \&quot;packager was expected to be running\&quot;);\n    }\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e91c9761-2029-40ab-a9ad-d819915a46a2&quot;,&quot;parentUUID&quot;:&quot;5e6c407c-8362-4044-95bd-3f491e89e244&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;isRunning should report false if server doesn&#x27;t respond&quot;,&quot;fullTitle&quot;:&quot;packager extensionContext isRunning should report false if server doesn&#x27;t respond&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    requestStub.returns(Promise.reject());\n    try {\n        const isRunning = yield new packager_1.Packager(WORKSPACE_PATH, PROJECT_PATH, 9091).isRunning();\n        assert(!isRunning);\n    }\n    catch (error) {\n        assert.fail(null, null, \&quot;packager was not expected to be running\&quot;);\n    }\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e98a0c92-fa72-46e7-9876-abbbfa887bd9&quot;,&quot;parentUUID&quot;:&quot;5e6c407c-8362-4044-95bd-3f491e89e244&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;isRunning should report false if request fails&quot;,&quot;fullTitle&quot;:&quot;packager extensionContext isRunning should report false if request fails&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    requestStub.returns(Promise.resolve(\&quot;some_random_string\&quot;));\n    try {\n        const isRunning = yield new packager_1.Packager(WORKSPACE_PATH, PROJECT_PATH, 10001).isRunning();\n        assert(!isRunning);\n    }\n    catch (error) {\n        assert.fail(null, null, \&quot;packager was not expected to be running\&quot;);\n    }\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c8fe2b10-6004-470e-959b-6af5371352e2&quot;,&quot;parentUUID&quot;:&quot;5e6c407c-8362-4044-95bd-3f491e89e244&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;getPackagerArgs should return correct value (react-native@0.56.0)&quot;,&quot;fullTitle&quot;:&quot;packager extensionContext getPackagerArgs should return correct value (react-native@0.56.0)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    isExpoManagedAppStub.returns(Promise.resolve(false));\n    const rnVersion = \&quot;0.56.0\&quot;;\n    const expected = [\&quot;--port\&quot;, \&quot;10001\&quot;];\n    const args = yield new packager_1.Packager(WORKSPACE_PATH, PROJECT_PATH, 10001).getPackagerArgs(PROJECT_PATH, rnVersion);\n    assert.deepEqual(args, expected);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;096c7d4e-680b-4987-b348-09689799ba1b&quot;,&quot;parentUUID&quot;:&quot;5e6c407c-8362-4044-95bd-3f491e89e244&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;getPackagerArgs should return correct value (react-native@0.57.0)&quot;,&quot;fullTitle&quot;:&quot;packager extensionContext getPackagerArgs should return correct value (react-native@0.57.0)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    isExpoManagedAppStub.returns(Promise.resolve(false));\n    const rnVersion = \&quot;0.57.0\&quot;;\n    const expected = [\&quot;--port\&quot;, \&quot;10001\&quot;, \&quot;--resetCache\&quot;];\n    const args = yield new packager_1.Packager(WORKSPACE_PATH, PROJECT_PATH, 10001).getPackagerArgs(PROJECT_PATH, rnVersion, true);\n    assert.deepEqual(args, expected);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;875b47fc-64d7-4298-af8c-69eb486a62ae&quot;,&quot;parentUUID&quot;:&quot;5e6c407c-8362-4044-95bd-3f491e89e244&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;getPackagerArgs should return correct value for expo app (react-native@0.56.0)&quot;,&quot;fullTitle&quot;:&quot;packager extensionContext getPackagerArgs should return correct value for expo app (react-native@0.56.0)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    isExpoManagedAppStub.returns(Promise.resolve(true));\n    getExpPackagerOptionsStub.returns(Promise.resolve({}));\n    const rnVersion = \&quot;0.56.0\&quot;;\n    const expected = [\&quot;--port\&quot;, \&quot;10001\&quot;, \&quot;--resetCache\&quot;, \&quot;--root\&quot;, \&quot;.vscode\&quot;];\n    const args = yield new packager_1.Packager(WORKSPACE_PATH, PROJECT_PATH, 10001).getPackagerArgs(PROJECT_PATH, rnVersion, true);\n    assert.deepEqual(args, expected);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;142c3a6e-aea2-4aa2-a163-e333d41a507a&quot;,&quot;parentUUID&quot;:&quot;5e6c407c-8362-4044-95bd-3f491e89e244&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;getPackagerArgs should return correct value for expo app (react-native@0.57.0)&quot;,&quot;fullTitle&quot;:&quot;packager extensionContext getPackagerArgs should return correct value for expo app (react-native@0.57.0)&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    isExpoManagedAppStub.returns(Promise.resolve(true));\n    getExpPackagerOptionsStub.returns(Promise.resolve({\n        assetExts: [\&quot;txt\&quot;, \&quot;md\&quot;],\n    }));\n    const rnVersion = \&quot;0.57.0\&quot;;\n    const expected = [\&quot;--port\&quot;, \&quot;10001\&quot;, \&quot;--assetExts\&quot;, [\&quot;txt\&quot;, \&quot;md\&quot;]];\n    const args = yield new packager_1.Packager(WORKSPACE_PATH, PROJECT_PATH, 10001).getPackagerArgs(PROJECT_PATH, rnVersion);\n    assert.deepEqual(args, expected);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;639a8f7b-623b-4a0e-863d-374521b01c48&quot;,&quot;parentUUID&quot;:&quot;5e6c407c-8362-4044-95bd-3f491e89e244&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e91c9761-2029-40ab-a9ad-d819915a46a2&quot;,&quot;e98a0c92-fa72-46e7-9876-abbbfa887bd9&quot;,&quot;c8fe2b10-6004-470e-959b-6af5371352e2&quot;,&quot;096c7d4e-680b-4987-b348-09689799ba1b&quot;,&quot;875b47fc-64d7-4298-af8c-69eb486a62ae&quot;,&quot;142c3a6e-aea2-4aa2-a163-e333d41a507a&quot;,&quot;639a8f7b-623b-4a0e-863d-374521b01c48&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:9,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;3c056969-74d9-447b-9dd2-24d699f91001&quot;,&quot;title&quot;:&quot;reactDirManager.ts&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/extension/reactDirManager.test.js&quot;,&quot;file&quot;:&quot;/test/extension/reactDirManager.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;2f99f9b3-0c7d-4e31-8aff-d6df01da95e0&quot;,&quot;title&quot;:&quot;extensionContext&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/extension/reactDirManager.test.js&quot;,&quot;file&quot;:&quot;/test/extension/reactDirManager.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;a50c84bd-72ca-4dee-9e13-58a398bae030&quot;,&quot;title&quot;:&quot;ReactDirPath&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/extension/reactDirManager.test.js&quot;,&quot;file&quot;:&quot;/test/extension/reactDirManager.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;Should end with the correct path to the react folder&quot;,&quot;fullTitle&quot;:&quot;reactDirManager.ts extensionContext ReactDirPath Should end with the correct path to the react folder&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;let reactPath = new reactDirManager_1.ReactDirManager(\&quot;\&quot;).reactDirPath;\nassert.strictEqual(\&quot;.react\&quot;, path.basename(reactPath));\nreactPath = path.dirname(reactPath);\nassert.strictEqual(\&quot;.vscode\&quot;, path.basename(reactPath));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;539bf638-b0aa-42e5-8ea7-a1bd3a43a317&quot;,&quot;parentUUID&quot;:&quot;a50c84bd-72ca-4dee-9e13-58a398bae030&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;539bf638-b0aa-42e5-8ea7-a1bd3a43a317&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;f68af960-f8bc-4dfb-87f5-9e248be3abb3&quot;,&quot;title&quot;:&quot;rn-extension&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/extension/rn-extension.test.js&quot;,&quot;file&quot;:&quot;/test/extension/rn-extension.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;dd1d2c88-bd02-4861-a0f3-470390862939&quot;,&quot;title&quot;:&quot;createAdditionalWorkspaceFolder&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/extension/rn-extension.test.js&quot;,&quot;file&quot;:&quot;/test/extension/rn-extension.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;createAdditionalWorkspaceFolder returns null&quot;,&quot;fullTitle&quot;:&quot;rn-extension createAdditionalWorkspaceFolder createAdditionalWorkspaceFolder returns null&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const folderPath = \&quot;folderPath\&quot;;\nconst result = rn_extension_1.createAdditionalWorkspaceFolder(folderPath);\nassert.strictEqual(result, null);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;1cdcdbc7-0d05-462d-b39d-5abd77214f75&quot;,&quot;parentUUID&quot;:&quot;dd1d2c88-bd02-4861-a0f3-470390862939&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;d8ab7177-978a-4cbd-9d74-7d45bb8bac29&quot;,&quot;title&quot;:&quot;createAdditionalWorkspaceFolder returns a new workspace folder&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/extension/rn-extension.test.js&quot;,&quot;file&quot;:&quot;/test/extension/rn-extension.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;createAdditionalWorkspaceFolder returns a new workspace folder\&quot;&quot;,&quot;fullTitle&quot;:&quot;rn-extension createAdditionalWorkspaceFolder createAdditionalWorkspaceFolder returns a new workspace folder \&quot;before all\&quot; hook in \&quot;createAdditionalWorkspaceFolder returns a new workspace folder\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;fsHelper.makeDirectoryRecursiveSync(nodeModulesDir);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3ade5772-0291-4f19-ba61-4849ed5fb3fd&quot;,&quot;parentUUID&quot;:&quot;d8ab7177-978a-4cbd-9d74-7d45bb8bac29&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;createAdditionalWorkspaceFolder returns a new workspace folder\&quot;&quot;,&quot;fullTitle&quot;:&quot;rn-extension createAdditionalWorkspaceFolder createAdditionalWorkspaceFolder returns a new workspace folder \&quot;after all\&quot; hook in \&quot;createAdditionalWorkspaceFolder returns a new workspace folder\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;fsHelper.removePathRecursivelySync(path.join(sampleReactNativeProjectDir, nodeModulesFolderName));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;4df0efee-a020-4b68-80e4-8421544d7669&quot;,&quot;parentUUID&quot;:&quot;d8ab7177-978a-4cbd-9d74-7d45bb8bac29&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;createAdditionalWorkspaceFolder should create a worspace folder, return the created folder with index increaed by 1&quot;,&quot;fullTitle&quot;:&quot;rn-extension createAdditionalWorkspaceFolder createAdditionalWorkspaceFolder returns a new workspace folder createAdditionalWorkspaceFolder should create a worspace folder, return the created folder with index increaed by 1&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const currentCountOfWorkspaceFolders = rn_extension_1.getCountOfWorkspaceFolders();\nconst result = rn_extension_1.createAdditionalWorkspaceFolder(nodeModulesDir);\nconst expectedURI = vscode.Uri.file(nodeModulesDir);\nconst expectedIndex = currentCountOfWorkspaceFolders + 1;\nconst expectedResult = {\n    uri: expectedURI,\n    name: nodeModulesFolderName,\n    index: expectedIndex,\n};\nassert.deepStrictEqual(result, expectedResult);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9cc4aa22-b28b-49ff-b878-632bb990c8a5&quot;,&quot;parentUUID&quot;:&quot;d8ab7177-978a-4cbd-9d74-7d45bb8bac29&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;createAdditionalWorkspaceFolder is used more than once, should create new worspace folders, return the last folder with increased index&quot;,&quot;fullTitle&quot;:&quot;rn-extension createAdditionalWorkspaceFolder createAdditionalWorkspaceFolder returns a new workspace folder createAdditionalWorkspaceFolder is used more than once, should create new worspace folders, return the last folder with increased index&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;const currentCountOfWorkspaceFolders = rn_extension_1.getCountOfWorkspaceFolders();\nconst innerProjectName = \&quot;innerSampleProject\&quot;;\nconst innerProjectDir = path.join(sampleReactNativeProjectDir, innerProjectName);\nconst innerNodeModulesDir = path.join(innerProjectDir, nodeModulesFolderName);\nfsHelper.makeDirectoryRecursiveSync(innerNodeModulesDir);\nteardown(() =&gt; {\n    fsHelper.removePathRecursivelySync(innerProjectDir);\n});\nrn_extension_1.createAdditionalWorkspaceFolder(nodeModulesDir);\nconst result = rn_extension_1.createAdditionalWorkspaceFolder(innerNodeModulesDir);\nconst expectedURI = vscode.Uri.file(innerNodeModulesDir);\nconst expectedIndex = currentCountOfWorkspaceFolders + 2;\nconst expectedResult = {\n    uri: expectedURI,\n    name: nodeModulesFolderName,\n    index: expectedIndex,\n};\nassert.deepStrictEqual(result, expectedResult);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b47151e3-1be1-4285-b247-bc4f53d2ce5a&quot;,&quot;parentUUID&quot;:&quot;d8ab7177-978a-4cbd-9d74-7d45bb8bac29&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;9cc4aa22-b28b-49ff-b878-632bb990c8a5&quot;,&quot;b47151e3-1be1-4285-b247-bc4f53d2ce5a&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[&quot;1cdcdbc7-0d05-462d-b39d-5abd77214f75&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;e0c9ed90-3f6f-44aa-9cc7-32e6c33d292f&quot;,&quot;title&quot;:&quot;tipNotificationService&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/extension/tipsNotificationService/tipsNotificationService.test.js&quot;,&quot;file&quot;:&quot;/test/extension/tipsNotificationService/tipsNotificationService.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before each\&quot; hook in \&quot;tipNotificationService\&quot;&quot;,&quot;fullTitle&quot;:&quot;tipNotificationService \&quot;before each\&quot; hook in \&quot;tipNotificationService\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:44,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;return __awaiter(this, void 0, void 0, function* () {\n    tipNotificationService = tipsNotificationService_1.TipNotificationService.getInstance();\n    config.delete(tipsConfigName);\n    yield settingsHelper_1.SettingsHelper.setShowTips(true);\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;728d2f6e-ec48-42cc-9037-07994f95698e&quot;,&quot;parentUUID&quot;:&quot;e0c9ed90-3f6f-44aa-9cc7-32e6c33d292f&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after each\&quot; hook in \&quot;tipNotificationService\&quot;&quot;,&quot;fullTitle&quot;:&quot;tipNotificationService \&quot;after each\&quot; hook in \&quot;tipNotificationService\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;if (tipNotificationService) {\n    tipNotificationService.dispose();\n}\ntipsNotificationService_1.TipNotificationService.instance = null;&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d402b56a-ec85-4950-affb-db458a6728f8&quot;,&quot;parentUUID&quot;:&quot;e0c9ed90-3f6f-44aa-9cc7-32e6c33d292f&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;272acbe3-2889-4541-8fad-41ba2c3692a6&quot;,&quot;title&quot;:&quot;initializeTipsConfig&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/extension/tipsNotificationService/tipsNotificationService.test.js&quot;,&quot;file&quot;:&quot;/test/extension/tipsNotificationService/tipsNotificationService.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create correct tips config&quot;,&quot;fullTitle&quot;:&quot;tipNotificationService initializeTipsConfig should create correct tips config&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:1,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            yield tipNotificationService.initializeTipsConfig();\n            const tipsConfig = tipNotificationService.tipsConfig;\n            const numberType = \&quot;number\&quot;;\n            assert.strictEqual(typeof tipsConfig.daysAfterLastUsage, numberType);\n            assert.strictEqual(typeof tipsConfig.firstTimeMaxDaysToRemind, numberType);\n            assert.strictEqual(typeof tipsConfig.firstTimeMinDaysToRemind, numberType);\n            assert.strictEqual(typeof tipsConfig.maxDaysToRemind, numberType);\n            assert.strictEqual(typeof tipsConfig.minDaysToRemind, numberType);\n        })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;29e8c935-63c4-4685-91c0-08baca558ac4&quot;,&quot;parentUUID&quot;:&quot;272acbe3-2889-4541-8fad-41ba2c3692a6&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;29e8c935-63c4-4685-91c0-08baca558ac4&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;b1dca4ad-0218-4742-a622-711bd19c3e78&quot;,&quot;title&quot;:&quot;showTipNotification&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/extension/tipsNotificationService/tipsNotificationService.test.js&quot;,&quot;file&quot;:&quot;/test/extension/tipsNotificationService/tipsNotificationService.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;fa589907-4622-4fcf-aabf-8dbee1fd078a&quot;,&quot;title&quot;:&quot;without user actions&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/extension/tipsNotificationService/tipsNotificationService.test.js&quot;,&quot;file&quot;:&quot;/test/extension/tipsNotificationService/tipsNotificationService.test.js&quot;,&quot;beforeHooks&quot;:[{&quot;title&quot;:&quot;\&quot;before all\&quot; hook in \&quot;without user actions\&quot;&quot;,&quot;fullTitle&quot;:&quot;tipNotificationService showTipNotification without user actions \&quot;before all\&quot; hook in \&quot;without user actions\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:3,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;windowShowInformationMessageStub = sinon\n    .stub(vscode_1.window, \&quot;showInformationMessage\&quot;)\n    .returns(Promise.resolve(undefined));&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;824ea40e-f415-44bd-bb5e-570b9a794c49&quot;,&quot;parentUUID&quot;:&quot;fa589907-4622-4fcf-aabf-8dbee1fd078a&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;afterHooks&quot;:[{&quot;title&quot;:&quot;\&quot;after all\&quot; hook in \&quot;without user actions\&quot;&quot;,&quot;fullTitle&quot;:&quot;tipNotificationService showTipNotification without user actions \&quot;after all\&quot; hook in \&quot;without user actions\&quot;&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;windowShowInformationMessageStub.restore();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d71f37a4-add7-4e3b-ba62-055e462cfe9c&quot;,&quot;parentUUID&quot;:&quot;fa589907-4622-4fcf-aabf-8dbee1fd078a&quot;,&quot;isHook&quot;:true,&quot;skipped&quot;:false}],&quot;tests&quot;:[{&quot;title&quot;:&quot;should create config and fill shownDate into one of general tips&quot;,&quot;fullTitle&quot;:&quot;tipNotificationService showTipNotification without user actions should create config and fill shownDate into one of general tips&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:37,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n                yield tipNotificationService.showTipNotification();\n                assert.ok(config.has(tipsConfigName));\n                const tipsConfig = config.get(tipsConfigName);\n                let shownTips = Object.values(tipsConfig.tips.generalTips).filter(tip =&gt; tip.shownDate);\n                assert.strictEqual(shownTips.length, 1);\n            })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;e35f0696-7833-44fe-9370-081de7edeba9&quot;,&quot;parentUUID&quot;:&quot;fa589907-4622-4fcf-aabf-8dbee1fd078a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should create config and fill shownDate into one of specific tips&quot;,&quot;fullTitle&quot;:&quot;tipNotificationService showTipNotification without user actions should create config and fill shownDate into one of specific tips&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:46,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n                const specificTipKey = \&quot;networkInspectorLogsColorTheme\&quot;;\n                yield tipNotificationService.showTipNotification(false, specificTipKey);\n                assert.ok(config.has(tipsConfigName));\n                const tipsConfig = config.get(tipsConfigName);\n                assert.strictEqual(typeof tipsConfig.tips.specificTips[specificTipKey].shownDate, \&quot;string\&quot;, `shownDate of ${specificTipKey} isn&#x27;t set`);\n            })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;57bd2d3e-06f4-47c2-aa6f-2927e9218ee6&quot;,&quot;parentUUID&quot;:&quot;fa589907-4622-4fcf-aabf-8dbee1fd078a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should decrease daysLeftBeforeGeneralTip by one and no tip is shown&quot;,&quot;fullTitle&quot;:&quot;tipNotificationService showTipNotification without user actions should decrease daysLeftBeforeGeneralTip by one and no tip is shown&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:29,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n                yield tipNotificationService.initializeTipsConfig();\n                const tipsConfigBefore = tipNotificationService.tipsConfig;\n                tipsConfigBefore.daysLeftBeforeGeneralTip = 5;\n                tipsConfigBefore.lastExtensionUsageDate = new Date();\n                tipsConfigBefore.lastExtensionUsageDate.setDate(tipsConfigBefore.lastExtensionUsageDate.getDate() - 1);\n                config.set(tipsConfigName, tipsConfigBefore);\n                yield tipNotificationService.showTipNotification();\n                const tipsConfigAfter = config.get(tipsConfigName);\n                assert.deepStrictEqual(tipsConfigBefore.tips, tipsConfigAfter.tips);\n                assert.deepStrictEqual(tipsConfigAfter.daysLeftBeforeGeneralTip, 4);\n            })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;5bb7487b-6faa-4794-a6a4-115ed4a95c00&quot;,&quot;parentUUID&quot;:&quot;fa589907-4622-4fcf-aabf-8dbee1fd078a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should show another tip from general tips for the first round&quot;,&quot;fullTitle&quot;:&quot;tipNotificationService showTipNotification without user actions should show another tip from general tips for the first round&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:35,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n                yield tipNotificationService.initializeTipsConfig();\n                const tipsConfigBefore = tipNotificationService.tipsConfig;\n                tipsConfigBefore.tips.generalTips[\&quot;networkInspector\&quot;].shownDate = new Date();\n                config.set(tipsConfigName, tipsConfigBefore);\n                yield tipNotificationService.showTipNotification();\n                const tipsConfigAfter = config.get(tipsConfigName);\n                let shownTips = Object.values(tipsConfigAfter.tips.generalTips).filter(tip =&gt; tip.shownDate);\n                assert.strictEqual(shownTips.length, 2);\n                let assertCondition = () =&gt; tipsConfigAfter.daysLeftBeforeGeneralTip &gt;=\n                    tipsConfigAfter.firstTimeMinDaysToRemind &amp;&amp;\n                    tipsConfigAfter.daysLeftBeforeGeneralTip &lt;=\n                        tipsConfigAfter.firstTimeMaxDaysToRemind;\n                assert.strictEqual(assertCondition(), true);\n            })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;c1f1e3ee-cfa9-48a5-854b-ec54f30d048c&quot;,&quot;parentUUID&quot;:&quot;fa589907-4622-4fcf-aabf-8dbee1fd078a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should show another tip from general tips for the second round&quot;,&quot;fullTitle&quot;:&quot;tipNotificationService showTipNotification without user actions should show another tip from general tips for the second round&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:38,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n                yield tipNotificationService.initializeTipsConfig();\n                const tipsConfigBefore = tipNotificationService.tipsConfig;\n                const shownDate = new Date(2021, 6, 26);\n                Object.values(tipsConfigBefore.tips.generalTips).forEach(tip =&gt; {\n                    tip.shownDate = shownDate;\n                });\n                tipsConfigBefore.allTipsShownFirstly = true;\n                tipsConfigBefore.daysLeftBeforeGeneralTip = 0;\n                config.set(tipsConfigName, tipsConfigBefore);\n                yield tipNotificationService.showTipNotification();\n                const tipsConfigAfter = config.get(tipsConfigName);\n                let shownTips = Object.values(tipsConfigAfter.tips.generalTips).filter(tip =&gt; Date.parse(tip.shownDate) &gt; shownDate.getTime());\n                assert.strictEqual(shownTips.length, 1);\n                let assertCondition = () =&gt; tipsConfigAfter.daysLeftBeforeGeneralTip &gt;= tipsConfigAfter.minDaysToRemind &amp;&amp;\n                    tipsConfigAfter.daysLeftBeforeGeneralTip &lt;= tipsConfigAfter.maxDaysToRemind;\n                assert.strictEqual(assertCondition(), true);\n            })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;d057693a-88c9-462d-8786-bc70c1d2e03e&quot;,&quot;parentUUID&quot;:&quot;fa589907-4622-4fcf-aabf-8dbee1fd078a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should change allTipsShownFirstly from false to true in case all general tips have been shown for the first time&quot;,&quot;fullTitle&quot;:&quot;tipNotificationService showTipNotification without user actions should change allTipsShownFirstly from false to true in case all general tips have been shown for the first time&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:44,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n                yield tipNotificationService.initializeTipsConfig();\n                const tipsConfigBefore = tipNotificationService.tipsConfig;\n                const shownDate = new Date(2021, 6, 26);\n                const generalTipsKeysBefore = Object.keys(tipsConfigBefore.tips.generalTips);\n                for (let i = 0; i &lt; generalTipsKeysBefore.length - 1; i++) {\n                    tipsConfigBefore.tips.generalTips[generalTipsKeysBefore[i]].shownDate =\n                        shownDate;\n                }\n                config.set(tipsConfigName, tipsConfigBefore);\n                yield tipNotificationService.showTipNotification();\n                const tipsConfigAfter = config.get(tipsConfigName);\n                const shownTips = Object.values(tipsConfigAfter.tips.generalTips).filter(tip =&gt; tip.shownDate);\n                assert.strictEqual(shownTips.length, generalTipsKeysBefore.length);\n                assert.strictEqual(tipsConfigAfter.allTipsShownFirstly, true);\n                let assertCondition = () =&gt; tipsConfigAfter.daysLeftBeforeGeneralTip &gt;= tipsConfigAfter.minDaysToRemind &amp;&amp;\n                    tipsConfigAfter.daysLeftBeforeGeneralTip &lt;= tipsConfigAfter.maxDaysToRemind;\n                assert.strictEqual(assertCondition(), true);\n            })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;edeab0cc-32e5-4a47-aafa-79285864b22f&quot;,&quot;parentUUID&quot;:&quot;fa589907-4622-4fcf-aabf-8dbee1fd078a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not show a general tip&quot;,&quot;fullTitle&quot;:&quot;tipNotificationService showTipNotification without user actions should not show a general tip&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:45,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n                yield settingsHelper_1.SettingsHelper.setShowTips(false);\n                yield tipNotificationService.initializeTipsConfig();\n                yield tipNotificationService.showTipNotification();\n                const tipsConfigAfter = config.get(tipsConfigName);\n                const shownGeneralTips = Object.values(tipsConfigAfter.tips.generalTips).filter(tip =&gt; tip.shownDate);\n                const shownSpecificTips = Object.values(tipsConfigAfter.tips.specificTips).filter(tip =&gt; tip.shownDate);\n                assert.strictEqual(shownGeneralTips.length, 0);\n                assert.strictEqual(shownSpecificTips.length, 0);\n            })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;56a503da-2f35-4501-8029-b46195067045&quot;,&quot;parentUUID&quot;:&quot;fa589907-4622-4fcf-aabf-8dbee1fd078a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should not show a specific tip&quot;,&quot;fullTitle&quot;:&quot;tipNotificationService showTipNotification without user actions should not show a specific tip&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:33,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n                yield settingsHelper_1.SettingsHelper.setShowTips(false);\n                yield tipNotificationService.initializeTipsConfig();\n                yield tipNotificationService.showTipNotification(false, \&quot;networkInspectorLogsColorTheme\&quot;);\n                const tipsConfigAfter = config.get(tipsConfigName);\n                const shownGeneralTips = Object.values(tipsConfigAfter.tips.generalTips).filter(tip =&gt; tip.shownDate);\n                const shownSpecificTips = Object.values(tipsConfigAfter.tips.specificTips).filter(tip =&gt; tip.shownDate);\n                assert.strictEqual(shownGeneralTips.length, 0);\n                assert.strictEqual(shownSpecificTips.length, 0);\n            })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;ee574cbd-0eef-449a-ae44-c8b9c19a8b35&quot;,&quot;parentUUID&quot;:&quot;fa589907-4622-4fcf-aabf-8dbee1fd078a&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;e35f0696-7833-44fe-9370-081de7edeba9&quot;,&quot;57bd2d3e-06f4-47c2-aa6f-2927e9218ee6&quot;,&quot;5bb7487b-6faa-4794-a6a4-115ed4a95c00&quot;,&quot;c1f1e3ee-cfa9-48a5-854b-ec54f30d048c&quot;,&quot;d057693a-88c9-462d-8786-bc70c1d2e03e&quot;,&quot;edeab0cc-32e5-4a47-aafa-79285864b22f&quot;,&quot;56a503da-2f35-4501-8029-b46195067045&quot;,&quot;ee574cbd-0eef-449a-ae44-c8b9c19a8b35&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:307,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;1c3d1922-f632-4425-8e5e-1307602f09d3&quot;,&quot;title&quot;:&quot;with user actions&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/extension/tipsNotificationService/tipsNotificationService.test.js&quot;,&quot;file&quot;:&quot;/test/extension/tipsNotificationService/tipsNotificationService.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should not show tips after the user has disabled the display of tips&quot;,&quot;fullTitle&quot;:&quot;tipNotificationService showTipNotification with user actions should not show tips after the user has disabled the display of tips&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:52,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;medium&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n                let windowShowInformationMessageStub = sinon\n                    .stub(vscode_1.window, \&quot;showInformationMessage\&quot;)\n                    .returns(Promise.resolve(\&quot;Don&#x27;t show tips again\&quot;));\n                yield tipNotificationService.initializeTipsConfig();\n                yield tipNotificationService.showTipNotification();\n                const tipsConfigAfterDisplayingTip = config.get(tipsConfigName);\n                const shownGeneralTipsAfterDisplayingTip = Object.values(tipsConfigAfterDisplayingTip.tips.generalTips).filter(tip =&gt; tip.shownDate);\n                assert.strictEqual(shownGeneralTipsAfterDisplayingTip.length, 1);\n                assert.strictEqual(settingsHelper_1.SettingsHelper.getShowTips(), false);\n                windowShowInformationMessageStub.restore();\n            })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;eac9bf9a-c31d-4891-8ce4-a78fbc86ecee&quot;,&quot;parentUUID&quot;:&quot;1c3d1922-f632-4425-8e5e-1307602f09d3&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;eac9bf9a-c31d-4891-8ce4-a78fbc86ecee&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:52,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;20732208-2897-4280-a29d-0d4bb2d666d4&quot;,&quot;title&quot;:&quot;setKnownDateForFeatureById&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/extension/tipsNotificationService/tipsNotificationService.test.js&quot;,&quot;file&quot;:&quot;/test/extension/tipsNotificationService/tipsNotificationService.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should add knownDate to a general tip&quot;,&quot;fullTitle&quot;:&quot;tipNotificationService setKnownDateForFeatureById should add knownDate to a general tip&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:14,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            yield tipNotificationService.initializeTipsConfig();\n            const tipKey = \&quot;debuggingRNWAndMacOSApps\&quot;;\n            yield tipNotificationService.setKnownDateForFeatureById(tipKey);\n            const tipsConfigAfterAddingKnownDate = config.get(tipsConfigName);\n            assert.strictEqual(typeof tipsConfigAfterAddingKnownDate.tips.generalTips[tipKey].knownDate, \&quot;string\&quot;, `knownDate of ${tipKey} isn&#x27;t set`);\n            yield tipNotificationService.setKnownDateForFeatureById(tipKey);\n            const tipsConfigAfterUpdatingKnownDate = config.get(tipsConfigName);\n            const addedKnownDate = new Date(tipsConfigAfterAddingKnownDate.tips.generalTips[tipKey].knownDate);\n            const updatedKnownDate = new Date(tipsConfigAfterUpdatingKnownDate.tips.generalTips[tipKey].knownDate);\n            assert.strictEqual(updatedKnownDate.getTime() &gt; addedKnownDate.getTime(), true);\n        })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b781012d-70f1-4998-8026-0e64d62dcdea&quot;,&quot;parentUUID&quot;:&quot;20732208-2897-4280-a29d-0d4bb2d666d4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should add knownDate to a specific tip&quot;,&quot;fullTitle&quot;:&quot;tipNotificationService setKnownDateForFeatureById should add knownDate to a specific tip&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:32,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;fast&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            yield tipNotificationService.initializeTipsConfig();\n            const tipKey = \&quot;networkInspectorLogsColorTheme\&quot;;\n            yield tipNotificationService.setKnownDateForFeatureById(tipKey, false);\n            const tipsConfigAfter = config.get(tipsConfigName);\n            assert.strictEqual(typeof tipsConfigAfter.tips.specificTips[tipKey].knownDate, \&quot;string\&quot;, `knownDate of ${tipKey} isn&#x27;t set`);\n        })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;6a8b64be-0e5e-4754-85ce-c8ae5f0c72da&quot;,&quot;parentUUID&quot;:&quot;20732208-2897-4280-a29d-0d4bb2d666d4&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;b781012d-70f1-4998-8026-0e64d62dcdea&quot;,&quot;6a8b64be-0e5e-4754-85ce-c8ae5f0c72da&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:46,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;fa272f67-f92a-4360-9c1b-56bf084e2fdd&quot;,&quot;title&quot;:&quot;updateTipsConfig&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/extension/tipsNotificationService/tipsNotificationService.test.js&quot;,&quot;file&quot;:&quot;/test/extension/tipsNotificationService/tipsNotificationService.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;should update config after deleting a tip from storage&quot;,&quot;fullTitle&quot;:&quot;tipNotificationService updateTipsConfig should update config after deleting a tip from storage&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:82,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const mockedTipsNotificationServiceBefore = proxyquire(tipsNotificationServicePath, {\n                \&quot;./tipsStorage\&quot;: {\n                    default: mockedTipsStorageBefore,\n                },\n            })[\&quot;TipNotificationService\&quot;];\n            const mockedTipsNotificationServiceInstanceBefore = mockedTipsNotificationServiceBefore.getInstance();\n            yield mockedTipsNotificationServiceInstanceBefore.initializeTipsConfig();\n            const tipsConfigInitial = (mockedTipsNotificationServiceInstanceBefore).parseDatesInRawConfig(config.get(tipsConfigName));\n            const mockedTipsStorageAfter = {\n                generalTips: {\n                    elementInspector: {\n                        text: \&quot;Element Inspector Tip Text\&quot;,\n                        anchorLink: \&quot;#react-native-commands-in-the-command-palette\&quot;,\n                    },\n                },\n                specificTips: {\n                    networkInspectorLogsColorTheme: {\n                        text: \&quot;Network Inspector Logs Tip Text\&quot;,\n                        anchorLink: \&quot;#network-inspector-logs-theme\&quot;,\n                    },\n                },\n            };\n            const mockedTipsNotificationServiceAfter = proxyquire(tipsNotificationServicePath, {\n                \&quot;./tipsStorage\&quot;: {\n                    default: mockedTipsStorageAfter,\n                },\n            })[\&quot;TipNotificationService\&quot;];\n            const mockedTipsNotificationServiceInstanceAfter = mockedTipsNotificationServiceAfter.getInstance();\n            yield mockedTipsNotificationServiceInstanceAfter.updateTipsConfig();\n            const tipsConfigUpdated = (mockedTipsNotificationServiceInstanceAfter).parseDatesInRawConfig(config.get(tipsConfigName));\n            const expectedTipsConfigGeneralTipsAfter = {\n                elementInspector: {},\n            };\n            const expectedTipsConfigSpecificTipsAfter = {\n                networkInspectorLogsColorTheme: {},\n            };\n            assert.notDeepStrictEqual(tipsConfigInitial, tipsConfigUpdated);\n            assert.deepStrictEqual(tipsConfigInitial.tips.generalTips, expectedTipsConfigGeneralTipsBefore);\n            assert.deepStrictEqual(tipsConfigInitial.tips.specificTips, expectedTipsConfigSpecificTipsBefore);\n            assert.deepStrictEqual(tipsConfigUpdated.tips.generalTips, expectedTipsConfigGeneralTipsAfter);\n            assert.deepStrictEqual(tipsConfigUpdated.tips.specificTips, expectedTipsConfigSpecificTipsAfter);\n        })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7d0b117b-7dec-4365-b0dc-5adf926cc61b&quot;,&quot;parentUUID&quot;:&quot;fa272f67-f92a-4360-9c1b-56bf084e2fdd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should update config after adding a tip to storage&quot;,&quot;fullTitle&quot;:&quot;tipNotificationService updateTipsConfig should update config after adding a tip to storage&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:77,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const mockedTipsNotificationServiceBefore = proxyquire(tipsNotificationServicePath, {\n                \&quot;./tipsStorage\&quot;: {\n                    default: mockedTipsStorageBefore,\n                },\n            })[\&quot;TipNotificationService\&quot;];\n            const mockedTipsNotificationServiceInstanceBefore = mockedTipsNotificationServiceBefore.getInstance();\n            yield settingsHelper_1.SettingsHelper.setShowTips(false);\n            yield mockedTipsNotificationServiceInstanceBefore.initializeTipsConfig();\n            const tipsConfigInitial = (mockedTipsNotificationServiceInstanceBefore).parseDatesInRawConfig(config.get(tipsConfigName));\n            const mockedTipsStorageAfter = {\n                generalTips: {\n                    elementInspector: {\n                        text: \&quot;Element Inspector Tip Text\&quot;,\n                        anchorLink: \&quot;#react-native-commands-in-the-command-palette\&quot;,\n                    },\n                    customEnvVariables: {\n                        text: \&quot;Custom Env Variables Tip Text\&quot;,\n                        anchorLink: \&quot;#custom-environment-variables\&quot;,\n                    },\n                    networkInspector: {\n                        text: \&quot;Network Inspector Tip Text\&quot;,\n                        anchorLink: \&quot;#network-inspector\&quot;,\n                    },\n                },\n                specificTips: {\n                    networkInspectorLogsColorTheme: {\n                        text: \&quot;Network Inspector Logs Tip Text\&quot;,\n                        anchorLink: \&quot;#network-inspector-logs-theme\&quot;,\n                    },\n                },\n            };\n            const mockedTipsNotificationServiceAfter = proxyquire(tipsNotificationServicePath, {\n                \&quot;./tipsStorage\&quot;: {\n                    default: mockedTipsStorageAfter,\n                },\n            })[\&quot;TipNotificationService\&quot;];\n            const mockedTipsNotificationServiceInstanceAfter = mockedTipsNotificationServiceAfter.getInstance();\n            yield mockedTipsNotificationServiceInstanceAfter.updateTipsConfig();\n            const tipsConfigUpdated = (mockedTipsNotificationServiceInstanceAfter).parseDatesInRawConfig(config.get(tipsConfigName));\n            const expectedTipsConfigGeneralTipsAfter = {\n                elementInspector: {},\n                customEnvVariables: {},\n                networkInspector: {},\n            };\n            const expectedTipsConfigSpecificTipsAfter = {\n                networkInspectorLogsColorTheme: {},\n            };\n            assert.notDeepStrictEqual(tipsConfigInitial, tipsConfigUpdated);\n            assert.deepStrictEqual(tipsConfigInitial.tips.generalTips, expectedTipsConfigGeneralTipsBefore);\n            assert.deepStrictEqual(tipsConfigInitial.tips.specificTips, expectedTipsConfigSpecificTipsBefore);\n            assert.deepStrictEqual(tipsConfigUpdated.tips.generalTips, expectedTipsConfigGeneralTipsAfter);\n            assert.deepStrictEqual(tipsConfigUpdated.tips.specificTips, expectedTipsConfigSpecificTipsAfter);\n        })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;3adb4a2b-142f-4022-918a-d98e38ea825e&quot;,&quot;parentUUID&quot;:&quot;fa272f67-f92a-4360-9c1b-56bf084e2fdd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;should update config after updating tips storage&quot;,&quot;fullTitle&quot;:&quot;tipNotificationService updateTipsConfig should update config after updating tips storage&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:78,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;__awaiter(this, void 0, void 0, function* () {\n            const mockedTipsNotificationServiceBefore = proxyquire(tipsNotificationServicePath, {\n                \&quot;./tipsStorage\&quot;: {\n                    default: mockedTipsStorageBefore,\n                },\n            })[\&quot;TipNotificationService\&quot;];\n            const mockedTipsNotificationServiceInstanceBefore = mockedTipsNotificationServiceBefore.getInstance();\n            yield mockedTipsNotificationServiceInstanceBefore.initializeTipsConfig();\n            const tipsConfigInitial = (mockedTipsNotificationServiceInstanceBefore).parseDatesInRawConfig(config.get(tipsConfigName));\n            const mockedTipsStorageAfter = {\n                generalTips: {\n                    elementInspector: {\n                        text: \&quot;Element Inspector Tip Text\&quot;,\n                        anchorLink: \&quot;#react-native-commands-in-the-command-palette\&quot;,\n                    },\n                    networkInspector: {\n                        text: \&quot;Network Inspector Tip Text\&quot;,\n                        anchorLink: \&quot;#network-inspector\&quot;,\n                    },\n                },\n                specificTips: {\n                    networkInspectorLogsColorTheme: {\n                        text: \&quot;Network Inspector Logs Tip Text\&quot;,\n                        anchorLink: \&quot;#network-inspector-logs-theme\&quot;,\n                    },\n                },\n            };\n            const mockedTipsNotificationServiceAfter = proxyquire(tipsNotificationServicePath, {\n                \&quot;./tipsStorage\&quot;: {\n                    default: mockedTipsStorageAfter,\n                },\n            })[\&quot;TipNotificationService\&quot;];\n            const mockedTipsNotificationServiceInstanceAfter = mockedTipsNotificationServiceAfter.getInstance();\n            yield mockedTipsNotificationServiceInstanceAfter.updateTipsConfig();\n            const tipsConfigUpdated = (mockedTipsNotificationServiceInstanceAfter).parseDatesInRawConfig(config.get(tipsConfigName));\n            const expectedTipsConfigGeneralTipsAfter = {\n                elementInspector: {},\n                networkInspector: {},\n            };\n            const expectedTipsConfigSpecificTipsAfter = {\n                networkInspectorLogsColorTheme: {},\n            };\n            assert.notDeepStrictEqual(tipsConfigInitial, tipsConfigUpdated);\n            assert.deepStrictEqual(tipsConfigInitial.tips.generalTips, expectedTipsConfigGeneralTipsBefore);\n            assert.deepStrictEqual(tipsConfigInitial.tips.specificTips, expectedTipsConfigSpecificTipsBefore);\n            assert.deepStrictEqual(tipsConfigUpdated.tips.generalTips, expectedTipsConfigGeneralTipsAfter);\n            assert.deepStrictEqual(tipsConfigUpdated.tips.specificTips, expectedTipsConfigSpecificTipsAfter);\n        })&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;db9bb874-f323-47c7-9363-81305db5ebd7&quot;,&quot;parentUUID&quot;:&quot;fa272f67-f92a-4360-9c1b-56bf084e2fdd&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;7d0b117b-7dec-4365-b0dc-5adf926cc61b&quot;,&quot;3adb4a2b-142f-4022-918a-d98e38ea825e&quot;,&quot;db9bb874-f323-47c7-9363-81305db5ebd7&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:237,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000},{&quot;uuid&quot;:&quot;11e69a3c-dd77-49c5-8365-6c0c413736c7&quot;,&quot;title&quot;:&quot;localizationTest&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/localization/localization.test.js&quot;,&quot;file&quot;:&quot;/test/localization/localization.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;13e7e78e-7cd2-4c4b-86a6-5528457823e4&quot;,&quot;title&quot;:&quot;localizationContext&quot;,&quot;fullFile&quot;:&quot;/home/vsts/work/1/s/test/localization/localization.test.js&quot;,&quot;file&quot;:&quot;/test/localization/localization.test.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;localize should show correct message on Russian for CommandFailed error&quot;,&quot;fullTitle&quot;:&quot;localizationTest localizationContext localize should show correct message on Russian for CommandFailed error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.strictEqual(commandFailedErrorChs.message, \&quot;æ‰§è¡Œå‘½ä»¤ IncorrectCommand æ—¶å‡ºé”™ (error code 101)\&quot;);\ndone();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;00beee4c-7d67-40b9-a135-2a72e88d104b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true},{&quot;title&quot;:&quot;localize should show correct message on Russian for iOSDeployNotFound error&quot;,&quot;fullTitle&quot;:&quot;localizationTest localizationContext localize should show correct message on Russian for iOSDeployNotFound error&quot;,&quot;timedOut&quot;:false,&quot;duration&quot;:0,&quot;pass&quot;:false,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;assert.strictEqual(iosDeployErrorChs.message, \&quot;æ‰¾ä¸åˆ° iOS éƒ¨ç½²ã€‚è¯·ç¡®ä¿å…¨å±€å®‰è£…è¯¥éƒ¨ç½²(npm install -g ios-deploy) (error code 201)\&quot;);\ndone();&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;91654dde-034d-42f5-ae1c-af80859f67b9&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:true}],&quot;suites&quot;:[],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[&quot;00beee4c-7d67-40b9-a135-2a72e88d104b&quot;,&quot;91654dde-034d-42f5-ae1c-af80859f67b9&quot;],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[&quot;810081e1-6f94-4538-b4f7-cf686b5c6b7f&quot;,&quot;2afc5107-6614-4325-ae75-f36953d77819&quot;,&quot;28f91e7c-666e-4ea4-bef9-104fafa13eb1&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:1,&quot;root&quot;:true,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;9.2.0&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:true,&quot;reportFilename&quot;:&quot;Rn-Test-Report&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:true,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;7.1.3&quot;},&quot;marge&quot;:{&quot;options&quot;:{&quot;id&quot;:&quot;default&quot;,&quot;reportDir&quot;:&quot;/home/vsts/work/1/s/mochawesome-report&quot;,&quot;reportFilename&quot;:&quot;Rn-Test-Report&quot;,&quot;quiet&quot;:true},&quot;version&quot;:&quot;6.2.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;Rn-Test-Report&quot;,&quot;reportDir&quot;:&quot;/home/vsts/work/1/s/mochawesome-report&quot;,&quot;reportTitle&quot;:&quot;s&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:true,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:true,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;/home/vsts/work/1/s/mochawesome-report/assets&quot;,&quot;jsonFile&quot;:&quot;/home/vsts/work/1/s/mochawesome-report/Rn-Test-Report.json&quot;,&quot;htmlFile&quot;:&quot;/home/vsts/work/1/s/mochawesome-report/Rn-Test-Report.html&quot;}"><div id="report"></div><script src="assets/app.js"></script></body></html>